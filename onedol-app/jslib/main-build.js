/*
 AngularJS v1.4.3
 (c) 2010-2015 Google, Inc. http://angularjs.org
 License: MIT
*/

/*!
 * Copyright 2015 Drifty Co.
 * http://drifty.com/
 *
 * Ionic, v1.2.4
 * A powerful HTML5 mobile app framework.
 * http://ionicframework.com/
 *
 * By @maxlynch, @benjsperry, @adamdbradley <3
 *
 * Licensed under the MIT license. Please see LICENSE for more information.
 *
 */

/**
 * State-based routing for AngularJS
 * @version v0.2.13
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */

!function(O,U,t){function J(b){return function(){var c,a=arguments[0];for(c="["+(b?b+":":"")+a+"] http://errors.angularjs.org/1.4.3/"+(b?b+"/":"")+a,a=1;a<arguments.length;a++){c=c+(1==a?"?":"&")+"p"+(a-1)+"=";var e,d=encodeURIComponent;e=arguments[a],e="function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?JSON.stringify(e):e,c+=d(e)}return Error(c)}}function Ea(b){if(null==b||Wa(b))return!1;var a="length"in Object(b)&&b.length;return b.nodeType===qa&&a?!0:L(b)||G(b)||0===a||"number"==typeof a&&a>0&&a-1 in b}function m(b,a,c){var d,e;if(b)if(z(b))for(d in b)"prototype"==d||"length"==d||"name"==d||b.hasOwnProperty&&!b.hasOwnProperty(d)||a.call(c,b[d],d,b);else if(G(b)||Ea(b)){var f="object"!=typeof b;for(d=0,e=b.length;e>d;d++)(f||d in b)&&a.call(c,b[d],d,b)}else if(b.forEach&&b.forEach!==m)b.forEach(a,c,b);else if(nc(b))for(d in b)a.call(c,b[d],d,b);else if("function"==typeof b.hasOwnProperty)for(d in b)b.hasOwnProperty(d)&&a.call(c,b[d],d,b);else for(d in b)Xa.call(b,d)&&a.call(c,b[d],d,b);return b}function oc(b,a,c){for(var d=Object.keys(b).sort(),e=0;e<d.length;e++)a.call(c,b[d[e]],d[e]);return d}function pc(b){return function(a,c){b(c,a)}}function Ud(){return++nb}function qc(b,a){a?b.$$hashKey=a:delete b.$$hashKey}function Nb(b,a,c){for(var d=b.$$hashKey,e=0,f=a.length;f>e;++e){var g=a[e];if(H(g)||z(g))for(var h=Object.keys(g),l=0,k=h.length;k>l;l++){var n=h[l],r=g[n];c&&H(r)?aa(r)?b[n]=new Date(r.valueOf()):(H(b[n])||(b[n]=G(r)?[]:{}),Nb(b[n],[r],!0)):b[n]=r}}return qc(b,d),b}function P(b){return Nb(b,za.call(arguments,1),!1)}function Vd(b){return Nb(b,za.call(arguments,1),!0)}function W(b){return parseInt(b,10)}function Ob(b,a){return P(Object.create(b),a)}function v(){}function Ya(b){return b}function ra(b){return function(){return b}}function rc(b){return z(b.toString)&&b.toString!==Object.prototype.toString}function A(b){return"undefined"==typeof b}function w(b){return"undefined"!=typeof b}function H(b){return null!==b&&"object"==typeof b}function nc(b){return null!==b&&"object"==typeof b&&!sc(b)}function L(b){return"string"==typeof b}function V(b){return"number"==typeof b}function aa(b){return"[object Date]"===sa.call(b)}function z(b){return"function"==typeof b}function Za(b){return"[object RegExp]"===sa.call(b)}function Wa(b){return b&&b.window===b}function $a(b){return b&&b.$evalAsync&&b.$watch}function ab(b){return"boolean"==typeof b}function tc(b){return!(!b||!(b.nodeName||b.prop&&b.attr&&b.find))}function Wd(b){var a={};b=b.split(",");var c;for(c=0;c<b.length;c++)a[b[c]]=!0;return a}function ta(b){return M(b.nodeName||b[0]&&b[0].nodeName)}function bb(b,a){var c=b.indexOf(a);return c>=0&&b.splice(c,1),c}function fa(b,a,c,d){if(Wa(b)||$a(b))throw Fa("cpws");if(uc.test(sa.call(a)))throw Fa("cpta");if(a){if(b===a)throw Fa("cpi");c=c||[],d=d||[],H(b)&&(c.push(b),d.push(a));var e;if(G(b))for(e=a.length=0;e<b.length;e++)a.push(fa(b[e],null,c,d));else{var f=a.$$hashKey;if(G(a)?a.length=0:m(a,function(b,c){delete a[c]}),nc(b))for(e in b)a[e]=fa(b[e],null,c,d);else if(b&&"function"==typeof b.hasOwnProperty)for(e in b)b.hasOwnProperty(e)&&(a[e]=fa(b[e],null,c,d));else for(e in b)Xa.call(b,e)&&(a[e]=fa(b[e],null,c,d));qc(a,f)}}else if(a=b,H(b)){if(c&&-1!==(f=c.indexOf(b)))return d[f];if(G(b))return fa(b,[],c,d);if(uc.test(sa.call(b)))a=new b.constructor(b);else if(aa(b))a=new Date(b.getTime());else{if(!Za(b))return e=Object.create(sc(b)),fa(b,e,c,d);a=new RegExp(b.source,b.toString().match(/[^\/]*$/)[0]),a.lastIndex=b.lastIndex}d&&(c.push(b),d.push(a))}return a}function ia(b,a){if(G(b)){a=a||[];for(var c=0,d=b.length;d>c;c++)a[c]=b[c]}else if(H(b))for(c in a=a||{},b)("$"!==c.charAt(0)||"$"!==c.charAt(1))&&(a[c]=b[c]);return a||b}function ka(b,a){if(b===a)return!0;if(null===b||null===a)return!1;if(b!==b&&a!==a)return!0;var d,c=typeof b;if(c==typeof a&&"object"==c){if(!G(b)){if(aa(b))return aa(a)?ka(b.getTime(),a.getTime()):!1;if(Za(b))return Za(a)?b.toString()==a.toString():!1;if($a(b)||$a(a)||Wa(b)||Wa(a)||G(a)||aa(a)||Za(a))return!1;c=ga();for(d in b)if("$"!==d.charAt(0)&&!z(b[d])){if(!ka(b[d],a[d]))return!1;c[d]=!0}for(d in a)if(!(d in c||"$"===d.charAt(0)||a[d]===t||z(a[d])))return!1;return!0}if(!G(a))return!1;if((c=b.length)==a.length){for(d=0;c>d;d++)if(!ka(b[d],a[d]))return!1;return!0}}return!1}function cb(b,a,c){return b.concat(za.call(a,c))}function vc(b,a){var c=2<arguments.length?za.call(arguments,2):[];return!z(a)||a instanceof RegExp?a:c.length?function(){return arguments.length?a.apply(b,cb(c,arguments,0)):a.apply(b,c)}:function(){return arguments.length?a.apply(b,arguments):a.call(b)}}function Xd(b,a){var c=a;return"string"==typeof b&&"$"===b.charAt(0)&&"$"===b.charAt(1)?c=t:Wa(a)?c="$WINDOW":a&&U===a?c="$DOCUMENT":$a(a)&&(c="$SCOPE"),c}function db(b,a){return"undefined"==typeof b?t:(V(a)||(a=a?2:null),JSON.stringify(b,Xd,a))}function wc(b){return L(b)?JSON.parse(b):b}function xc(b,a){var c=Date.parse("Jan 01, 1970 00:00:00 "+b)/6e4;return isNaN(c)?a:c}function Pb(b,a,c){c=c?-1:1;var d=xc(a,b.getTimezoneOffset());return a=b,b=c*(d-b.getTimezoneOffset()),a=new Date(a.getTime()),a.setMinutes(a.getMinutes()+b),a}function ua(b){b=y(b).clone();try{b.empty()}catch(a){}var c=y("<div>").append(b).html();try{return b[0].nodeType===Na?M(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+M(b)})}catch(d){return M(c)}}function yc(b){try{return decodeURIComponent(b)}catch(a){}}function zc(b){var c,d,a={};return m((b||"").split("&"),function(b){b&&(c=b.replace(/\+/g,"%20").split("="),d=yc(c[0]),w(d)&&(b=w(c[1])?yc(c[1]):!0,Xa.call(a,d)?G(a[d])?a[d].push(b):a[d]=[a[d],b]:a[d]=b))}),a}function Qb(b){var a=[];return m(b,function(b,d){G(b)?m(b,function(b){a.push(ma(d,!0)+(!0===b?"":"="+ma(b,!0)))}):a.push(ma(d,!0)+(!0===b?"":"="+ma(b,!0)))}),a.length?a.join("&"):""}function ob(b){return ma(b,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ma(b,a){return encodeURIComponent(b).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,a?"%20":"+")}function Yd(b,a){var c,d,e=Oa.length;for(d=0;e>d;++d)if(c=Oa[d]+a,L(c=b.getAttribute(c)))return c;return null}function Zd(b,a){var c,d,e={};m(Oa,function(a){a+="app",!c&&b.hasAttribute&&b.hasAttribute(a)&&(c=b,d=b.getAttribute(a))}),m(Oa,function(a){a+="app";var e;!c&&(e=b.querySelector("["+a.replace(":","\\:")+"]"))&&(c=e,d=e.getAttribute(a))}),c&&(e.strictDi=null!==Yd(c,"strict-di"),a(c,d?[d]:[],e))}function Ac(b,a,c){H(c)||(c={}),c=P({strictDi:!1},c);var d=function(){if(b=y(b),b.injector()){var d=b[0]===U?"document":ua(b);throw Fa("btstrpd",d.replace(/</,"&lt;").replace(/>/,"&gt;"))}return a=a||[],a.unshift(["$provide",function(a){a.value("$rootElement",b)}]),c.debugInfoEnabled&&a.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]),a.unshift("ng"),d=eb(a,c.strictDi),d.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),d},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;return O&&e.test(O.name)&&(c.debugInfoEnabled=!0,O.name=O.name.replace(e,"")),O&&!f.test(O.name)?d():(O.name=O.name.replace(f,""),ca.resumeBootstrap=function(b){return m(b,function(b){a.push(b)}),d()},void(z(ca.resumeDeferredBootstrap)&&ca.resumeDeferredBootstrap()))}function $d(){O.name="NG_ENABLE_DEBUG_INFO!"+O.name,O.location.reload()}function ae(b){if(b=ca.element(b).injector(),!b)throw Fa("test");return b.get("$$testability")}function Bc(b,a){return a=a||"_",b.replace(be,function(b,d){return(d?a:"")+b.toLowerCase()})}function ce(){var b;if(!Cc){var a=pb();la=O.jQuery,w(a)&&(la=null===a?t:O[a]),la&&la.fn.on?(y=la,P(la.fn,{scope:Pa.scope,isolateScope:Pa.isolateScope,controller:Pa.controller,injector:Pa.injector,inheritedData:Pa.inheritedData}),b=la.cleanData,la.cleanData=function(a){var d;if(Rb)Rb=!1;else for(var f,e=0;null!=(f=a[e]);e++)(d=la._data(f,"events"))&&d.$destroy&&la(f).triggerHandler("$destroy");b(a)}):y=Q,ca.element=y,Cc=!0}}function Sb(b,a,c){if(!b)throw Fa("areq",a||"?",c||"required");return b}function Qa(b,a,c){return c&&G(b)&&(b=b[b.length-1]),Sb(z(b),a,"not a function, got "+(b&&"object"==typeof b?b.constructor.name||"Object":typeof b)),b}function Ra(b,a){if("hasOwnProperty"===b)throw Fa("badname",a)}function Dc(b,a,c){if(!a)return b;a=a.split(".");for(var d,e=b,f=a.length,g=0;f>g;g++)d=a[g],b&&(b=(e=b)[d]);return!c&&z(b)?vc(e,b):b}function qb(b){var a=b[0];b=b[b.length-1];var c=[a];do{if(a=a.nextSibling,!a)break;c.push(a)}while(a!==b);return y(c)}function ga(){return Object.create(null)}function de(b){function a(a,b,c){return a[b]||(a[b]=c())}var c=J("$injector"),d=J("ng");return b=a(b,"angular",Object),b.$$minErr=b.$$minErr||J,a(b,"module",function(){var b={};return function(f,g,h){if("hasOwnProperty"===f)throw d("badname","module");return g&&b.hasOwnProperty(f)&&(b[f]=null),a(b,f,function(){function a(b,c,e,f){return f||(f=d),function(){return f[e||"push"]([b,c,arguments]),C}}function b(a,c){return function(b,e){return e&&z(e)&&(e.$$moduleName=f),d.push([a,c,arguments]),C}}if(!g)throw c("nomod",f);var d=[],e=[],s=[],x=a("$injector","invoke","push",e),C={_invokeQueue:d,_configBlocks:e,_runBlocks:s,requires:g,name:f,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:b("$provide","decorator"),animation:b("$animateProvider","register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),config:x,run:function(a){return s.push(a),this}};return h&&x(h),C})}})}function ee(b){P(b,{bootstrap:Ac,copy:fa,extend:P,merge:Vd,equals:ka,element:y,forEach:m,injector:eb,noop:v,bind:vc,toJson:db,fromJson:wc,identity:Ya,isUndefined:A,isDefined:w,isString:L,isFunction:z,isObject:H,isNumber:V,isElement:tc,isArray:G,version:fe,isDate:aa,lowercase:M,uppercase:rb,callbacks:{counter:0},getTestability:ae,$$minErr:J,$$csp:fb,reloadWithDebugInfo:$d}),gb=de(O);try{gb("ngLocale")}catch(a){gb("ngLocale",[]).provider("$locale",ge)}gb("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:he}),a.provider("$compile",Ec).directive({a:ie,input:Fc,textarea:Fc,form:je,script:ke,select:le,style:me,option:ne,ngBind:oe,ngBindHtml:pe,ngBindTemplate:qe,ngClass:re,ngClassEven:se,ngClassOdd:te,ngCloak:ue,ngController:ve,ngForm:we,ngHide:xe,ngIf:ye,ngInclude:ze,ngInit:Ae,ngNonBindable:Be,ngPluralize:Ce,ngRepeat:De,ngShow:Ee,ngStyle:Fe,ngSwitch:Ge,ngSwitchWhen:He,ngSwitchDefault:Ie,ngOptions:Je,ngTransclude:Ke,ngModel:Le,ngList:Me,ngChange:Ne,pattern:Gc,ngPattern:Gc,required:Hc,ngRequired:Hc,minlength:Ic,ngMinlength:Ic,maxlength:Jc,ngMaxlength:Jc,ngValue:Oe,ngModelOptions:Pe}).directive({ngInclude:Qe}).directive(sb).directive(Kc),a.provider({$anchorScroll:Re,$animate:Se,$$animateQueue:Te,$$AnimateRunner:Ue,$browser:Ve,$cacheFactory:We,$controller:Xe,$document:Ye,$exceptionHandler:Ze,$filter:Lc,$interpolate:$e,$interval:af,$http:bf,$httpParamSerializer:cf,$httpParamSerializerJQLike:df,$httpBackend:ef,$location:ff,$log:gf,$parse:hf,$rootScope:jf,$q:kf,$$q:lf,$sce:mf,$sceDelegate:nf,$sniffer:of,$templateCache:pf,$templateRequest:qf,$$testability:rf,$timeout:sf,$window:tf,$$rAF:uf,$$jqLite:vf,$$HashMap:wf,$$cookieReader:xf})}])}function hb(b){return b.replace(yf,function(a,b,d,e){return e?d.toUpperCase():d}).replace(zf,"Moz$1")}function Mc(b){return b=b.nodeType,b===qa||!b||9===b}function Nc(b,a){var c,d,e=a.createDocumentFragment(),f=[];if(Tb.test(b)){for(c=c||e.appendChild(a.createElement("div")),d=(Af.exec(b)||["",""])[1].toLowerCase(),d=na[d]||na._default,c.innerHTML=d[1]+b.replace(Bf,"<$1></$2>")+d[2],d=d[0];d--;)c=c.lastChild;f=cb(f,c.childNodes),c=e.firstChild,c.textContent=""}else f.push(a.createTextNode(b));return e.textContent="",e.innerHTML="",m(f,function(a){e.appendChild(a)}),e}function Q(b){if(b instanceof Q)return b;var a;if(L(b)&&(b=R(b),a=!0),!(this instanceof Q)){if(a&&"<"!=b.charAt(0))throw Ub("nosel");return new Q(b)}if(a){a=U;var c;b=(c=Cf.exec(b))?[a.createElement(c[1])]:(c=Nc(b,a))?c.childNodes:[]}Oc(this,b)}function Vb(b){return b.cloneNode(!0)}function tb(b,a){if(a||ub(b),b.querySelectorAll)for(var c=b.querySelectorAll("*"),d=0,e=c.length;e>d;d++)ub(c[d])}function Pc(b,a,c,d){if(w(d))throw Ub("offargs");var e=(d=vb(b))&&d.events,f=d&&d.handle;if(f)if(a)m(a.split(" "),function(a){if(w(c)){var d=e[a];if(bb(d||[],c),d&&0<d.length)return}b.removeEventListener(a,f,!1),delete e[a]});else for(a in e)"$destroy"!==a&&b.removeEventListener(a,f,!1),delete e[a]}function ub(b,a){var c=b.ng339,d=c&&ib[c];d&&(a?delete d.data[a]:(d.handle&&(d.events.$destroy&&d.handle({},"$destroy"),Pc(b)),delete ib[c],b.ng339=t))}function vb(b,a){var c=b.ng339,c=c&&ib[c];return a&&!c&&(b.ng339=c=++Df,c=ib[c]={events:{},data:{},handle:t}),c}function Wb(b,a,c){if(Mc(b)){var d=w(c),e=!d&&a&&!H(a),f=!a;if(b=(b=vb(b,!e))&&b.data,d)b[a]=c;else{if(f)return b;if(e)return b&&b[a];P(b,a)}}}function wb(b,a){return b.getAttribute?-1<(" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+a+" "):!1}function xb(b,a){a&&b.setAttribute&&m(a.split(" "),function(a){b.setAttribute("class",R((" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+R(a)+" "," ")))})}function yb(b,a){if(a&&b.setAttribute){var c=(" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");m(a.split(" "),function(a){a=R(a),-1===c.indexOf(" "+a+" ")&&(c+=a+" ")}),b.setAttribute("class",R(c))}}function Oc(b,a){if(a)if(a.nodeType)b[b.length++]=a;else{var c=a.length;if("number"==typeof c&&a.window!==a){if(c)for(var d=0;c>d;d++)b[b.length++]=a[d]}else b[b.length++]=a}}function Qc(b,a){return zb(b,"$"+(a||"ngController")+"Controller")}function zb(b,a,c){for(9==b.nodeType&&(b=b.documentElement),a=G(a)?a:[a];b;){for(var d=0,e=a.length;e>d;d++)if((c=y.data(b,a[d]))!==t)return c;b=b.parentNode||11===b.nodeType&&b.host}}function Rc(b){for(tb(b,!0);b.firstChild;)b.removeChild(b.firstChild)}function Xb(b,a){a||tb(b);var c=b.parentNode;c&&c.removeChild(b)}function Ef(b,a){a=a||O,"complete"===a.document.readyState?a.setTimeout(b):y(a).on("load",b)}function Sc(b,a){var c=Ab[a.toLowerCase()];return c&&Tc[ta(b)]&&c}function Ff(b,a){var c=b.nodeName;return("INPUT"===c||"TEXTAREA"===c)&&Uc[a]}function Gf(b,a){var c=function(c,e){c.isDefaultPrevented=function(){return c.defaultPrevented};var f=a[e||c.type],g=f?f.length:0;if(g){if(A(c.immediatePropagationStopped)){var h=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0,c.stopPropagation&&c.stopPropagation(),h&&h.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped},g>1&&(f=ia(f));for(var l=0;g>l;l++)c.isImmediatePropagationStopped()||f[l].call(b,c)}};return c.elem=b,c}function vf(){this.$get=function(){return P(Q,{hasClass:function(b,a){return b.attr&&(b=b[0]),wb(b,a)},addClass:function(b,a){return b.attr&&(b=b[0]),yb(b,a)},removeClass:function(b,a){return b.attr&&(b=b[0]),xb(b,a)}})}}function Ga(b,a){var c=b&&b.$$hashKey;return c?("function"==typeof c&&(c=b.$$hashKey()),c):(c=typeof b,c="function"==c||"object"==c&&null!==b?b.$$hashKey=c+":"+(a||Ud)():c+":"+b)}function Sa(b,a){if(a){var c=0;this.nextUid=function(){return++c}}m(b,this.put,this)}function Hf(b){return(b=b.toString().replace(Vc,"").match(Wc))?"function("+(b[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function eb(b,a){function c(a){return function(b,c){return H(b)?void m(b,pc(a)):a(b,c)}}function d(a,b){if(Ra(a,"service"),(z(b)||G(b))&&(b=s.instantiate(b)),!b.$get)throw Ha("pget",a);return r[a+"Provider"]=b}function e(a,b){return function(){var c=C.invoke(b,this);if(A(c))throw Ha("undef",a);return c}}function f(a,b,c){return d(a,{$get:!1!==c?e(a,b):b})}function g(a){var c,b=[];return m(a,function(a){function d(a){var b,c;for(b=0,c=a.length;c>b;b++){var e=a[b],f=s.get(e[0]);f[e[1]].apply(f,e[2])}}if(!n.get(a)){n.put(a,!0);try{L(a)?(c=gb(a),b=b.concat(g(c.requires)).concat(c._runBlocks),d(c._invokeQueue),d(c._configBlocks)):z(a)?b.push(s.invoke(a)):G(a)?b.push(s.invoke(a)):Qa(a,"module")}catch(e){throw G(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Ha("modulerr",a,e.stack||e.message||e)}}}),b}function h(b,c){function d(a,e){if(b.hasOwnProperty(a)){if(b[a]===l)throw Ha("cdep",a+" <- "+k.join(" <- "));return b[a]}try{return k.unshift(a),b[a]=l,b[a]=c(a,e)}catch(f){throw b[a]===l&&delete b[a],f}finally{k.shift()}}function e(b,c,f,g){"string"==typeof f&&(g=f,f=null);var l,s,n,h=[],k=eb.$$annotate(b,a,g);for(s=0,l=k.length;l>s;s++){if(n=k[s],"string"!=typeof n)throw Ha("itkn",n);h.push(f&&f.hasOwnProperty(n)?f[n]:d(n,g))}return G(b)&&(b=b[l]),b.apply(c,h)}return{invoke:e,instantiate:function(a,b,c){var d=Object.create((G(a)?a[a.length-1]:a).prototype||null);return a=e(a,d,b,c),H(a)||z(a)?a:d},get:d,annotate:eb.$$annotate,has:function(a){return r.hasOwnProperty(a+"Provider")||b.hasOwnProperty(a)}}}a=!0===a;var l={},k=[],n=new Sa([],!0),r={$provide:{provider:c(d),factory:c(f),service:c(function(a,b){return f(a,["$injector",function(a){return a.instantiate(b)}])}),value:c(function(a,b){return f(a,ra(b),!1)}),constant:c(function(a,b){Ra(a,"constant"),r[a]=b,x[a]=b}),decorator:function(a,b){var c=s.get(a+"Provider"),d=c.$get;c.$get=function(){var a=C.invoke(d,c);return C.invoke(b,null,{$delegate:a})}}}},s=r.$injector=h(r,function(a,b){throw ca.isString(b)&&k.push(b),Ha("unpr",k.join(" <- "))}),x={},C=x.$injector=h(x,function(a,b){var c=s.get(a+"Provider",b);return C.invoke(c.$get,c,t,a)});return m(g(b),function(a){a&&C.invoke(a)}),C}function Re(){var b=!0;this.disableAutoScrolling=function(){b=!1},this.$get=["$window","$location","$rootScope",function(a,c,d){function e(a){var b=null;return Array.prototype.some.call(a,function(a){return"a"===ta(a)?(b=a,!0):void 0}),b}function f(b){if(b){b.scrollIntoView();var c;c=g.yOffset,z(c)?c=c():tc(c)?(c=c[0],c="fixed"!==a.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):V(c)||(c=0),c&&(b=b.getBoundingClientRect().top,a.scrollBy(0,b-c))}else a.scrollTo(0,0)}function g(a){a=L(a)?a:c.hash();var b;a?(b=h.getElementById(a))?f(b):(b=e(h.getElementsByName(a)))?f(b):"top"===a&&f(null):f(null)}var h=a.document;return b&&d.$watch(function(){return c.hash()},function(a,b){a===b&&""===a||Ef(function(){d.$evalAsync(g)})}),g}]}function jb(b,a){return b||a?b?a?(G(b)&&(b=b.join(" ")),G(a)&&(a=a.join(" ")),b+" "+a):b:a:""}function If(b){L(b)&&(b=b.split(" "));var a=ga();return m(b,function(b){b.length&&(a[b]=!0)}),a}function Ia(b){return H(b)?b:{}}function Jf(b,a,c,d){function e(a){try{a.apply(null,za.call(arguments,1))}finally{if(C--,0===C)for(;F.length;)try{F.pop()()}catch(b){c.error(b)}}}function f(){g(),h()}function g(){a:{try{u=n.state;break a}catch(a){}u=void 0}u=A(u)?null:u,ka(u,D)&&(u=D),D=u}function h(){(K!==l.url()||p!==u)&&(K=l.url(),p=u,m(B,function(a){a(l.url(),u)}))}var l=this,k=b.location,n=b.history,r=b.setTimeout,s=b.clearTimeout,x={};l.isMock=!1;var C=0,F=[];l.$$completeOutstandingRequest=e,l.$$incOutstandingRequestCount=function(){C++},l.notifyWhenNoOutstandingRequests=function(a){0===C?a():F.push(a)};var u,p,K=k.href,q=a.find("base"),I=null;g(),p=u,l.url=function(a,c,e){if(A(e)&&(e=null),k!==b.location&&(k=b.location),n!==b.history&&(n=b.history),a){var f=p===e;if(K===a&&(!d.history||f))return l;var h=K&&Ja(K)===Ja(a);return K=a,p=e,!d.history||h&&f?((!h||I)&&(I=a),c?k.replace(a):h?(c=k,e=a.indexOf("#"),a=-1===e?"":a.substr(e),c.hash=a):k.href=a):(n[c?"replaceState":"pushState"](e,"",a),g(),p=u),l}return I||k.href.replace(/%27/g,"'")},l.state=function(){return u};var B=[],N=!1,D=null;l.onUrlChange=function(a){return N||(d.history&&y(b).on("popstate",f),y(b).on("hashchange",f),N=!0),B.push(a),a},l.$$applicationDestroyed=function(){y(b).off("hashchange popstate",f)},l.$$checkUrlChange=h,l.baseHref=function(){var a=q.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""},l.defer=function(a,b){var c;return C++,c=r(function(){delete x[c],e(a)},b||0),x[c]=!0,c},l.defer.cancel=function(a){return x[a]?(delete x[a],s(a),e(v),!0):!1}}function Ve(){this.$get=["$window","$log","$sniffer","$document",function(b,a,c,d){return new Jf(b,d,a,c)}]}function We(){this.$get=function(){function b(b,d){function e(a){a!=r&&(s?s==a&&(s=a.n):s=a,f(a.n,a.p),f(a,r),r=a,r.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(b in a)throw J("$cacheFactory")("iid",b);var g=0,h=P({},d,{id:b}),l={},k=d&&d.capacity||Number.MAX_VALUE,n={},r=null,s=null;return a[b]={put:function(a,b){if(!A(b)){if(k<Number.MAX_VALUE){var c=n[a]||(n[a]={key:a});e(c)}return a in l||g++,l[a]=b,g>k&&this.remove(s.key),b}},get:function(a){if(k<Number.MAX_VALUE){var b=n[a];if(!b)return;e(b)}return l[a]},remove:function(a){if(k<Number.MAX_VALUE){var b=n[a];if(!b)return;b==r&&(r=b.p),b==s&&(s=b.n),f(b.n,b.p),delete n[a]}delete l[a],g--},removeAll:function(){l={},g=0,n={},r=s=null},destroy:function(){n=h=l=null,delete a[b]},info:function(){return P({},h,{size:g})}}}var a={};return b.info=function(){var b={};return m(a,function(a,e){b[e]=a.info()}),b},b.get=function(b){return a[b]},b}}function pf(){this.$get=["$cacheFactory",function(b){return b("templates")}]}function Ec(b,a){function c(a,b,c){var d=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,e={};return m(a,function(a,f){var g=a.match(d);if(!g)throw ea("iscp",b,f,a,c?"controller bindings definition":"isolate scope definition");e[f]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||f}}),e}function d(a){var b=a.charAt(0);if(!b||b!==M(b))throw ea("baddir",a);if(a!==a.trim())throw ea("baddir",a)}var e={},f=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,g=/(([\w\-]+)(?:\:([^;]+))?;?)/,h=Wd("ngSrc,ngSrcset,src,srcset"),l=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,k=/^(on[a-z]+|formaction)$/;this.directive=function s(a,f){return Ra(a,"directive"),L(a)?(d(a),Sb(f,"directiveFactory"),e.hasOwnProperty(a)||(e[a]=[],b.factory(a+"Directive",["$injector","$exceptionHandler",function(b,d){var f=[];return m(e[a],function(e,g){try{var h=b.invoke(e);z(h)?h={compile:ra(h)}:!h.compile&&h.link&&(h.compile=ra(h.link)),h.priority=h.priority||0,h.index=g,h.name=h.name||a,h.require=h.require||h.controller&&h.name,h.restrict=h.restrict||"EA";var k=h,l=h,s=h.name,n={isolateScope:null,bindToController:null};if(H(l.scope)&&(!0===l.bindToController?(n.bindToController=c(l.scope,s,!0),n.isolateScope={}):n.isolateScope=c(l.scope,s,!1)),H(l.bindToController)&&(n.bindToController=c(l.bindToController,s,!0)),H(n.bindToController)){var C=l.controller,$=l.controllerAs;if(!C)throw ea("noctrl",s);var ha;a:if($&&L($))ha=$;else{if(L(C)){var m=Xc.exec(C);if(m){ha=m[3];break a}}ha=void 0}if(!ha)throw ea("noident",s)}var q=k.$$bindings=n;H(q.isolateScope)&&(h.$$isolateBindings=q.isolateScope),h.$$moduleName=e.$$moduleName,f.push(h)}catch(t){d(t)}}),f}])),e[a].push(f)):m(a,pc(s)),this},this.aHrefSanitizationWhitelist=function(b){return w(b)?(a.aHrefSanitizationWhitelist(b),this):a.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(b){return w(b)?(a.imgSrcSanitizationWhitelist(b),this):a.imgSrcSanitizationWhitelist()};var n=!0;this.debugInfoEnabled=function(a){return w(a)?(n=a,this):n},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(a,b,c,d,u,p,K,q,I,B,N){function D(a,b){try{a.addClass(b)}catch(c){}}function Z(a,b,c,d,e){a instanceof y||(a=y(a)),m(a,function(b,c){b.nodeType==Na&&b.nodeValue.match(/\S+/)&&(a[c]=y(b).wrap("<span></span>").parent()[0])});var f=S(a,b,a,c,d,e);Z.$$addScopeClass(a);var g=null;return function(b,c,d){Sb(b,"scope"),d=d||{};var e=d.parentBoundTranscludeFn,h=d.transcludeControllers;if(d=d.futureParentElement,e&&e.$$boundTransclude&&(e=e.$$boundTransclude),g||(g=(d=d&&d[0])?"foreignobject"!==ta(d)&&d.toString().match(/SVG/)?"svg":"html":"html"),d="html"!==g?y(Yb(g,y("<div>").append(a).html())):c?Pa.clone.call(a):a,h)for(var k in h)d.data("$"+k+"Controller",h[k].instance);return Z.$$addScopeInfo(d,b),c&&c(d,b),f&&f(b,d,d,e),d}}function S(a,b,c,d,e,f){function g(a,c,d,e){var f,k,l,s,n,B,C;if(p)for(C=Array(c.length),s=0;s<h.length;s+=3)f=h[s],C[f]=c[f];else C=c;for(s=0,n=h.length;n>s;)k=C[h[s++]],c=h[s++],f=h[s++],c?(c.scope?(l=a.$new(),Z.$$addScopeInfo(y(k),l),(B=c.$$destroyBindings)&&(c.$$destroyBindings=null,l.$on("$destroyed",B))):l=a,B=c.transcludeOnThisElement?$(a,c.transclude,e):!c.templateOnThisElement&&e?e:!e&&b?$(a,b):null,c(f,l,k,d,B,c)):f&&f(a,k.childNodes,t,e)}for(var k,l,s,n,p,h=[],B=0;B<a.length;B++)k=new aa,l=ha(a[B],[],k,0===B?d:t,e),(f=l.length?E(l,a[B],k,b,c,null,[],[],f):null)&&f.scope&&Z.$$addScopeClass(k.$$element),k=f&&f.terminal||!(s=a[B].childNodes)||!s.length?null:S(s,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:b),(f||k)&&(h.push(B,f,k),n=!0,p=p||f),f=null;return n?g:null}function $(a,b,c){return function(d,e,f,g,h){return d||(d=a.$new(!1,h),d.$$transcluded=!0),b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})}}function ha(a,b,c,d,e){var k,h=c.$attr;switch(a.nodeType){case qa:w(b,wa(ta(a)),"E",d,e);for(var l,s,n,p=a.attributes,B=0,C=p&&p.length;C>B;B++){var x=!1,S=!1;l=p[B],k=l.name,s=R(l.value),l=wa(k),(n=ia.test(l))&&(k=k.replace(Zc,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()}));var F=l.replace(/(Start|End)$/,"");A(F)&&l===F+"Start"&&(x=k,S=k.substr(0,k.length-5)+"end",k=k.substr(0,k.length-6)),l=wa(k.toLowerCase()),h[l]=k,(n||!c.hasOwnProperty(l))&&(c[l]=s,Sc(a,l)&&(c[l]=!0)),V(a,b,s,l,n),w(b,l,"A",d,e,x,S)}if(a=a.className,H(a)&&(a=a.animVal),L(a)&&""!==a)for(;k=g.exec(a);)l=wa(k[2]),w(b,l,"C",d,e)&&(c[l]=R(k[3])),a=a.substr(k.index+k[0].length);break;case Na:if(11===Ua)for(;a.parentNode&&a.nextSibling&&a.nextSibling.nodeType===Na;)a.nodeValue+=a.nextSibling.nodeValue,a.parentNode.removeChild(a.nextSibling);xa(b,a.nodeValue);break;case 8:try{(k=f.exec(a.nodeValue))&&(l=wa(k[1]),w(b,l,"M",d,e)&&(c[l]=R(k[2])))}catch($){}}return b.sort(Aa),b}function va(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw ea("uterdir",b,c);a.nodeType==qa&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(e>0)}else d.push(a);return y(d)}function Yc(a,b,c){return function(d,e,f,g,h){return e=va(e[0],b,c),a(d,e,f,g,h)}}function E(a,b,d,e,f,g,h,k,s){function n(a,b,c,d){a&&(c&&(a=Yc(a,c,d)),a.require=E.require,a.directiveName=w,(u===E||E.$$isolateScope)&&(a=X(a,{isolateScope:!0})),h.push(a)),b&&(c&&(b=Yc(b,c,d)),b.require=E.require,b.directiveName=w,(u===E||E.$$isolateScope)&&(b=X(b,{isolateScope:!0})),k.push(b))}function B(a,b,c,d){var e;if(L(b)){var f=b.match(l);b=b.substring(f[0].length);var g=f[1]||f[3],f="?"===f[2];if("^^"===g?c=c.parent():e=(e=d&&d[b])&&e.instance,e||(d="$"+b+"Controller",e=g?c.inheritedData(d):c.data(d)),!e&&!f)throw ea("ctreq",b,a)}else if(G(b))for(e=[],g=0,f=b.length;f>g;g++)e[g]=B(a,b[g],c,d);return e||null}function x(a,b,c,d,e,f){var h,g=ga();for(h in d){var k=d[h],l={$scope:k===u||k.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},s=k.controller;"@"==s&&(s=b[k.name]),l=p(s,l,!0,k.controllerAs),g[k.name]=l,q||a.data("$"+k.name+"Controller",l.instance)}return g}function S(a,c,e,f,g,l){function s(a,b,c){var d;return $a(a)||(c=b,b=a,a=t),q&&(d=m),c||(c=q?ja.parent():ja),g(a,b,d,c,va)}var n,p,C,F,m,ha,ja;if(b===e?(f=d,ja=d.$$element):(ja=y(e),f=new aa(ja,d)),u&&(F=c.$new(!0)),g&&(ha=s,ha.$$boundTransclude=g),N&&(m=x(ja,f,ha,N,F,c)),u&&(Z.$$addScopeInfo(ja,F,!0,!(D&&(D===u||D===u.$$originalDirective))),Z.$$addScopeClass(ja,!0),F.$$isolateBindings=u.$$isolateBindings,W(c,f,F,F.$$isolateBindings,u,F)),m){var I,K=u||$;K&&m[K.name]&&(p=K.$$bindings.bindToController,(C=m[K.name])&&C.identifier&&p&&(I=C,l.$$destroyBindings=W(c,f,C.instance,p,K)));for(n in m){C=m[n];var E=C();E!==C.instance&&(C.instance=E,ja.data("$"+n+"Controller",E),C===I&&(l.$$destroyBindings(),l.$$destroyBindings=W(c,f,E,p,K)))}}for(n=0,l=h.length;l>n;n++)p=h[n],Y(p,p.isolateScope?F:c,ja,f,p.require&&B(p.directiveName,p.require,ja,m),ha);var va=c;for(u&&(u.template||null===u.templateUrl)&&(va=F),a&&a(va,e.childNodes,t,g),n=k.length-1;n>=0;n--)p=k[n],Y(p,p.isolateScope?F:c,ja,f,p.require&&B(p.directiveName,p.require,ja,m),ha)}s=s||{};for(var E,w,v,Aa,F=-Number.MAX_VALUE,$=s.newScopeDirective,N=s.controllerDirectives,u=s.newIsolateScopeDirective,D=s.templateDirective,m=s.nonTlbTranscludeDirective,K=!1,I=!1,q=s.hasElementTranscludeDirective,ba=d.$$element=y(b),A=e,xa=0,Ta=a.length;Ta>xa;xa++){E=a[xa];var M=E.$$start,P=E.$$end;if(M&&(ba=va(b,M,P)),v=t,F>E.priority)break;if((v=E.scope)&&(E.templateUrl||(H(v)?(O("new/isolated scope",u||$,E,ba),u=E):O("new/isolated scope",u,E,ba)),$=$||E),w=E.name,!E.templateUrl&&E.controller&&(v=E.controller,N=N||ga(),O("'"+w+"' controller",N[w],E,ba),N[w]=E),(v=E.transclude)&&(K=!0,E.$$tlb||(O("transclusion",m,E,ba),m=E),"element"==v?(q=!0,F=E.priority,v=ba,ba=d.$$element=y(U.createComment(" "+w+": "+d[w]+" ")),b=ba[0],T(f,za.call(v,0),b),A=Z(v,e,F,g&&g.name,{nonTlbTranscludeDirective:m})):(v=y(Vb(b)).contents(),ba.empty(),A=Z(v,e))),E.template)if(I=!0,O("template",D,E,ba),D=E,v=z(E.template)?E.template(ba,d):E.template,v=fa(v),E.replace){if(g=E,v=Tb.test(v)?$c(Yb(E.templateNamespace,R(v))):[],b=v[0],1!=v.length||b.nodeType!==qa)throw ea("tplrt",w,"");T(f,ba,b),Ta={$attr:{}},v=ha(b,[],Ta);var Q=a.splice(xa+1,a.length-(xa+1));u&&ad(v),a=a.concat(v).concat(Q),J(d,Ta),Ta=a.length}else ba.html(v);if(E.templateUrl)I=!0,O("template",D,E,ba),D=E,E.replace&&(g=E),S=Lf(a.splice(xa,a.length-xa),ba,d,f,K&&A,h,k,{controllerDirectives:N,newScopeDirective:$!==E&&$,newIsolateScopeDirective:u,templateDirective:D,nonTlbTranscludeDirective:m}),Ta=a.length;else if(E.compile)try{Aa=E.compile(ba,d,A),z(Aa)?n(null,Aa,M,P):Aa&&n(Aa.pre,Aa.post,M,P)}catch(Kf){c(Kf,ua(ba))}E.terminal&&(S.terminal=!0,F=Math.max(F,E.priority))}return S.scope=$&&!0===$.scope,S.transcludeOnThisElement=K,S.templateOnThisElement=I,S.transclude=A,s.hasElementTranscludeDirective=q,S}function ad(a){for(var b=0,c=a.length;c>b;b++)a[b]=Ob(a[b],{$$isolateScope:!0})}function w(b,d,f,g,h,k,l){if(d===h)return null;if(h=null,e.hasOwnProperty(d)){var n;d=a.get(d+"Directive");for(var p=0,B=d.length;B>p;p++)try{n=d[p],(g===t||g>n.priority)&&-1!=n.restrict.indexOf(f)&&(k&&(n=Ob(n,{$$start:k,$$end:l})),b.push(n),h=n)}catch(x){c(x)}}return h}function A(b){if(e.hasOwnProperty(b))for(var c=a.get(b+"Directive"),d=0,f=c.length;f>d;d++)if(b=c[d],b.multiElement)return!0;return!1}function J(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;m(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),m(b,function(b,f){"class"==f?(D(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function Lf(a,b,c,e,f,g,h,k){var s,n,l=[],p=b[0],B=a.shift(),C=Ob(B,{templateUrl:null,transclude:null,replace:null,$$originalDirective:B}),x=z(B.templateUrl)?B.templateUrl(b,c):B.templateUrl,N=B.templateNamespace;return b.empty(),d(x).then(function(d){var F,u;if(d=fa(d),B.replace){if(d=Tb.test(d)?$c(Yb(N,R(d))):[],F=d[0],1!=d.length||F.nodeType!==qa)throw ea("tplrt",B.name,x);d={$attr:{}},T(e,b,F);var K=ha(F,[],d);H(B.scope)&&ad(K),a=K.concat(a),J(c,d)}else F=p,b.html(d);for(a.unshift(C),s=E(a,F,c,f,b,B,g,h,k),m(e,function(a,c){a==F&&(e[c]=b[0])}),n=S(b[0].childNodes,f);l.length;){d=l.shift(),u=l.shift();var I=l.shift(),va=l.shift(),K=b[0];if(!d.$$destroyed){if(u!==p){var Z=u.className;k.hasElementTranscludeDirective&&B.replace||(K=Vb(F)),T(I,y(u),K),D(y(K),Z)}u=s.transcludeOnThisElement?$(d,s.transclude,va):va,s(n,d,K,e,u,s)}}l=null}),function(a,b,c,d,e){a=e,b.$$destroyed||(l?l.push(b,c,d,a):(s.transcludeOnThisElement&&(a=$(b,s.transclude,e)),s(n,b,c,d,a,s)))
}}function Aa(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function O(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw ea("multidir",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,ua(d))}function xa(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){a=a.parent();var b=!!a.length;return b&&Z.$$addBindingClass(a),function(a,c){var e=c.parent();b||Z.$$addBindingClass(e),Z.$$addBindingInfo(e,d.expressions),a.$watch(d,function(a){c[0].nodeValue=a})}}})}function Yb(a,b){switch(a=M(a||"html")){case"svg":case"math":var c=U.createElement("div");return c.innerHTML="<"+a+">"+b+"</"+a+">",c.childNodes[0].childNodes;default:return b}}function Q(a,b){if("srcdoc"==b)return I.HTML;var c=ta(a);return"xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b)?I.RESOURCE_URL:void 0}function V(a,c,d,e,f){var g=Q(a,e);f=h[e]||f;var l=b(d,!0,g,f);if(l){if("multiple"===e&&"select"===ta(a))throw ea("selmulti",ua(a));c.push({priority:100,compile:function(){return{pre:function(a,c,h){if(c=h.$$observers||(h.$$observers={}),k.test(e))throw ea("nodomevents");var s=h[e];s!==d&&(l=s&&b(s,!0,g,f),d=s),l&&(h[e]=l(a),(c[e]||(c[e]=[])).$$inter=!0,(h.$$observers&&h.$$observers[e].$$scope||a).$watch(l,function(a,b){"class"===e&&a!=b?h.$updateClass(a,b):h.$set(e,a)}))}}}})}}function T(a,b,c){var g,h,d=b[0],e=b.length,f=d.parentNode;if(a)for(g=0,h=a.length;h>g;g++)if(a[g]==d){a[g++]=c,h=g+e-1;for(var k=a.length;k>g;g++,h++)k>h?a[g]=a[h]:delete a[g];a.length-=e-1,a.context===d&&(a.context=c);break}for(f&&f.replaceChild(c,d),a=U.createDocumentFragment(),a.appendChild(d),y.hasData(d)&&(y(c).data(y(d).data()),la?(Rb=!0,la.cleanData([d])):delete y.cache[d[y.expando]]),d=1,e=b.length;e>d;d++)f=b[d],y(f).remove(),a.appendChild(f),delete b[d];b[0]=c,b.length=1}function X(a,b){return P(function(){return a.apply(null,arguments)},a,b)}function Y(a,b,d,e,f,g){try{a(b,d,e,f,g)}catch(h){c(h,ua(d))}}function W(a,c,d,e,f,g){var h;return m(e,function(e,g){var n,p,B,C,k=e.attrName,l=e.optional,s=e.mode;switch(Xa.call(c,k)||(c[k]=t),s){case"@":c[k]||l||(d[g]=t),c.$observe(k,function(a){d[g]=a}),c.$$observers[k].$$scope=a,c[k]&&(d[g]=b(c[k])(a));break;case"=":if(l&&!c[k])break;p=u(c[k]),C=p.literal?ka:function(a,b){return a===b||a!==a&&b!==b},B=p.assign||function(){throw n=d[g]=p(a),ea("nonassign",c[k],f.name)},n=d[g]=p(a),l=function(b){return C(b,d[g])||(C(b,n)?B(a,b=d[g]):d[g]=b),n=b},l.$stateful=!0,l=e.collection?a.$watchCollection(c[k],l):a.$watch(u(c[k],l),null,p.literal),h=h||[],h.push(l);break;case"&":if(p=u(c[k]),p===v&&l)break;d[g]=function(b){return p(a,b)}}}),e=h?function(){for(var a=0,b=h.length;b>a;++a)h[a]()}:v,g&&e!==v?(g.$on("$destroy",e),v):e}var aa=function(a,b){if(b){var d,e,f,c=Object.keys(b);for(d=0,e=c.length;e>d;d++)f=c[d],this[f]=b[f]}else this.$attr={};this.$$element=a};aa.prototype={$normalize:wa,$addClass:function(a){a&&0<a.length&&B.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&B.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=bd(a,b);c&&c.length&&B.addClass(this.$$element,c),(c=bd(b,a))&&c.length&&B.removeClass(this.$$element,c)},$set:function(a,b,d,e){var f=this.$$element[0],g=Sc(f,a),h=Ff(f,a),f=a;if(g?(this.$$element.prop(a,b),e=g):h&&(this[h]=b,f=h),this[a]=b,e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=Bc(a,"-")),g=ta(this.$$element),"a"===g&&"href"===a||"img"===g&&"src"===a)this[a]=b=N(b,"src"===a);else if("img"===g&&"srcset"===a){for(var g="",h=R(b),k=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,k=/\s/.test(h)?k:/(,)/,h=h.split(k),k=Math.floor(h.length/2),l=0;k>l;l++)var s=2*l,g=g+N(R(h[s]),!0),g=g+(" "+R(h[s+1]));h=R(h[2*l]).split(/\s/),g+=N(R(h[0]),!0),2===h.length&&(g+=" "+R(h[1])),this[a]=b=g}!1!==d&&(null===b||b===t?this.$$element.removeAttr(e):this.$$element.attr(e,b)),(a=this.$$observers)&&m(a[f],function(a){try{a(b)}catch(d){c(d)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=ga()),e=d[a]||(d[a]=[]);return e.push(b),K.$evalAsync(function(){!e.$$inter&&c.hasOwnProperty(a)&&b(c[a])}),function(){bb(e,b)}}};var ca=b.startSymbol(),da=b.endSymbol(),fa="{{"==ca||"}}"==da?Ya:function(a){return a.replace(/\{\{/g,ca).replace(/}}/g,da)},ia=/^ngAttr[A-Z]/;return Z.$$addBindingInfo=n?function(a,b){var c=a.data("$binding")||[];G(b)?c=c.concat(b):c.push(b),a.data("$binding",c)}:v,Z.$$addBindingClass=n?function(a){D(a,"ng-binding")}:v,Z.$$addScopeInfo=n?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",b)}:v,Z.$$addScopeClass=n?function(a,b){D(a,b?"ng-isolate-scope":"ng-scope")}:v,Z}]}function wa(b){return hb(b.replace(Zc,""))}function bd(b,a){var c="",d=b.split(/\s+/),e=a.split(/\s+/),f=0;a:for(;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(0<c.length?" ":"")+g}return c}function $c(b){b=y(b);var a=b.length;if(1>=a)return b;for(;a--;)8===b[a].nodeType&&Mf.call(b,a,1);return b}function Xe(){var b={},a=!1;this.register=function(a,d){Ra(a,"controller"),H(a)?P(b,a):b[a]=d},this.allowGlobals=function(){a=!0},this.$get=["$injector","$window",function(c,d){function e(a,b,c,d){if(!a||!H(a.$scope))throw J("$controller")("noscp",d,b);a.$scope[b]=c}return function(f,g,h,l){var k,n,r;if(h=!0===h,l&&L(l)&&(r=l),L(f)){if(l=f.match(Xc),!l)throw Nf("ctrlfmt",f);n=l[1],r=r||l[3],f=b.hasOwnProperty(n)?b[n]:Dc(g.$scope,n,!0)||(a?Dc(d,n,!0):t),Qa(f,n,!0)}return h?(h=(G(f)?f[f.length-1]:f).prototype,k=Object.create(h||null),r&&e(g,r,k,n||f.name),P(function(){var a=c.invoke(f,k,g,n);return a!==k&&(H(a)||z(a))&&(k=a,r&&e(g,r,k,n||f.name)),k},{instance:k,identifier:r})):(k=c.instantiate(f,g,n),r&&e(g,r,k,n||f.name),k)}}]}function Ye(){this.$get=["$window",function(b){return y(b.document)}]}function Ze(){this.$get=["$log",function(b){return function(){b.error.apply(b,arguments)}}]}function Zb(b){return H(b)?aa(b)?b.toISOString():db(b):b}function cf(){this.$get=function(){return function(b){if(!b)return"";var a=[];return oc(b,function(b,d){null===b||A(b)||(G(b)?m(b,function(b){a.push(ma(d)+"="+ma(Zb(b)))}):a.push(ma(d)+"="+ma(Zb(b))))}),a.join("&")}}}function df(){this.$get=function(){return function(b){function a(b,e,f){null===b||A(b)||(G(b)?m(b,function(b){a(b,e+"[]")}):H(b)&&!aa(b)?oc(b,function(b,c){a(b,e+(f?"":"[")+c+(f?"":"]"))}):c.push(ma(e)+"="+ma(Zb(b))))}if(!b)return"";var c=[];return a(b,"",!0),c.join("&")}}}function $b(b,a){if(L(b)){var c=b.replace(Of,"").trim();if(c){var d=a("Content-Type");(d=d&&0===d.indexOf(cd))||(d=(d=c.match(Pf))&&Qf[d[0]].test(c)),d&&(b=wc(c))}}return b}function dd(b){var c,a=ga();return L(b)?m(b.split("\n"),function(b){c=b.indexOf(":");var e=M(R(b.substr(0,c)));b=R(b.substr(c+1)),e&&(a[e]=a[e]?a[e]+", "+b:b)}):H(b)&&m(b,function(b,c){var f=M(c),g=R(b);f&&(a[f]=a[f]?a[f]+", "+g:g)}),a}function ed(b){var a;return function(c){return a||(a=dd(b)),c?(c=a[M(c)],void 0===c&&(c=null),c):a}}function fd(b,a,c,d){return z(d)?d(b,a,c):(m(d,function(d){b=d(b,a,c)}),b)}function bf(){var b=this.defaults={transformResponse:[$b],transformRequest:[function(a){return H(a)&&"[object File]"!==sa.call(a)&&"[object Blob]"!==sa.call(a)&&"[object FormData]"!==sa.call(a)?db(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ia(ac),put:ia(ac),patch:ia(ac)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},a=!1;this.useApplyAsync=function(b){return w(b)?(a=!!b,this):a};var c=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(d,e,f,g,h,l){function k(a){function c(a){var b=P({},a);return b.data=a.data?fd(a.data,a.headers,a.status,e.transformResponse):a.data,a=a.status,a>=200&&300>a?b:h.reject(b)}function d(a,b){var c,e={};return m(a,function(a,d){z(a)?(c=a(b),null!=c&&(e[d]=c)):e[d]=a}),e}if(!ca.isObject(a))throw J("$http")("badreq",a);var e=P({method:"get",transformRequest:b.transformRequest,transformResponse:b.transformResponse,paramSerializer:b.paramSerializer},a);e.headers=function(a){var f,g,h,c=b.headers,e=P({},a.headers),c=P({},c.common,c[M(a.method)]);a:for(f in c){g=M(f);for(h in e)if(M(h)===g)continue a;e[f]=c[f]}return d(e,ia(a))}(a),e.method=rb(e.method),e.paramSerializer=L(e.paramSerializer)?l.get(e.paramSerializer):e.paramSerializer;var f=[function(a){var d=a.headers,e=fd(a.data,ed(d),t,a.transformRequest);return A(e)&&m(d,function(a,b){"content-type"===M(b)&&delete d[b]}),A(a.withCredentials)&&!A(b.withCredentials)&&(a.withCredentials=b.withCredentials),n(a,e).then(c,c)},t],g=h.when(e);for(m(x,function(a){(a.request||a.requestError)&&f.unshift(a.request,a.requestError),(a.response||a.responseError)&&f.push(a.response,a.responseError)});f.length;){a=f.shift();var k=f.shift(),g=g.then(a,k)}return g.success=function(a){return Qa(a,"fn"),g.then(function(b){a(b.data,b.status,b.headers,e)}),g},g.error=function(a){return Qa(a,"fn"),g.then(null,function(b){a(b.data,b.status,b.headers,e)}),g},g}function n(c,f){function l(b,c,d,e){function f(){n(c,b,d,e)}N&&(b>=200&&300>b?N.put(S,[b,c,dd(d),e]):N.remove(S)),a?g.$applyAsync(f):(f(),g.$$phase||g.$apply())}function n(a,b,d,e){b=Math.max(b,0),(b>=200&&300>b?I.resolve:I.reject)({data:a,status:b,headers:ed(d),config:c,statusText:e})}function x(a){n(a.data,a.status,ia(a.headers()),a.statusText)}function m(){var a=k.pendingRequests.indexOf(c);-1!==a&&k.pendingRequests.splice(a,1)}var N,D,I=h.defer(),B=I.promise,q=c.headers,S=r(c.url,c.paramSerializer(c.params));return k.pendingRequests.push(c),B.then(m,m),!c.cache&&!b.cache||!1===c.cache||"GET"!==c.method&&"JSONP"!==c.method||(N=H(c.cache)?c.cache:H(b.cache)?b.cache:s),N&&(D=N.get(S),w(D)?D&&z(D.then)?D.then(x,x):G(D)?n(D[1],D[0],ia(D[2]),D[3]):n(D,200,{},"OK"):N.put(S,B)),A(D)&&((D=gd(c.url)?e()[c.xsrfCookieName||b.xsrfCookieName]:t)&&(q[c.xsrfHeaderName||b.xsrfHeaderName]=D),d(c.method,S,f,l,q,c.timeout,c.withCredentials,c.responseType)),B}function r(a,b){return 0<b.length&&(a+=(-1==a.indexOf("?")?"?":"&")+b),a}var s=f("$http");b.paramSerializer=L(b.paramSerializer)?l.get(b.paramSerializer):b.paramSerializer;var x=[];return m(c,function(a){x.unshift(L(a)?l.get(a):l.invoke(a))}),k.pendingRequests=[],function(){m(arguments,function(a){k[a]=function(b,c){return k(P({},c||{},{method:a,url:b}))}})}("get","delete","head","jsonp"),function(){m(arguments,function(a){k[a]=function(b,c,d){return k(P({},d||{},{method:a,url:b,data:c}))}})}("post","put","patch"),k.defaults=b,k}]}function Rf(){return new O.XMLHttpRequest}function ef(){this.$get=["$browser","$window","$document",function(b,a,c){return Sf(b,Rf,b.defer,a.angular.callbacks,c[0])}]}function Sf(b,a,c,d,e){function f(a,b,c){var f=e.createElement("script"),n=null;return f.type="text/javascript",f.src=a,f.async=!0,n=function(a){f.removeEventListener("load",n,!1),f.removeEventListener("error",n,!1),e.body.removeChild(f),f=null;var g=-1,x="unknown";a&&("load"!==a.type||d[b].called||(a={type:"error"}),x=a.type,g="error"===a.type?404:200),c&&c(g,x)},f.addEventListener("load",n,!1),f.addEventListener("error",n,!1),e.body.appendChild(f),n}return function(e,h,l,k,n,r,s,x){function C(){p&&p(),K&&K.abort()}function F(a,d,e,f,g){I!==t&&c.cancel(I),p=K=null,a(d,e,f,g),b.$$completeOutstandingRequest(v)}if(b.$$incOutstandingRequestCount(),h=h||b.url(),"jsonp"==M(e)){var u="_"+(d.counter++).toString(36);d[u]=function(a){d[u].data=a,d[u].called=!0};var p=f(h.replace("JSON_CALLBACK","angular.callbacks."+u),u,function(a,b){F(k,a,d[u].data,"",b),d[u]=v})}else{var K=a();if(K.open(e,h,!0),m(n,function(a,b){w(a)&&K.setRequestHeader(b,a)}),K.onload=function(){var a=K.statusText||"",b="response"in K?K.response:K.responseText,c=1223===K.status?204:K.status;0===c&&(c=b?200:"file"==Ba(h).protocol?404:0),F(k,c,b,K.getAllResponseHeaders(),a)},e=function(){F(k,-1,null,null,"")},K.onerror=e,K.onabort=e,s&&(K.withCredentials=!0),x)try{K.responseType=x}catch(q){if("json"!==x)throw q}K.send(l)}if(r>0)var I=c(C,r);else r&&z(r.then)&&r.then(C)}}function $e(){var b="{{",a="}}";this.startSymbol=function(a){return a?(b=a,this):b},this.endSymbol=function(b){return b?(a=b,this):a},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(n,b).replace(r,a)}function h(f,h,n,r){function u(a){try{var b=a;a=n?e.getTrusted(n,b):e.valueOf(b);var c;if(r&&!w(a))c=a;else if(null==a)c="";else{switch(typeof a){case"string":break;case"number":a=""+a;break;default:a=db(a)}c=a}return c}catch(g){d(Ka.interr(f,g))}}r=!!r;for(var p,m,q=0,I=[],B=[],N=f.length,D=[],t=[];N>q;){if(-1==(p=f.indexOf(b,q))||-1==(m=f.indexOf(a,p+l))){q!==N&&D.push(g(f.substring(q)));break}q!==p&&D.push(g(f.substring(q,p))),q=f.substring(p+l,m),I.push(q),B.push(c(q,u)),q=m+k,t.push(D.length),D.push("")}if(n&&1<D.length&&Ka.throwNoconcat(f),!h||I.length){var S=function(a){for(var b=0,c=I.length;c>b;b++){if(r&&A(a[b]))return;D[t[b]]=a[b]}return D.join("")};return P(function(a){var b=0,c=I.length,e=Array(c);try{for(;c>b;b++)e[b]=B[b](a);return S(e)}catch(g){d(Ka.interr(f,g))}},{exp:f,expressions:I,$$watchDelegate:function(a,b){var c;return a.$watchGroup(B,function(d,e){var f=S(d);z(b)&&b.call(this,f,d!==e?c:f,a),c=f})}})}}var l=b.length,k=a.length,n=new RegExp(b.replace(/./g,f),"g"),r=new RegExp(a.replace(/./g,f),"g");return h.startSymbol=function(){return b},h.endSymbol=function(){return a},h}]}function af(){this.$get=["$rootScope","$window","$q","$$q",function(b,a,c,d){function e(e,h,l,k){var n=4<arguments.length,r=n?za.call(arguments,4):[],s=a.setInterval,x=a.clearInterval,C=0,F=w(k)&&!k,u=(F?d:c).defer(),p=u.promise;return l=w(l)?l:0,p.then(null,null,n?function(){e.apply(null,r)}:e),p.$$intervalId=s(function(){u.notify(C++),l>0&&C>=l&&(u.resolve(C),x(p.$$intervalId),delete f[p.$$intervalId]),F||b.$apply()},h),f[p.$$intervalId]=u,p}var f={};return e.cancel=function(b){return b&&b.$$intervalId in f?(f[b.$$intervalId].reject("canceled"),a.clearInterval(b.$$intervalId),delete f[b.$$intervalId],!0):!1},e}]}function ge(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(b){return 1===b?"one":"other"}}}}function bc(b){b=b.split("/");for(var a=b.length;a--;)b[a]=ob(b[a]);return b.join("/")}function hd(b,a){var c=Ba(b);a.$$protocol=c.protocol,a.$$host=c.hostname,a.$$port=W(c.port)||Tf[c.protocol]||null}function id(b,a){var c="/"!==b.charAt(0);c&&(b="/"+b);var d=Ba(b);a.$$path=decodeURIComponent(c&&"/"===d.pathname.charAt(0)?d.pathname.substring(1):d.pathname),a.$$search=zc(d.search),a.$$hash=decodeURIComponent(d.hash),a.$$path&&"/"!=a.$$path.charAt(0)&&(a.$$path="/"+a.$$path)}function ya(b,a){return 0===a.indexOf(b)?a.substr(b.length):void 0}function Ja(b){var a=b.indexOf("#");return-1==a?b:b.substr(0,a)}function Bb(b){return b.replace(/(#.+)|#$/,"$1")}function cc(b){return b.substr(0,Ja(b).lastIndexOf("/")+1)}function dc(b,a){this.$$html5=!0,a=a||"";var c=cc(b);hd(b,this),this.$$parse=function(a){var b=ya(c,a);if(!L(b))throw Cb("ipthprfx",a,c);id(b,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=Qb(this.$$search),b=this.$$hash?"#"+ob(this.$$hash):"";this.$$url=bc(this.$$path)+(a?"?"+a:"")+b,this.$$absUrl=c+this.$$url.substr(1)},this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return(f=ya(b,d))!==t?(g=f,g=(f=ya(a,f))!==t?c+(ya("/",f)||f):b+g):(f=ya(c,d))!==t?g=c+f:c==d+"/"&&(g=c),g&&this.$$parse(g),!!g}}function ec(b,a){var c=cc(b);hd(b,this),this.$$parse=function(d){var f,e=ya(b,d)||ya(c,d);A(e)||"#"!==e.charAt(0)?this.$$html5?f=e:(f="",A(e)&&(b=d,this.replace())):(f=ya(a,e),A(f)&&(f=e)),id(f,this),d=this.$$path;var e=b,g=/^\/[A-Z]:(\/.*)/;0===f.indexOf(e)&&(f=f.replace(e,"")),g.exec(f)||(d=(f=g.exec(d))?f[1]:d),this.$$path=d,this.$$compose()},this.$$compose=function(){var c=Qb(this.$$search),e=this.$$hash?"#"+ob(this.$$hash):"";this.$$url=bc(this.$$path)+(c?"?"+c:"")+e,this.$$absUrl=b+(this.$$url?a+this.$$url:"")},this.$$parseLinkUrl=function(a){return Ja(b)==Ja(a)?(this.$$parse(a),!0):!1}}function jd(b,a){this.$$html5=!0,ec.apply(this,arguments);var c=cc(b);this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return b==Ja(d)?f=d:(g=ya(c,d))?f=b+a+g:c===d+"/"&&(f=c),f&&this.$$parse(f),!!f},this.$$compose=function(){var c=Qb(this.$$search),e=this.$$hash?"#"+ob(this.$$hash):"";this.$$url=bc(this.$$path)+(c?"?"+c:"")+e,this.$$absUrl=b+a+this.$$url}}function Db(b){return function(){return this[b]}}function kd(b,a){return function(c){return A(c)?this[b]:(this[b]=a(c),this.$$compose(),this)}}function ff(){var b="",a={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(a){return w(a)?(b=a,this):b},this.html5Mode=function(b){return ab(b)?(a.enabled=b,this):H(b)?(ab(b.enabled)&&(a.enabled=b.enabled),ab(b.requireBase)&&(a.requireBase=b.requireBase),ab(b.rewriteLinks)&&(a.rewriteLinks=b.rewriteLinks),this):a},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,d,e,f,g){function h(a,b,c){var e=k.url(),f=k.$$state;try{d.url(a,b,c),k.$$state=d.state()}catch(g){throw k.url(e),k.$$state=f,g}}function l(a,b){c.$broadcast("$locationChangeSuccess",k.absUrl(),a,k.$$state,b)}var k,n;n=d.baseHref();var s,r=d.url();if(a.enabled){if(!n&&a.requireBase)throw Cb("nobase");s=r.substring(0,r.indexOf("/",r.indexOf("//")+2))+(n||"/"),n=e.history?dc:jd}else s=Ja(r),n=ec;k=new n(s,"#"+b),k.$$parseLinkUrl(r,r),k.$$state=d.state();var x=/^\s*(javascript|mailto):/i;f.on("click",function(b){if(a.rewriteLinks&&!b.ctrlKey&&!b.metaKey&&!b.shiftKey&&2!=b.which&&2!=b.button){for(var e=y(b.target);"a"!==ta(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop("href"),l=e.attr("href")||e.attr("xlink:href");H(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=Ba(h.animVal).href),x.test(h)||!h||e.attr("target")||b.isDefaultPrevented()||!k.$$parseLinkUrl(h,l)||(b.preventDefault(),k.absUrl()!=d.url()&&(c.$apply(),g.angular["ff-684208-preventDefault"]=!0))}}),Bb(k.absUrl())!=Bb(r)&&d.url(k.absUrl(),!0);var C=!0;return d.onUrlChange(function(a,b){c.$evalAsync(function(){var f,d=k.absUrl(),e=k.$$state;k.$$parse(a),k.$$state=b,f=c.$broadcast("$locationChangeStart",a,d,b,e).defaultPrevented,k.absUrl()===a&&(f?(k.$$parse(d),k.$$state=e,h(d,!1,e)):(C=!1,l(d,e)))}),c.$$phase||c.$digest()}),c.$watch(function(){var a=Bb(d.url()),b=Bb(k.absUrl()),f=d.state(),g=k.$$replace,n=a!==b||k.$$html5&&e.history&&f!==k.$$state;(C||n)&&(C=!1,c.$evalAsync(function(){var b=k.absUrl(),d=c.$broadcast("$locationChangeStart",b,a,k.$$state,f).defaultPrevented;k.absUrl()===b&&(d?(k.$$parse(a),k.$$state=f):(n&&h(b,g,f===k.$$state?null:k.$$state),l(a,f)))})),k.$$replace=!1}),k}]}function gf(){var b=!0,a=this;this.debugEnabled=function(a){return w(a)?(b=a,this):b},this.$get=["$window",function(c){function d(a){return a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function e(a){var b=c.console||{},e=b[a]||b.log||v;a=!1;try{a=!!e.apply}catch(l){}return a?function(){var a=[];return m(arguments,function(b){a.push(d(b))}),e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){b&&c.apply(a,arguments)}}()}}]}function Ca(b,a){if("__defineGetter__"===b||"__defineSetter__"===b||"__lookupGetter__"===b||"__lookupSetter__"===b||"__proto__"===b)throw da("isecfld",a);return b}function oa(b,a){if(b){if(b.constructor===b)throw da("isecfn",a);if(b.window===b)throw da("isecwindow",a);if(b.children&&(b.nodeName||b.prop&&b.attr&&b.find))throw da("isecdom",a);if(b===Object)throw da("isecobj",a)}return b}function ld(b,a){if(b){if(b.constructor===b)throw da("isecfn",a);if(b===Uf||b===Vf||b===Wf)throw da("isecff",a)}}function Xf(b,a){return"undefined"!=typeof b?b:a}function md(b,a){return"undefined"==typeof b?a:"undefined"==typeof a?b:b+a}function T(b,a){var c,d;switch(b.type){case q.Program:c=!0,m(b.body,function(b){T(b.expression,a),c=c&&b.expression.constant}),b.constant=c;break;case q.Literal:b.constant=!0,b.toWatch=[];break;case q.UnaryExpression:T(b.argument,a),b.constant=b.argument.constant,b.toWatch=b.argument.toWatch;break;case q.BinaryExpression:T(b.left,a),T(b.right,a),b.constant=b.left.constant&&b.right.constant,b.toWatch=b.left.toWatch.concat(b.right.toWatch);break;case q.LogicalExpression:T(b.left,a),T(b.right,a),b.constant=b.left.constant&&b.right.constant,b.toWatch=b.constant?[]:[b];break;case q.ConditionalExpression:T(b.test,a),T(b.alternate,a),T(b.consequent,a),b.constant=b.test.constant&&b.alternate.constant&&b.consequent.constant,b.toWatch=b.constant?[]:[b];break;case q.Identifier:b.constant=!1,b.toWatch=[b];break;case q.MemberExpression:T(b.object,a),b.computed&&T(b.property,a),b.constant=b.object.constant&&(!b.computed||b.property.constant),b.toWatch=[b];break;case q.CallExpression:c=b.filter?!a(b.callee.name).$stateful:!1,d=[],m(b.arguments,function(b){T(b,a),c=c&&b.constant,b.constant||d.push.apply(d,b.toWatch)}),b.constant=c,b.toWatch=b.filter&&!a(b.callee.name).$stateful?d:[b];break;case q.AssignmentExpression:T(b.left,a),T(b.right,a),b.constant=b.left.constant&&b.right.constant,b.toWatch=[b];break;case q.ArrayExpression:c=!0,d=[],m(b.elements,function(b){T(b,a),c=c&&b.constant,b.constant||d.push.apply(d,b.toWatch)}),b.constant=c,b.toWatch=d;break;case q.ObjectExpression:c=!0,d=[],m(b.properties,function(b){T(b.value,a),c=c&&b.value.constant,b.value.constant||d.push.apply(d,b.value.toWatch)}),b.constant=c,b.toWatch=d;break;case q.ThisExpression:b.constant=!1,b.toWatch=[]}}function nd(b){if(1==b.length){b=b[0].expression;var a=b.toWatch;return 1!==a.length?a:a[0]!==b?a:t}}function od(b){return b.type===q.Identifier||b.type===q.MemberExpression}function pd(b){return 1===b.body.length&&od(b.body[0].expression)?{type:q.AssignmentExpression,left:b.body[0].expression,right:{type:q.NGValueParameter},operator:"="}:void 0}function qd(b){return 0===b.body.length||1===b.body.length&&(b.body[0].expression.type===q.Literal||b.body[0].expression.type===q.ArrayExpression||b.body[0].expression.type===q.ObjectExpression)}function rd(b,a){this.astBuilder=b,this.$filter=a}function sd(b,a){this.astBuilder=b,this.$filter=a}function Eb(b,a,c,d){oa(b,d),a=a.split(".");for(var e,f=0;1<a.length;f++){e=Ca(a.shift(),d);var g=oa(b[e],d);g||(g={},b[e]=g),b=g}return e=Ca(a.shift(),d),oa(b[e],d),b[e]=c}function Fb(b){return"constructor"==b}function fc(b){return z(b.valueOf)?b.valueOf():Yf.call(b)}function hf(){var b=ga(),a=ga();this.$get=["$filter","$sniffer",function(c,d){function e(a,b){return null==a||null==b?a===b:"object"==typeof a&&(a=fc(a),"object"==typeof a)?!1:a===b||a!==a&&b!==b}function f(a,b,c,d,f){var h,g=d.inputs;if(1===g.length){var k=e,g=g[0];return a.$watch(function(a){var b=g(a);return e(b,k)||(h=d(a,t,t,[b]),k=b&&fc(b)),h},b,c,f)}for(var l=[],n=[],r=0,m=g.length;m>r;r++)l[r]=e,n[r]=null;return a.$watch(function(a){for(var b=!1,c=0,f=g.length;f>c;c++){var k=g[c](a);(b||(b=!e(k,l[c])))&&(n[c]=k,l[c]=k&&fc(k))}return b&&(h=d(a,t,t,n)),h},b,c,f)}function g(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a,z(b)&&b.apply(this,arguments),w(a)&&d.$$postDigest(function(){w(f)&&e()})},c)}function h(a,b,c,d){function e(a){var b=!0;return m(a,function(a){w(a)||(b=!1)}),b}var f,g;return f=a.$watch(function(a){return d(a)},function(a,c,d){g=a,z(b)&&b.call(this,a,c,d),e(a)&&d.$$postDigest(function(){e(g)&&f()})},c)}function l(a,b,c,d){var e;return e=a.$watch(function(a){return d(a)},function(){z(b)&&b.apply(this,arguments),e()},c)}function k(a,b){if(!b)return a;var c=a.$$watchDelegate,c=c!==h&&c!==g?function(c,d,e,f){return e=a(c,d,e,f),b(e,c,d)}:function(c,d,e,f){return e=a(c,d,e,f),c=b(e,c,d),w(e)?c:e};return a.$$watchDelegate&&a.$$watchDelegate!==f?c.$$watchDelegate=a.$$watchDelegate:b.$stateful||(c.$$watchDelegate=f,c.inputs=a.inputs?a.inputs:[a]),c}var n={csp:d.csp,expensiveChecks:!1},r={csp:d.csp,expensiveChecks:!0};return function(d,e,C){var m,u,p;switch(typeof d){case"string":p=d=d.trim();var q=C?a:b;return m=q[p],m||(":"===d.charAt(0)&&":"===d.charAt(1)&&(u=!0,d=d.substring(2)),C=C?r:n,m=new gc(C),m=new hc(m,c,C).parse(d),m.constant?m.$$watchDelegate=l:u?m.$$watchDelegate=m.literal?h:g:m.inputs&&(m.$$watchDelegate=f),q[p]=m),k(m,e);case"function":return k(d,e);default:return v}}}]}function kf(){this.$get=["$rootScope","$exceptionHandler",function(b,a){return td(function(a){b.$evalAsync(a)},a)}]}function lf(){this.$get=["$browser","$exceptionHandler",function(b,a){return td(function(a){b.defer(a)},a)}]}function td(b,a){function c(a,b,c){function d(b){return function(c){e||(e=!0,b.call(a,c))}}var e=!1;return[d(b),d(c)]}function d(){this.$$state={status:0}}function e(a,b){return function(c){b.call(a,c)}}function f(c){!c.processScheduled&&c.pending&&(c.processScheduled=!0,b(function(){var b,d,e;e=c.pending,c.processScheduled=!1,c.pending=t;for(var f=0,g=e.length;g>f;++f){d=e[f][0],b=e[f][c.status];try{z(b)?d.resolve(b(c.value)):1===c.status?d.resolve(c.value):d.reject(c.value)}catch(h){d.reject(h),a(h)}}}))}function g(){this.promise=new d,this.resolve=e(this,this.resolve),this.reject=e(this,this.reject),this.notify=e(this,this.notify)}var h=J("$q",TypeError);d.prototype={then:function(a,b,c){var d=new g;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([d,a,b,c]),0<this.$$state.status&&f(this.$$state),d.promise},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return k(b,!0,a)},function(b){return k(b,!1,a)},b)}},g.prototype={resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(h("qcycle",a)):this.$$resolve(a))},$$resolve:function(b){var d,e;e=c(this,this.$$resolve,this.$$reject);try{(H(b)||z(b))&&(d=b&&b.then),z(d)?(this.promise.$$state.status=-1,d.call(b,e[0],e[1],this.notify)):(this.promise.$$state.value=b,this.promise.$$state.status=1,f(this.promise.$$state))}catch(g){e[1](g),a(g)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a,this.promise.$$state.status=2,f(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;0>=this.promise.$$state.status&&d&&d.length&&b(function(){for(var b,e,f=0,g=d.length;g>f;f++){e=d[f][0],b=d[f][3];try{e.notify(z(b)?b(c):c)}catch(h){a(h)}}})}};var l=function(a,b){var c=new g;return b?c.resolve(a):c.reject(a),c.promise},k=function(a,b,c){var d=null;try{z(c)&&(d=c())}catch(e){return l(e,!1)}return d&&z(d.then)?d.then(function(){return l(a,b)},function(a){return l(a,!1)}):l(a,b)},n=function(a,b,c,d){var e=new g;return e.resolve(a),e.promise.then(b,c,d)},r=function x(a){if(!z(a))throw h("norslvr",a);if(!(this instanceof x))return new x(a);var b=new g;return a(function(a){b.resolve(a)},function(a){b.reject(a)}),b.promise};return r.defer=function(){return new g},r.reject=function(a){var b=new g;return b.reject(a),b.promise},r.when=n,r.resolve=n,r.all=function(a){var b=new g,c=0,d=G(a)?[]:{};return m(a,function(a,e){c++,n(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})}),0===c&&b.resolve(d),b.promise},r}function uf(){this.$get=["$window","$timeout",function(b,a){function c(){for(var a=0;a<n.length;a++){var b=n[a];b&&(n[a]=null,b())}k=n.length=0}function d(a){var b=n.length;return k++,n.push(a),0===b&&(l=h(c)),function(){b>=0&&(b=n[b]=null,0===--k&&l&&(l(),l=null,n.length=0))}}var e=b.requestAnimationFrame||b.webkitRequestAnimationFrame,f=b.cancelAnimationFrame||b.webkitCancelAnimationFrame||b.webkitCancelRequestAnimationFrame,g=!!e,h=g?function(a){var b=e(a);return function(){f(b)}}:function(b){var c=a(b,16.66,!1);return function(){a.cancel(c)}};d.supported=g;var l,k=0,n=[];return d}]}function jf(){function b(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++nb,this.$$ChildScope=null}return b.prototype=a,b}var a=10,c=J("$rootScope"),d=null,e=null;this.digestTtl=function(b){return arguments.length&&(a=b),a},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(f,g,h,l){function k(a){a.currentScope.$$destroyed=!0}function n(){this.$id=++nb,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function r(a){if(p.$$phase)throw c("inprog",p.$$phase);p.$$phase=a}function s(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function x(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function q(){}function F(){for(;I.length;)try{I.shift()()}catch(a){g(a)}e=null}function u(){null===e&&(e=l.defer(function(){p.$apply(F)}))}n.prototype={constructor:n,$new:function(a,c){var d;return c=c||this,a?(d=new n,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=b(this)),d=new this.$$ChildScope),d.$parent=c,d.$$prevSibling=c.$$childTail,c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d,(a||c!=this)&&d.$on("$destroy",k),d},$watch:function(a,b,c,e){var f=h(a);if(f.$$watchDelegate)return f.$$watchDelegate(this,b,c,f,a);var g=this,k=g.$$watchers,l={fn:b,last:q,get:f,exp:e||a,eq:!!c};return d=null,z(b)||(l.fn=v),k||(k=g.$$watchers=[]),k.unshift(l),s(this,1),function(){0<=bb(k,l)&&s(g,-1),d=null}},$watchGroup:function(a,b){function c(){h=!1,k?(k=!1,b(e,e,g)):b(e,d,g)}var d=Array(a.length),e=Array(a.length),f=[],g=this,h=!1,k=!0;if(!a.length){var l=!0;return g.$evalAsync(function(){l&&b(e,e,g)}),function(){l=!1}}return 1===a.length?this.$watch(a[0],function(a,c,f){e[0]=a,d[0]=c,b(e,a===c?e:d,f)}):(m(a,function(a,b){var k=g.$watch(a,function(a,f){e[b]=a,d[b]=f,h||(h=!0,g.$evalAsync(c))});f.push(k)}),function(){for(;f.length;)f.shift()()})},$watchCollection:function(a,b){function c(a){e=a;var b,d,g,h;if(!A(e)){if(H(e))if(Ea(e))for(f!==r&&(f=r,m=f.length=0,l++),a=e.length,m!==a&&(l++,f.length=m=a),b=0;a>b;b++)h=f[b],g=e[b],d=h!==h&&g!==g,d||h===g||(l++,f[b]=g);else{f!==s&&(f=s={},m=0,l++),a=0;for(b in e)e.hasOwnProperty(b)&&(a++,g=e[b],h=f[b],b in f?(d=h!==h&&g!==g,d||h===g||(l++,f[b]=g)):(m++,f[b]=g,l++));if(m>a)for(b in l++,f)e.hasOwnProperty(b)||(m--,delete f[b])}else f!==e&&(f=e,l++);return l}}c.$stateful=!0;var e,f,g,d=this,k=1<b.length,l=0,n=h(a,c),r=[],s={},p=!0,m=0;return this.$watch(n,function(){if(p?(p=!1,b(e,e,d)):b(e,g,d),k)if(H(e))if(Ea(e)){g=Array(e.length);for(var a=0;a<e.length;a++)g[a]=e[a]}else for(a in g={},e)Xa.call(e,a)&&(g[a]=e[a]);else g=e})},$digest:function(){var b,f,h,k,n,s,x,E,I,m=a,u=[];r("$digest"),l.$$checkUrlChange(),this===p&&null!==e&&(l.defer.cancel(e),F()),d=null;do{for(s=!1,x=this;t.length;){try{I=t.shift(),I.scope.$eval(I.expression,I.locals)}catch(v){g(v)}d=null}a:do{if(k=x.$$watchers)for(n=k.length;n--;)try{if(b=k[n])if((f=b.get(x))===(h=b.last)||(b.eq?ka(f,h):"number"==typeof f&&"number"==typeof h&&isNaN(f)&&isNaN(h))){if(b===d){s=!1;
break a}}else s=!0,d=b,b.last=b.eq?fa(f,null):f,b.fn(f,h===q?f:h,x),5>m&&(E=4-m,u[E]||(u[E]=[]),u[E].push({msg:z(b.exp)?"fn: "+(b.exp.name||b.exp.toString()):b.exp,newVal:f,oldVal:h}))}catch(A){g(A)}if(!(k=x.$$watchersCount&&x.$$childHead||x!==this&&x.$$nextSibling))for(;x!==this&&!(k=x.$$nextSibling);)x=x.$parent}while(x=k);if((s||t.length)&&!m--)throw p.$$phase=null,c("infdig",a,u)}while(s||t.length);for(p.$$phase=null;w.length;)try{w.shift()()}catch(y){g(y)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===p&&l.$$applicationDestroyed(),s(this,-this.$$watchersCount);for(var b in this.$$listenerCount)x(this,this.$$listenerCount[b],b);a&&a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a&&a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=v,this.$on=this.$watch=this.$watchGroup=function(){return v},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(a,b){return h(a)(this,b)},$evalAsync:function(a,b){p.$$phase||t.length||l.defer(function(){t.length&&p.$digest()}),t.push({scope:this,expression:a,locals:b})},$$postDigest:function(a){w.push(a)},$apply:function(a){try{return r("$apply"),this.$eval(a)}catch(b){g(b)}finally{p.$$phase=null;try{p.$digest()}catch(c){throw g(c),c}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&I.push(b),u()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,x(e,1,a))}},$emit:function(a){var d,l,n,c=[],e=this,f=!1,h={name:a,targetScope:e,stopPropagation:function(){f=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},k=cb([h],arguments,1);do{for(d=e.$$listeners[a]||c,h.currentScope=e,l=0,n=d.length;n>l;l++)if(d[l])try{d[l].apply(null,k)}catch(r){g(r)}else d.splice(l,1),l--,n--;if(f)return h.currentScope=null,h;e=e.$parent}while(e);return h.currentScope=null,h},$broadcast:function(a){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var h,k,f=cb([e],arguments,1);c=d;){for(e.currentScope=c,d=c.$$listeners[a]||[],h=0,k=d.length;k>h;h++)if(d[h])try{d[h].apply(null,f)}catch(l){g(l)}else d.splice(h,1),h--,k--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}return e.currentScope=null,e}};var p=new n,t=p.$$asyncQueue=[],w=p.$$postDigestQueue=[],I=p.$$applyAsyncQueue=[];return p}]}function he(){var b=/^\s*(https?|ftp|mailto|tel|file):/,a=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(a){return w(a)?(b=a,this):b},this.imgSrcSanitizationWhitelist=function(b){return w(b)?(a=b,this):a},this.$get=function(){return function(c,d){var f,e=d?a:b;return f=Ba(c).href,""===f||f.match(e)?c:"unsafe:"+f}}}function Zf(b){if("self"===b)return b;if(L(b)){if(-1<b.indexOf("***"))throw Da("iwcard",b);return b=ud(b).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+b+"$")}if(Za(b))return new RegExp("^"+b.source+"$");throw Da("imatcher")}function vd(b){var a=[];return w(b)&&m(b,function(b){a.push(Zf(b))}),a}function nf(){this.SCE_CONTEXTS=pa;var b=["self"],a=[];this.resourceUrlWhitelist=function(a){return arguments.length&&(b=vd(a)),b},this.resourceUrlBlacklist=function(b){return arguments.length&&(a=vd(b)),a},this.$get=["$injector",function(c){function d(a,b){return"self"===a?gd(b):!!a.exec(b.href)}function e(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}var f=function(){throw Da("unsafe")};c.has("$sanitize")&&(f=c.get("$sanitize"));var g=e(),h={};return h[pa.HTML]=e(g),h[pa.CSS]=e(g),h[pa.URL]=e(g),h[pa.JS]=e(g),h[pa.RESOURCE_URL]=e(h[pa.URL]),{trustAs:function(a,b){var c=h.hasOwnProperty(a)?h[a]:null;if(!c)throw Da("icontext",a,b);if(null===b||b===t||""===b)return b;if("string"!=typeof b)throw Da("itype",a);return new c(b)},getTrusted:function(c,e){if(null===e||e===t||""===e)return e;var g=h.hasOwnProperty(c)?h[c]:null;if(g&&e instanceof g)return e.$$unwrapTrustedValue();if(c===pa.RESOURCE_URL){var r,s,g=Ba(e.toString()),m=!1;for(r=0,s=b.length;s>r;r++)if(d(b[r],g)){m=!0;break}if(m)for(r=0,s=a.length;s>r;r++)if(d(a[r],g)){m=!1;break}if(m)return e;throw Da("insecurl",e.toString())}if(c===pa.HTML)return f(e);throw Da("unsafe")},valueOf:function(a){return a instanceof g?a.$$unwrapTrustedValue():a}}}]}function mf(){var b=!0;this.enabled=function(a){return arguments.length&&(b=!!a),b},this.$get=["$parse","$sceDelegate",function(a,c){if(b&&8>Ua)throw Da("iequirks");var d=ia(pa);d.isEnabled=function(){return b},d.trustAs=c.trustAs,d.getTrusted=c.getTrusted,d.valueOf=c.valueOf,b||(d.trustAs=d.getTrusted=function(a,b){return b},d.valueOf=Ya),d.parseAs=function(b,c){var e=a(c);return e.literal&&e.constant?e:a(c,function(a){return d.getTrusted(b,a)})};var e=d.parseAs,f=d.getTrusted,g=d.trustAs;return m(pa,function(a,b){var c=M(b);d[hb("parse_as_"+c)]=function(b){return e(a,b)},d[hb("get_trusted_"+c)]=function(b){return f(a,b)},d[hb("trust_as_"+c)]=function(b){return g(a,b)}}),d}]}function of(){this.$get=["$window","$document",function(b,a){var g,c={},d=W((/android (\d+)/.exec(M((b.navigator||{}).userAgent))||[])[1]),e=/Boxee/i.test((b.navigator||{}).userAgent),f=a[0]||{},h=/^(Moz|webkit|ms)(?=[A-Z])/,l=f.body&&f.body.style,k=!1,n=!1;if(l){for(var r in l)if(k=h.exec(r)){g=k[0],g=g.substr(0,1).toUpperCase()+g.substr(1);break}g||(g="WebkitOpacity"in l&&"webkit"),k=!!("transition"in l||g+"Transition"in l),n=!!("animation"in l||g+"Animation"in l),!d||k&&n||(k=L(l.webkitTransition),n=L(l.webkitAnimation))}return{history:!(!b.history||!b.history.pushState||4>d||e),hasEvent:function(a){if("input"===a&&11>=Ua)return!1;if(A(c[a])){var b=f.createElement("div");c[a]="on"+a in b}return c[a]},csp:fb(),vendorPrefix:g,transitions:k,animations:n,android:d}}]}function qf(){this.$get=["$templateCache","$http","$q","$sce",function(b,a,c,d){function e(f,g){e.totalPendingRequests++,L(f)&&b.get(f)||(f=d.getTrustedResourceUrl(f));var h=a.defaults&&a.defaults.transformResponse;return G(h)?h=h.filter(function(a){return a!==$b}):h===$b&&(h=null),a.get(f,{cache:b,transformResponse:h})["finally"](function(){e.totalPendingRequests--}).then(function(a){return b.put(f,a.data),a.data},function(a){if(!g)throw ea("tpload",f,a.status,a.statusText);return c.reject(a)})}return e.totalPendingRequests=0,e}]}function rf(){this.$get=["$rootScope","$browser","$location",function(b,a,c){return{findBindings:function(a,b,c){a=a.getElementsByClassName("ng-binding");var g=[];return m(a,function(a){var d=ca.element(a).data("$binding");d&&m(d,function(d){c?new RegExp("(^|\\s)"+ud(b)+"(\\s|\\||$)").test(d)&&g.push(a):-1!=d.indexOf(b)&&g.push(a)})}),g},findModels:function(a,b,c){for(var g=["ng-","data-ng-","ng\\:"],h=0;h<g.length;++h){var l=a.querySelectorAll("["+g[h]+"model"+(c?"=":"*=")+'"'+b+'"]');if(l.length)return l}},getLocation:function(){return c.url()},setLocation:function(a){a!==c.url()&&(c.url(a),b.$digest())},whenStable:function(b){a.notifyWhenNoOutstandingRequests(b)}}}]}function sf(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(b,a,c,d,e){function f(f,l,k){z(f)||(k=l,l=f,f=v);var q,n=za.call(arguments,3),r=w(k)&&!k,s=(r?d:c).defer(),m=s.promise;return q=a.defer(function(){try{s.resolve(f.apply(null,n))}catch(a){s.reject(a),e(a)}finally{delete g[m.$$timeoutId]}r||b.$apply()},l),m.$$timeoutId=q,g[q]=s,m}var g={};return f.cancel=function(b){return b&&b.$$timeoutId in g?(g[b.$$timeoutId].reject("canceled"),delete g[b.$$timeoutId],a.defer.cancel(b.$$timeoutId)):!1},f}]}function Ba(b){return Ua&&(X.setAttribute("href",b),b=X.href),X.setAttribute("href",b),{href:X.href,protocol:X.protocol?X.protocol.replace(/:$/,""):"",host:X.host,search:X.search?X.search.replace(/^\?/,""):"",hash:X.hash?X.hash.replace(/^#/,""):"",hostname:X.hostname,port:X.port,pathname:"/"===X.pathname.charAt(0)?X.pathname:"/"+X.pathname}}function gd(b){return b=L(b)?Ba(b):b,b.protocol===wd.protocol&&b.host===wd.host}function tf(){this.$get=ra(O)}function xd(b){function a(a){try{return decodeURIComponent(a)}catch(b){return a}}var c=b[0]||{},d={},e="";return function(){var b,g,h,l,k;if(b=c.cookie||"",b!==e)for(e=b,b=e.split("; "),d={},h=0;h<b.length;h++)g=b[h],l=g.indexOf("="),l>0&&(k=a(g.substring(0,l)),d[k]===t&&(d[k]=a(g.substring(l+1))));return d}}function xf(){this.$get=xd}function Lc(b){function a(c,d){if(H(c)){var e={};return m(c,function(b,c){e[c]=a(c,b)}),e}return b.factory(c+"Filter",d)}this.register=a,this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}],a("currency",yd),a("date",zd),a("filter",$f),a("json",ag),a("limitTo",bg),a("lowercase",cg),a("number",Ad),a("orderBy",Bd),a("uppercase",dg)}function $f(){return function(b,a,c){if(!Ea(b)){if(null==b)return b;throw J("filter")("notarray",b)}var d;switch(ic(a)){case"function":break;case"boolean":case"null":case"number":case"string":d=!0;case"object":a=eg(a,c,d);break;default:return b}return Array.prototype.filter.call(b,a)}}function eg(b,a,c){var d=H(b)&&"$"in b;return!0===a?a=ka:z(a)||(a=function(a,b){return A(a)?!1:null===a||null===b?a===b:H(b)||H(a)&&!rc(a)?!1:(a=M(""+a),b=M(""+b),-1!==a.indexOf(b))}),function(e){return d&&!H(e)?La(e,b.$,a,!1):La(e,b,a,c)}}function La(b,a,c,d,e){var f=ic(b),g=ic(a);if("string"===g&&"!"===a.charAt(0))return!La(b,a.substring(1),c,d);if(G(b))return b.some(function(b){return La(b,a,c,d)});switch(f){case"object":var h;if(d){for(h in b)if("$"!==h.charAt(0)&&La(b[h],a,c,!0))return!0;return e?!1:La(b,a,c,!1)}if("object"===g){for(h in a)if(e=a[h],!z(e)&&!A(e)&&(f="$"===h,!La(f?b:b[h],e,c,f,f)))return!1;return!0}return c(b,a);case"function":return!1;default:return c(b,a)}}function ic(b){return null===b?"null":typeof b}function yd(b){var a=b.NUMBER_FORMATS;return function(b,d,e){return A(d)&&(d=a.CURRENCY_SYM),A(e)&&(e=a.PATTERNS[1].maxFrac),null==b?b:Cd(b,a.PATTERNS[1],a.GROUP_SEP,a.DECIMAL_SEP,e).replace(/\u00A4/g,d)}}function Ad(b){var a=b.NUMBER_FORMATS;return function(b,d){return null==b?b:Cd(b,a.PATTERNS[0],a.GROUP_SEP,a.DECIMAL_SEP,d)}}function Cd(b,a,c,d,e){if(H(b))return"";var f=0>b;b=Math.abs(b);var g=1/0===b;if(!g&&!isFinite(b))return"";var h=b+"",l="",k=!1,n=[];if(g&&(l="∞"),!g&&-1!==h.indexOf("e")){var r=h.match(/([\d\.]+)e(-?)(\d+)/);r&&"-"==r[2]&&r[3]>e+1?b=0:(l=h,k=!0)}if(g||k)e>0&&1>b&&(l=b.toFixed(e),b=parseFloat(l));else{g=(h.split(Dd)[1]||"").length,A(e)&&(e=Math.min(Math.max(a.minFrac,g),a.maxFrac)),b=+(Math.round(+(b.toString()+"e"+e)).toString()+"e"+-e);var g=(""+b).split(Dd),h=g[0],g=g[1]||"",r=0,s=a.lgSize,m=a.gSize;if(h.length>=s+m)for(r=h.length-s,k=0;r>k;k++)0===(r-k)%m&&0!==k&&(l+=c),l+=h.charAt(k);for(k=r;k<h.length;k++)0===(h.length-k)%s&&0!==k&&(l+=c),l+=h.charAt(k);for(;g.length<e;)g+="0";e&&"0"!==e&&(l+=d+g.substr(0,e))}return 0===b&&(f=!1),n.push(f?a.negPre:a.posPre,l,f?a.negSuf:a.posSuf),n.join("")}function Gb(b,a,c){var d="";for(0>b&&(d="-",b=-b),b=""+b;b.length<a;)b="0"+b;return c&&(b=b.substr(b.length-a)),d+b}function Y(b,a,c,d){return c=c||0,function(e){return e=e["get"+b](),(c>0||e>-c)&&(e+=c),0===e&&-12==c&&(e=12),Gb(e,a,d)}}function Hb(b,a){return function(c,d){var e=c["get"+b](),f=rb(a?"SHORT"+b:b);return d[f][e]}}function Ed(b){var a=new Date(b,0,1).getDay();return new Date(b,0,(4>=a?5:12)-a)}function Fd(b){return function(a){var c=Ed(a.getFullYear());return a=+new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))-+c,a=1+Math.round(a/6048e5),Gb(a,b)}}function jc(b,a){return 0>=b.getFullYear()?a.ERAS[0]:a.ERAS[1]}function zd(b){function a(a){var b;if(b=a.match(c)){a=new Date(0);var f=0,g=0,h=b[8]?a.setUTCFullYear:a.setFullYear,l=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=W(b[9]+b[10]),g=W(b[9]+b[11])),h.call(a,W(b[1]),W(b[2])-1,W(b[3])),f=W(b[4]||0)-f,g=W(b[5]||0)-g,h=W(b[6]||0),b=Math.round(1e3*parseFloat("0."+(b[7]||0))),l.call(a,f,g,h,b)}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,e,f){var l,k,g="",h=[];if(e=e||"mediumDate",e=b.DATETIME_FORMATS[e]||e,L(c)&&(c=fg.test(c)?W(c):a(c)),V(c)&&(c=new Date(c)),!aa(c)||!isFinite(c.getTime()))return c;for(;e;)(k=gg.exec(e))?(h=cb(h,k,1),e=h.pop()):(h.push(e),e=null);var n=c.getTimezoneOffset();return f&&(n=xc(f,c.getTimezoneOffset()),c=Pb(c,f,!0)),m(h,function(a){l=hg[a],g+=l?l(c,b.DATETIME_FORMATS,n):a.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),g}}function ag(){return function(b,a){return A(a)&&(a=2),db(b,a)}}function bg(){return function(b,a,c){return a=1/0===Math.abs(Number(a))?Number(a):W(a),isNaN(a)?b:(V(b)&&(b=b.toString()),G(b)||L(b)?(c=!c||isNaN(c)?0:W(c),c=0>c&&c>=-b.length?b.length+c:c,a>=0?b.slice(c,c+a):0===c?b.slice(a,b.length):b.slice(Math.max(0,c+a),c)):b)}}function Bd(b){function a(a,c){return c=c?-1:1,a.map(function(a){var d=1,h=Ya;if(z(a))h=a;else if(L(a)&&(("+"==a.charAt(0)||"-"==a.charAt(0))&&(d="-"==a.charAt(0)?-1:1,a=a.substring(1)),""!==a&&(h=b(a),h.constant)))var l=h(),h=function(a){return a[l]};return{get:h,descending:d*c}})}function c(a){switch(typeof a){case"number":case"boolean":case"string":return!0;default:return!1}}return function(b,e,f){if(!Ea(b))return b;G(e)||(e=[e]),0===e.length&&(e=["+"]);var g=a(e,f);return b=Array.prototype.map.call(b,function(a,b){return{value:a,predicateValues:g.map(function(d){var e=d.get(a);return d=typeof e,null===e?(d="string",e="null"):"string"===d?e=e.toLowerCase():"object"===d&&("function"==typeof e.valueOf&&(e=e.valueOf(),c(e))||rc(e)&&(e=e.toString(),c(e))||(e=b)),{value:e,type:d}})}}),b.sort(function(a,b){for(var c=0,d=0,e=g.length;e>d;++d){var c=a.predicateValues[d],f=b.predicateValues[d],m=0;if(c.type===f.type?c.value!==f.value&&(m=c.value<f.value?-1:1):m=c.type<f.type?-1:1,c=m*g[d].descending)break}return c}),b=b.map(function(a){return a.value})}}function Ma(b){return z(b)&&(b={link:b}),b.restrict=b.restrict||"AC",ra(b)}function Gd(b,a,c,d,e){var f=this,g=[],h=f.$$parentForm=b.parent().controller("form")||Ib;f.$error={},f.$$success={},f.$pending=t,f.$name=e(a.name||a.ngForm||"")(c),f.$dirty=!1,f.$pristine=!0,f.$valid=!0,f.$invalid=!1,f.$submitted=!1,h.$addControl(f),f.$rollbackViewValue=function(){m(g,function(a){a.$rollbackViewValue()})},f.$commitViewValue=function(){m(g,function(a){a.$commitViewValue()})},f.$addControl=function(a){Ra(a.$name,"input"),g.push(a),a.$name&&(f[a.$name]=a)},f.$$renameControl=function(a,b){var c=a.$name;f[c]===a&&delete f[c],f[b]=a,a.$name=b},f.$removeControl=function(a){a.$name&&f[a.$name]===a&&delete f[a.$name],m(f.$pending,function(b,c){f.$setValidity(c,null,a)}),m(f.$error,function(b,c){f.$setValidity(c,null,a)}),m(f.$$success,function(b,c){f.$setValidity(c,null,a)}),bb(g,a)},Hd({ctrl:this,$element:b,set:function(a,b,c){var d=a[b];d?-1===d.indexOf(c)&&d.push(c):a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(bb(d,c),0===d.length&&delete a[b])},parentForm:h,$animate:d}),f.$setDirty=function(){d.removeClass(b,Va),d.addClass(b,Jb),f.$dirty=!0,f.$pristine=!1,h.$setDirty()},f.$setPristine=function(){d.setClass(b,Va,Jb+" ng-submitted"),f.$dirty=!1,f.$pristine=!0,f.$submitted=!1,m(g,function(a){a.$setPristine()})},f.$setUntouched=function(){m(g,function(a){a.$setUntouched()})},f.$setSubmitted=function(){d.addClass(b,"ng-submitted"),f.$submitted=!0,h.$setSubmitted()}}function kc(b){b.$formatters.push(function(a){return b.$isEmpty(a)?a:a.toString()})}function kb(b,a,c,d,e,f){var g=M(a[0].type);if(!e.android){var h=!1;a.on("compositionstart",function(){h=!0}),a.on("compositionend",function(){h=!1,l()})}var l=function(b){if(k&&(f.defer.cancel(k),k=null),!h){var e=a.val();b=b&&b.type,"password"===g||c.ngTrim&&"false"===c.ngTrim||(e=R(e)),(d.$viewValue!==e||""===e&&d.$$hasNativeValidators)&&d.$setViewValue(e,b)}};if(e.hasEvent("input"))a.on("input",l);else{var k,n=function(a,b,c){k||(k=f.defer(function(){k=null,b&&b.value===c||l(a)}))};a.on("keydown",function(a){var b=a.keyCode;91===b||b>15&&19>b||b>=37&&40>=b||n(a,this,this.value)}),e.hasEvent("paste")&&a.on("paste cut",n)}a.on("change",l),d.$render=function(){a.val(d.$isEmpty(d.$viewValue)?"":d.$viewValue)}}function Kb(b,a){return function(c,d){var e,f;if(aa(c))return c;if(L(c)){if('"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substring(1,c.length-1)),ig.test(c))return new Date(c);if(b.lastIndex=0,e=b.exec(c))return e.shift(),f=d?{yyyy:d.getFullYear(),MM:d.getMonth()+1,dd:d.getDate(),HH:d.getHours(),mm:d.getMinutes(),ss:d.getSeconds(),sss:d.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},m(e,function(b,c){c<a.length&&(f[a[c]]=+b)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1e3*f.sss||0)}return 0/0}}function lb(b,a,c,d){return function(e,f,g,h,l,k,n){function r(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function s(a){return w(a)?aa(a)?a:c(a):t}Id(e,f,g,h),kb(e,f,g,h,l,k);var q,m=h&&h.$options&&h.$options.timezone;if(h.$$parserName=b,h.$parsers.push(function(b){return h.$isEmpty(b)?null:a.test(b)?(b=c(b,q),m&&(b=Pb(b,m)),b):t}),h.$formatters.push(function(a){if(a&&!aa(a))throw Lb("datefmt",a);return r(a)?((q=a)&&m&&(q=Pb(q,m,!0)),n("date")(a,d,m)):(q=null,"")}),w(g.min)||g.ngMin){var F;h.$validators.min=function(a){return!r(a)||A(F)||c(a)>=F},g.$observe("min",function(a){F=s(a),h.$validate()})}if(w(g.max)||g.ngMax){var u;h.$validators.max=function(a){return!r(a)||A(u)||c(a)<=u},g.$observe("max",function(a){u=s(a),h.$validate()})}}}function Id(b,a,c,d){(d.$$hasNativeValidators=H(a[0].validity))&&d.$parsers.push(function(b){var c=a.prop("validity")||{};return c.badInput&&!c.typeMismatch?t:b})}function Jd(b,a,c,d,e){if(w(d)){if(b=b(d),!b.constant)throw J("ngModel")("constexpr",c,d);return b(a)}return e}function lc(b,a){return b="ngClass"+b,["$animate",function(c){function d(a,b){var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],n=0;n<b.length;n++)if(e==b[n])continue a;c.push(e)}return c}function e(a){var b=[];return G(a)?(m(a,function(a){b=b.concat(e(a))}),b):L(a)?a.split(" "):H(a)?(m(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b):a}return{restrict:"AC",link:function(f,g,h){function l(a,b){var c=g.data("$classCounts")||ga(),d=[];return m(a,function(a){(b>0||c[a])&&(c[a]=(c[a]||0)+b,c[a]===+(b>0)&&d.push(a))}),g.data("$classCounts",c),d.join(" ")}function k(b){if(!0===a||f.$index%2===a){var k=e(b||[]);if(n){if(!ka(b,n)){var q=e(n),m=d(k,q),k=d(q,k),m=l(m,1),k=l(k,-1);m&&m.length&&c.addClass(g,m),k&&k.length&&c.removeClass(g,k)}}else{var m=l(k,1);h.$addClass(m)}}n=ia(b)}var n;f.$watch(h[b],k,!0),h.$observe("class",function(){k(f.$eval(h[b]))}),"ngClass"!==b&&f.$watch("$index",function(c,d){var g=1&c;if(g!==(1&d)){var k=e(f.$eval(h[b]));g===a?(g=l(k,1),h.$addClass(g)):(g=l(k,-1),h.$removeClass(g))}})}}}]}function Hd(b){function a(a,b){b&&!f[a]?(k.addClass(e,a),f[a]=!0):!b&&f[a]&&(k.removeClass(e,a),f[a]=!1)}function c(b,c){b=b?"-"+Bc(b,"-"):"",a(mb+b,!0===c),a(Kd+b,!1===c)}var d=b.ctrl,e=b.$element,f={},g=b.set,h=b.unset,l=b.parentForm,k=b.$animate;f[Kd]=!(f[mb]=e.hasClass(mb)),d.$setValidity=function(b,e,f){e===t?(d.$pending||(d.$pending={}),g(d.$pending,b,f)):(d.$pending&&h(d.$pending,b,f),Ld(d.$pending)&&(d.$pending=t)),ab(e)?e?(h(d.$error,b,f),g(d.$$success,b,f)):(g(d.$error,b,f),h(d.$$success,b,f)):(h(d.$error,b,f),h(d.$$success,b,f)),d.$pending?(a(Md,!0),d.$valid=d.$invalid=t,c("",null)):(a(Md,!1),d.$valid=Ld(d.$error),d.$invalid=!d.$valid,c("",d.$valid)),e=d.$pending&&d.$pending[b]?t:d.$error[b]?!1:d.$$success[b]?!0:null,c(b,e),l.$setValidity(b,e,d)}}function Ld(b){if(b)for(var a in b)if(b.hasOwnProperty(a))return!1;return!0}var Ua,y,la,gb,jg=/^\/(.+)\/([a-z]*)$/,M=function(b){return L(b)?b.toLowerCase():b},Xa=Object.prototype.hasOwnProperty,rb=function(b){return L(b)?b.toUpperCase():b},za=[].slice,Mf=[].splice,kg=[].push,sa=Object.prototype.toString,sc=Object.getPrototypeOf,Fa=J("ng"),ca=O.angular||(O.angular={}),nb=0;Ua=U.documentMode,v.$inject=[],Ya.$inject=[];var Rb,G=Array.isArray,uc=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/,R=function(b){return L(b)?b.trim():b},ud=function(b){return b.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},fb=function(){if(w(fb.isActive_))return fb.isActive_;var b=!(!U.querySelector("[ng-csp]")&&!U.querySelector("[data-ng-csp]"));if(!b)try{new Function("")}catch(a){b=!0}return fb.isActive_=b},pb=function(){if(w(pb.name_))return pb.name_;var b,a,d,e,c=Oa.length;for(a=0;c>a;++a)if(d=Oa[a],b=U.querySelector("["+d.replace(":","\\:")+"jq]")){e=b.getAttribute(d+"jq");break}return pb.name_=e},Oa=["ng-","data-ng-","ng:","x-ng-"],be=/[A-Z]/g,Cc=!1,qa=1,Na=3,fe={full:"1.4.3",major:1,minor:4,dot:3,codeName:"foam-acceleration"};Q.expando="ng339";var ib=Q.cache={},Df=1;Q._data=function(b){return this.cache[b[this.expando]]||{}};var yf=/([\:\-\_]+(.))/g,zf=/^moz([A-Z])/,lg={mouseleave:"mouseout",mouseenter:"mouseover"},Ub=J("jqLite"),Cf=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Tb=/<|&#?\w+;/,Af=/<([\w:]+)/,Bf=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,na={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};na.optgroup=na.option,na.tbody=na.tfoot=na.colgroup=na.caption=na.thead,na.th=na.td;var Pa=Q.prototype={ready:function(b){function a(){c||(c=!0,b())}var c=!1;"complete"===U.readyState?setTimeout(a):(this.on("DOMContentLoaded",a),Q(O).on("load",a))},toString:function(){var b=[];return m(this,function(a){b.push(""+a)}),"["+b.join(", ")+"]"},eq:function(b){return y(b>=0?this[b]:this[this.length+b])},length:0,push:kg,sort:[].sort,splice:[].splice},Ab={};m("multiple selected checked disabled readOnly required open".split(" "),function(b){Ab[M(b)]=b});var Tc={};m("input select option textarea button form details".split(" "),function(b){Tc[b]=!0});var Uc={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};m({data:Wb,removeData:ub,hasData:function(b){for(var a in ib[b.ng339])return!0;return!1}},function(b,a){Q[a]=b}),m({data:Wb,inheritedData:zb,scope:function(b){return y.data(b,"$scope")||zb(b.parentNode||b,["$isolateScope","$scope"])},isolateScope:function(b){return y.data(b,"$isolateScope")||y.data(b,"$isolateScopeNoTemplate")},controller:Qc,injector:function(b){return zb(b,"$injector")},removeAttr:function(b,a){b.removeAttribute(a)},hasClass:wb,css:function(b,a,c){return a=hb(a),w(c)?void(b.style[a]=c):b.style[a]},attr:function(b,a,c){var d=b.nodeType;if(d!==Na&&2!==d&&8!==d)if(d=M(a),Ab[d]){if(!w(c))return b[a]||(b.attributes.getNamedItem(a)||v).specified?d:t;c?(b[a]=!0,b.setAttribute(a,d)):(b[a]=!1,b.removeAttribute(d))}else if(w(c))b.setAttribute(a,c);else if(b.getAttribute)return b=b.getAttribute(a,2),null===b?t:b},prop:function(b,a,c){return w(c)?void(b[a]=c):b[a]},text:function(){function b(a,b){if(A(b)){var d=a.nodeType;return d===qa||d===Na?a.textContent:""}a.textContent=b}return b.$dv="",b}(),val:function(b,a){if(A(a)){if(b.multiple&&"select"===ta(b)){var c=[];return m(b.options,function(a){a.selected&&c.push(a.value||a.text)}),0===c.length?null:c}return b.value}b.value=a},html:function(b,a){return A(a)?b.innerHTML:(tb(b,!0),void(b.innerHTML=a))},empty:Rc},function(b,a){Q.prototype[a]=function(a,d){var e,f,g=this.length;if(b!==Rc&&(2==b.length&&b!==wb&&b!==Qc?a:d)===t){if(H(a)){for(e=0;g>e;e++)if(b===Wb)b(this[e],a);else for(f in a)b(this[e],f,a[f]);return this}for(e=b.$dv,g=e===t?Math.min(g,1):g,f=0;g>f;f++){var h=b(this[f],a,d);e=e?e+h:h}return e}for(e=0;g>e;e++)b(this[e],a,d);return this}}),m({removeData:ub,on:function a(c,d,e,f){if(w(f))throw Ub("onargs");if(Mc(c)){var g=vb(c,!0);f=g.events;var h=g.handle;h||(h=g.handle=Gf(c,f));for(var g=0<=d.indexOf(" ")?d.split(" "):[d],l=g.length;l--;){d=g[l];var k=f[d];k||(f[d]=[],"mouseenter"===d||"mouseleave"===d?a(c,lg[d],function(a){var c=a.relatedTarget;c&&(c===this||this.contains(c))||h(a,d)}):"$destroy"!==d&&c.addEventListener(d,h,!1),k=f[d]),k.push(e)}}},off:Pc,one:function(a,c,d){a=y(a),a.on(c,function f(){a.off(c,d),a.off(c,f)}),a.on(c,d)},replaceWith:function(a,c){var d,e=a.parentNode;tb(a),m(new Q(c),function(c){d?e.insertBefore(c,d.nextSibling):e.replaceChild(c,a),d=c})},children:function(a){var c=[];return m(a.childNodes,function(a){a.nodeType===qa&&c.push(a)}),c},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,c){var d=a.nodeType;if(d===qa||11===d){c=new Q(c);for(var d=0,e=c.length;e>d;d++)a.appendChild(c[d])}},prepend:function(a,c){if(a.nodeType===qa){var d=a.firstChild;m(new Q(c),function(c){a.insertBefore(c,d)})}},wrap:function(a,c){c=y(c).eq(0).clone()[0];var d=a.parentNode;d&&d.replaceChild(c,a),c.appendChild(a)},remove:Xb,detach:function(a){Xb(a,!0)},after:function(a,c){var d=a,e=a.parentNode;c=new Q(c);for(var f=0,g=c.length;g>f;f++){var h=c[f];e.insertBefore(h,d.nextSibling),d=h}},addClass:yb,removeClass:xb,toggleClass:function(a,c,d){c&&m(c.split(" "),function(c){var f=d;A(f)&&(f=!wb(a,c)),(f?yb:xb)(a,c)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,c){return a.getElementsByTagName?a.getElementsByTagName(c):[]},clone:Vb,triggerHandler:function(a,c,d){var e,f,g=c.type||c,h=vb(a);(h=(h=h&&h.events)&&h[g])&&(e={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:v,type:g,target:a},c.type&&(e=P(e,c)),c=ia(h),f=d?[e].concat(d):[e],m(c,function(c){e.isImmediatePropagationStopped()||c.apply(a,f)}))}},function(a,c){Q.prototype[c]=function(c,e,f){for(var g,h=0,l=this.length;l>h;h++)A(g)?(g=a(this[h],c,e,f),w(g)&&(g=y(g))):Oc(g,a(this[h],c,e,f));return w(g)?g:this},Q.prototype.bind=Q.prototype.on,Q.prototype.unbind=Q.prototype.off}),Sa.prototype={put:function(a,c){this[Ga(a,this.nextUid)]=c},get:function(a){return this[Ga(a,this.nextUid)]},remove:function(a){var c=this[a=Ga(a,this.nextUid)];return delete this[a],c}};var wf=[function(){this.$get=[function(){return Sa}]}],Wc=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,mg=/,/,ng=/^\s*(_?)(\S+?)\1\s*$/,Vc=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ha=J("$injector");eb.$$annotate=function(a,c,d){var e;if("function"==typeof a){if(!(e=a.$inject)){if(e=[],a.length){if(c)throw L(d)&&d||(d=a.name||Hf(a)),Ha("strictdi",d);c=a.toString().replace(Vc,""),c=c.match(Wc),m(c[1].split(mg),function(a){a.replace(ng,function(a,c,d){e.push(d)})})}a.$inject=e}}else G(a)?(c=a.length-1,Qa(a[c],"fn"),e=a.slice(0,c)):Qa(a,"fn",!0);return e};var Nd=J("$animate"),Ue=function(){this.$get=["$q","$$rAF",function(a,c){function d(){}return d.all=v,d.chain=v,d.prototype={end:v,cancel:v,resume:v,pause:v,complete:v,then:function(d,f){return a(function(a){c(function(){a()})}).then(d,f)}},d}]},Te=function(){var a=new Sa,c=[];this.$get=["$$AnimateRunner","$rootScope",function(d,e){function f(d,f,l){var k=a.get(d);k||(a.put(d,k={}),c.push(d)),f&&m(f.split(" "),function(a){a&&(k[a]=!0)}),l&&m(l.split(" "),function(a){a&&(k[a]=!1)}),1<c.length||e.$$postDigest(function(){m(c,function(c){var d=a.get(c);if(d){var e=If(c.attr("class")),f="",g="";m(d,function(a,c){a!==!!e[c]&&(a?f+=(f.length?" ":"")+c:g+=(g.length?" ":"")+c)}),m(c,function(a){f&&yb(a,f),g&&xb(a,g)}),a.remove(c)}}),c.length=0})}return{enabled:v,on:v,off:v,pin:v,push:function(a,c,e,k){return k&&k(),e=e||{},e.from&&a.css(e.from),e.to&&a.css(e.to),(e.addClass||e.removeClass)&&f(a,e.addClass,e.removeClass),new d}}}]},Se=["$provide",function(a){var c=this;this.$$registeredAnimations=Object.create(null),this.register=function(d,e){if(d&&"."!==d.charAt(0))throw Nd("notcsel",d);var f=d+"-animation";c.$$registeredAnimations[d.substr(1)]=f,a.factory(f,e)},this.classNameFilter=function(a){if(1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw Nd("nongcls","ng-animate");return this.$$classNameFilter},this.$get=["$$animateQueue",function(a){function c(a,d,e){if(e){var l;a:{for(l=0;l<e.length;l++){var k=e[l];if(1===k.nodeType){l=k;break a}}l=void 0}!l||l.parentNode||l.previousElementSibling||(e=null)}e?e.after(a):d.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},enter:function(f,g,h,l){return g=g&&y(g),h=h&&y(h),g=g||h.parent(),c(f,g,h),a.push(f,"enter",Ia(l))},move:function(f,g,h,l){return g=g&&y(g),h=h&&y(h),g=g||h.parent(),c(f,g,h),a.push(f,"move",Ia(l))},leave:function(c,e){return a.push(c,"leave",Ia(e),function(){c.remove()})},addClass:function(c,e,h){return h=Ia(h),h.addClass=jb(h.addclass,e),a.push(c,"addClass",h)},removeClass:function(c,e,h){return h=Ia(h),h.removeClass=jb(h.removeClass,e),a.push(c,"removeClass",h)},setClass:function(c,e,h,l){return l=Ia(l),l.addClass=jb(l.addClass,e),l.removeClass=jb(l.removeClass,h),a.push(c,"setClass",l)},animate:function(c,e,h,l,k){return k=Ia(k),k.from=k.from?P(k.from,e):e,k.to=k.to?P(k.to,h):h,k.tempClasses=jb(k.tempClasses,l||"ng-inline-animate"),a.push(c,"animate",k)}}}]}],ea=J("$compile");Ec.$inject=["$provide","$$sanitizeUriProvider"];var Zc=/^((?:x|data)[\:\-_])/i,Nf=J("$controller"),Xc=/^(\S+)(\s+as\s+(\w+))?$/,cd="application/json",ac={"Content-Type":cd+";charset=utf-8"},Pf=/^\[|^\{(?!\{)/,Qf={"[":/]$/,"{":/}$/},Of=/^\)\]\}',?\n/,Ka=ca.$interpolateMinErr=J("$interpolate");Ka.throwNoconcat=function(a){throw Ka("noconcat",a)},Ka.interr=function(a,c){return Ka("interr",a,c.toString())};var og=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Tf={http:80,https:443,ftp:21},Cb=J("$location"),pg={$$html5:!1,$$replace:!1,absUrl:Db("$$absUrl"),url:function(a){if(A(a))return this.$$url;var c=og.exec(a);return(c[1]||""===a)&&this.path(decodeURIComponent(c[1])),(c[2]||c[1]||""===a)&&this.search(c[3]||""),this.hash(c[5]||""),this},protocol:Db("$$protocol"),host:Db("$$host"),port:Db("$$port"),path:kd("$$path",function(a){return a=null!==a?a.toString():"","/"==a.charAt(0)?a:"/"+a}),search:function(a,c){switch(arguments.length){case 0:return this.$$search;case 1:if(L(a)||V(a))a=a.toString(),this.$$search=zc(a);else{if(!H(a))throw Cb("isrcharg");a=fa(a,{}),m(a,function(c,e){null==c&&delete a[e]}),this.$$search=a}break;default:A(c)||null===c?delete this.$$search[a]:this.$$search[a]=c}return this.$$compose(),this},hash:kd("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){return this.$$replace=!0,this}};m([jd,ec,dc],function(a){a.prototype=Object.create(pg),a.prototype.state=function(c){if(!arguments.length)return this.$$state;if(a!==dc||!this.$$html5)throw Cb("nostate");return this.$$state=A(c)?null:c,this}});var da=J("$parse"),Uf=Function.prototype.call,Vf=Function.prototype.apply,Wf=Function.prototype.bind,Mb=ga();m("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){Mb[a]=!0});var qg={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},gc=function(a){this.options=a};gc.prototype={constructor:gc,lex:function(a){for(this.text=a,this.index=0,this.tokens=[];this.index<this.text.length;)if(a=this.text.charAt(this.index),'"'===a||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();
else if(this.isIdent(a))this.readIdent();else if(this.is(a,"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var c=a+this.peek(),d=c+this.peek(2),e=Mb[c],f=Mb[d];Mb[a]||e||f?(a=f?d:e?c:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,c){return-1!==c.indexOf(a)},peek:function(a){return a=a||1,this.index+a<this.text.length?this.text.charAt(this.index+a):!1},isNumber:function(a){return a>="0"&&"9">=a&&"string"==typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"	"===a||"\n"===a||""===a||" "===a},isIdent:function(a){return a>="a"&&"z">=a||a>="A"&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,c,d){throw d=d||this.index,c=w(c)?"s "+c+"-"+this.index+" ["+this.text.substring(c,d)+"]":" "+d,da("lexerr",a,c,this.text)},readNumber:function(){for(var a="",c=this.index;this.index<this.text.length;){var d=M(this.text.charAt(this.index));if("."==d||this.isNumber(d))a+=d;else{var e=this.peek();if("e"==d&&this.isExpOperator(e))a+=d;else if(this.isExpOperator(d)&&e&&this.isNumber(e)&&"e"==a.charAt(a.length-1))a+=d;else{if(!this.isExpOperator(d)||e&&this.isNumber(e)||"e"!=a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:c,text:a,constant:!0,value:Number(a)})},readIdent:function(){for(var a=this.index;this.index<this.text.length;){var c=this.text.charAt(this.index);if(!this.isIdent(c)&&!this.isNumber(c))break;this.index++}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var c=this.index;this.index++;for(var d="",e=a,f=!1;this.index<this.text.length;){var g=this.text.charAt(this.index),e=e+g;if(f)"u"===g?(f=this.text.substring(this.index+1,this.index+5),f.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+f+"]"),this.index+=4,d+=String.fromCharCode(parseInt(f,16))):d+=qg[g]||g,f=!1;else if("\\"===g)f=!0;else{if(g===a)return this.index++,void this.tokens.push({index:c,text:e,constant:!0,value:d});d+=g}this.index++}this.throwError("Unterminated quote",c)}};var q=function(a,c){this.lexer=a,this.options=c};q.Program="Program",q.ExpressionStatement="ExpressionStatement",q.AssignmentExpression="AssignmentExpression",q.ConditionalExpression="ConditionalExpression",q.LogicalExpression="LogicalExpression",q.BinaryExpression="BinaryExpression",q.UnaryExpression="UnaryExpression",q.CallExpression="CallExpression",q.MemberExpression="MemberExpression",q.Identifier="Identifier",q.Literal="Literal",q.ArrayExpression="ArrayExpression",q.Property="Property",q.ObjectExpression="ObjectExpression",q.ThisExpression="ThisExpression",q.NGValueParameter="NGValueParameter",q.prototype={ast:function(a){return this.text=a,this.tokens=this.lexer.lex(a),a=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),a},program:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:q.Program,body:a}},expressionStatement:function(){return{type:q.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();return this.expect("=")&&(a={type:q.AssignmentExpression,left:a,right:this.assignment(),operator:"="}),a},ternary:function(){var c,d,a=this.logicalOR();return this.expect("?")&&(c=this.expression(),this.consume(":"))?(d=this.expression(),{type:q.ConditionalExpression,test:a,alternate:c,consequent:d}):a},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:q.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:q.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var c,a=this.relational();c=this.expect("==","!=","===","!==");)a={type:q.BinaryExpression,operator:c.text,left:a,right:this.relational()};return a},relational:function(){for(var c,a=this.additive();c=this.expect("<",">","<=",">=");)a={type:q.BinaryExpression,operator:c.text,left:a,right:this.additive()};return a},additive:function(){for(var c,a=this.multiplicative();c=this.expect("+","-");)a={type:q.BinaryExpression,operator:c.text,left:a,right:this.multiplicative()};return a},multiplicative:function(){for(var c,a=this.unary();c=this.expect("*","/","%");)a={type:q.BinaryExpression,operator:c.text,left:a,right:this.unary()};return a},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:q.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.constants.hasOwnProperty(this.peek().text)?a=fa(this.constants[this.consume().text]):this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var c;c=this.expect("(","[",".");)"("===c.text?(a={type:q.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):"["===c.text?(a={type:q.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===c.text?a={type:q.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){a=[a];for(var c={type:q.CallExpression,callee:this.identifier(),arguments:a,filter:!0};this.expect(":");)a.push(this.expression());return c},parseArguments:function(){var a=[];if(")"!==this.peekToken().text)do a.push(this.expression());while(this.expect(","));return a},identifier:function(){var a=this.consume();return a.identifier||this.throwError("is not a valid identifier",a),{type:q.Identifier,name:a.text}},constant:function(){return{type:q.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:q.ArrayExpression,elements:a}},object:function(){var c,a=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;c={type:q.Property,kind:"init"},this.peek().constant?c.key=this.constant():this.peek().identifier?c.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),c.value=this.expression(),a.push(c)}while(this.expect(","));return this.consume("}"),{type:q.ObjectExpression,properties:a}},throwError:function(a,c){throw da("syntax",c.text,a,c.index+1,this.text,this.text.substring(c.index))},consume:function(a){if(0===this.tokens.length)throw da("ueoe",this.text);var c=this.expect(a);return c||this.throwError("is unexpected, expecting ["+a+"]",this.peek()),c},peekToken:function(){if(0===this.tokens.length)throw da("ueoe",this.text);return this.tokens[0]},peek:function(a,c,d,e){return this.peekAhead(0,a,c,d,e)},peekAhead:function(a,c,d,e,f){if(this.tokens.length>a){a=this.tokens[a];var g=a.text;if(g===c||g===d||g===e||g===f||!(c||d||e||f))return a}return!1},expect:function(a,c,d,e){return(a=this.peek(a,c,d,e))?(this.tokens.shift(),a):!1},constants:{"true":{type:q.Literal,value:!0},"false":{type:q.Literal,value:!1},"null":{type:q.Literal,value:null},undefined:{type:q.Literal,value:t},"this":{type:q.ThisExpression}}},rd.prototype={compile:function(a,c){var d=this,e=this.astBuilder.ast(a);this.state={nextId:0,filters:{},expensiveChecks:c,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},T(e,d.$filter);var g,f="";return this.stage="assign",(g=pd(e))&&(this.state.computing="assign",f=this.nextId(),this.recurse(g,f),f="fn.assign="+this.generateFunction("assign","s,v,l")),g=nd(e.body),d.stage="inputs",m(g,function(a,c){var e="fn"+c;d.state[e]={vars:[],body:[],own:{}},d.state.computing=e;var f=d.nextId();d.recurse(a,f),d.return_(f),d.state.inputs.push(e),a.watchId=c}),this.state.computing="fn",this.stage="main",this.recurse(e),f='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+f+this.watchFns()+"return fn;",f=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","ifDefined","plus","text",f)(this.$filter,Ca,oa,ld,Xf,md,a),this.state=this.stage=t,f.literal=qd(e),f.constant=e.constant,f},USE:"use",STRICT:"strict",watchFns:function(){var a=[],c=this.state.inputs,d=this;return m(c,function(c){a.push("var "+c+"="+d.generateFunction(c,"s"))}),c.length&&a.push("fn.inputs=["+c.join(",")+"];"),a.join("")},generateFunction:function(a,c){return"function("+c+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],c=this;return m(this.state.filters,function(d,e){a.push(d+"=$filter("+c.escape(e)+")")}),a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,c,d,e,f,g){var h,l,n,r,k=this;if(e=e||v,!g&&w(a.watchId))c=c||this.nextId(),this.if_("i",this.lazyAssign(c,this.computedMember("i",a.watchId)),this.lazyRecurse(a,c,d,e,f,!0));else switch(a.type){case q.Program:m(a.body,function(c,d){k.recurse(c.expression,t,t,function(a){l=a}),d!==a.body.length-1?k.current().body.push(l,";"):k.return_(l)});break;case q.Literal:r=this.escape(a.value),this.assign(c,r),e(r);break;case q.UnaryExpression:this.recurse(a.argument,t,t,function(a){l=a}),r=a.operator+"("+this.ifDefined(l,0)+")",this.assign(c,r),e(r);break;case q.BinaryExpression:this.recurse(a.left,t,t,function(a){h=a}),this.recurse(a.right,t,t,function(a){l=a}),r="+"===a.operator?this.plus(h,l):"-"===a.operator?this.ifDefined(h,0)+a.operator+this.ifDefined(l,0):"("+h+")"+a.operator+"("+l+")",this.assign(c,r),e(r);break;case q.LogicalExpression:c=c||this.nextId(),k.recurse(a.left,c),k.if_("&&"===a.operator?c:k.not(c),k.lazyRecurse(a.right,c)),e(c);break;case q.ConditionalExpression:c=c||this.nextId(),k.recurse(a.test,c),k.if_(c,k.lazyRecurse(a.alternate,c),k.lazyRecurse(a.consequent,c)),e(c);break;case q.Identifier:c=c||this.nextId(),d&&(d.context="inputs"===k.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),d.computed=!1,d.name=a.name),Ca(a.name),k.if_("inputs"===k.stage||k.not(k.getHasOwnProperty("l",a.name)),function(){k.if_("inputs"===k.stage||"s",function(){f&&1!==f&&k.if_(k.not(k.nonComputedMember("s",a.name)),k.lazyAssign(k.nonComputedMember("s",a.name),"{}")),k.assign(c,k.nonComputedMember("s",a.name))})},c&&k.lazyAssign(c,k.nonComputedMember("l",a.name))),(k.state.expensiveChecks||Fb(a.name))&&k.addEnsureSafeObject(c),e(c);break;case q.MemberExpression:h=d&&(d.context=this.nextId())||this.nextId(),c=c||this.nextId(),k.recurse(a.object,h,t,function(){k.if_(k.notNull(h),function(){a.computed?(l=k.nextId(),k.recurse(a.property,l),k.addEnsureSafeMemberName(l),f&&1!==f&&k.if_(k.not(k.computedMember(h,l)),k.lazyAssign(k.computedMember(h,l),"{}")),r=k.ensureSafeObject(k.computedMember(h,l)),k.assign(c,r),d&&(d.computed=!0,d.name=l)):(Ca(a.property.name),f&&1!==f&&k.if_(k.not(k.nonComputedMember(h,a.property.name)),k.lazyAssign(k.nonComputedMember(h,a.property.name),"{}")),r=k.nonComputedMember(h,a.property.name),(k.state.expensiveChecks||Fb(a.property.name))&&(r=k.ensureSafeObject(r)),k.assign(c,r),d&&(d.computed=!1,d.name=a.property.name))},function(){k.assign(c,"undefined")}),e(c)},!!f);break;case q.CallExpression:c=c||this.nextId(),a.filter?(l=k.filter(a.callee.name),n=[],m(a.arguments,function(a){var c=k.nextId();k.recurse(a,c),n.push(c)}),r=l+"("+n.join(",")+")",k.assign(c,r),e(c)):(l=k.nextId(),h={},n=[],k.recurse(a.callee,l,h,function(){k.if_(k.notNull(l),function(){k.addEnsureSafeFunction(l),m(a.arguments,function(a){k.recurse(a,k.nextId(),t,function(a){n.push(k.ensureSafeObject(a))})}),h.name?(k.state.expensiveChecks||k.addEnsureSafeObject(h.context),r=k.member(h.context,h.name,h.computed)+"("+n.join(",")+")"):r=l+"("+n.join(",")+")",r=k.ensureSafeObject(r),k.assign(c,r)},function(){k.assign(c,"undefined")}),e(c)}));break;case q.AssignmentExpression:if(l=this.nextId(),h={},!od(a.left))throw da("lval");this.recurse(a.left,t,h,function(){k.if_(k.notNull(h.context),function(){k.recurse(a.right,l),k.addEnsureSafeObject(k.member(h.context,h.name,h.computed)),r=k.member(h.context,h.name,h.computed)+a.operator+l,k.assign(c,r),e(c||r)})},1);break;case q.ArrayExpression:n=[],m(a.elements,function(a){k.recurse(a,k.nextId(),t,function(a){n.push(a)})}),r="["+n.join(",")+"]",this.assign(c,r),e(r);break;case q.ObjectExpression:n=[],m(a.properties,function(a){k.recurse(a.value,k.nextId(),t,function(c){n.push(k.escape(a.key.type===q.Identifier?a.key.name:""+a.key.value)+":"+c)})}),r="{"+n.join(",")+"}",this.assign(c,r),e(r);break;case q.ThisExpression:this.assign(c,"s"),e("s");break;case q.NGValueParameter:this.assign(c,"v"),e("v")}},getHasOwnProperty:function(a,c){var d=a+"."+c,e=this.current().own;return e.hasOwnProperty(d)||(e[d]=this.nextId(!1,a+"&&("+this.escape(c)+" in "+a+")")),e[d]},assign:function(a,c){return a?(this.current().body.push(a,"=",c,";"),a):void 0},filter:function(a){return this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0)),this.state.filters[a]},ifDefined:function(a,c){return"ifDefined("+a+","+this.escape(c)+")"},plus:function(a,c){return"plus("+a+","+c+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,c,d){if(!0===a)c();else{var e=this.current().body;e.push("if(",a,"){"),c(),e.push("}"),d&&(e.push("else{"),d(),e.push("}"))}},not:function(a){return"!("+a+")"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,c){return a+"."+c},computedMember:function(a,c){return a+"["+c+"]"},member:function(a,c,d){return d?this.computedMember(a,c):this.nonComputedMember(a,c)},addEnsureSafeObject:function(a){this.current().body.push(this.ensureSafeObject(a),";")},addEnsureSafeMemberName:function(a){this.current().body.push(this.ensureSafeMemberName(a),";")},addEnsureSafeFunction:function(a){this.current().body.push(this.ensureSafeFunction(a),";")},ensureSafeObject:function(a){return"ensureSafeObject("+a+",text)"},ensureSafeMemberName:function(a){return"ensureSafeMemberName("+a+",text)"},ensureSafeFunction:function(a){return"ensureSafeFunction("+a+",text)"},lazyRecurse:function(a,c,d,e,f,g){var h=this;return function(){h.recurse(a,c,d,e,f,g)}},lazyAssign:function(a,c){var d=this;return function(){d.assign(a,c)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(L(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(V(a))return a.toString();if(!0===a)return"true";if(!1===a)return"false";if(null===a)return"null";if("undefined"==typeof a)return"undefined";throw da("esc")},nextId:function(a,c){var d="v"+this.state.nextId++;return a||this.current().vars.push(d+(c?"="+c:"")),d},current:function(){return this.state[this.state.computing]}},sd.prototype={compile:function(a,c){var d=this,e=this.astBuilder.ast(a);this.expression=a,this.expensiveChecks=c,T(e,d.$filter);var f,g;(f=pd(e))&&(g=this.recurse(f)),f=nd(e.body);var h;f&&(h=[],m(f,function(a,c){var e=d.recurse(a);a.input=e,h.push(e),a.watchId=c}));var l=[];return m(e.body,function(a){l.push(d.recurse(a.expression))}),f=0===e.body.length?function(){}:1===e.body.length?l[0]:function(a,c){var d;return m(l,function(e){d=e(a,c)}),d},g&&(f.assign=function(a,c,d){return g(a,d,c)}),h&&(f.inputs=h),f.literal=qd(e),f.constant=e.constant,f},recurse:function(a,c,d){var e,f,h,g=this;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case q.Literal:return this.value(a.value,c);case q.UnaryExpression:return f=this.recurse(a.argument),this["unary"+a.operator](f,c);case q.BinaryExpression:return e=this.recurse(a.left),f=this.recurse(a.right),this["binary"+a.operator](e,f,c);case q.LogicalExpression:return e=this.recurse(a.left),f=this.recurse(a.right),this["binary"+a.operator](e,f,c);case q.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),c);case q.Identifier:return Ca(a.name,g.expression),g.identifier(a.name,g.expensiveChecks||Fb(a.name),c,d,g.expression);case q.MemberExpression:return e=this.recurse(a.object,!1,!!d),a.computed||(Ca(a.property.name,g.expression),f=a.property.name),a.computed&&(f=this.recurse(a.property)),a.computed?this.computedMember(e,f,c,d,g.expression):this.nonComputedMember(e,f,g.expensiveChecks,c,d,g.expression);case q.CallExpression:return h=[],m(a.arguments,function(a){h.push(g.recurse(a))}),a.filter&&(f=this.$filter(a.callee.name)),a.filter||(f=this.recurse(a.callee,!0)),a.filter?function(a,d,e,g){for(var m=[],q=0;q<h.length;++q)m.push(h[q](a,d,e,g));return a=f.apply(t,m,g),c?{context:t,name:t,value:a}:a}:function(a,d,e,r){var q,m=f(a,d,e,r);if(null!=m.value){oa(m.context,g.expression),ld(m.value,g.expression),q=[];for(var t=0;t<h.length;++t)q.push(oa(h[t](a,d,e,r),g.expression));q=oa(m.value.apply(m.context,q),g.expression)}return c?{value:q}:q};case q.AssignmentExpression:return e=this.recurse(a.left,!0,1),f=this.recurse(a.right),function(a,d,h,r){var m=e(a,d,h,r);return a=f(a,d,h,r),oa(m.value,g.expression),m.context[m.name]=a,c?{value:a}:a};case q.ArrayExpression:return h=[],m(a.elements,function(a){h.push(g.recurse(a))}),function(a,d,e,f){for(var g=[],m=0;m<h.length;++m)g.push(h[m](a,d,e,f));return c?{value:g}:g};case q.ObjectExpression:return h=[],m(a.properties,function(a){h.push({key:a.key.type===q.Identifier?a.key.name:""+a.key.value,value:g.recurse(a.value)})}),function(a,d,e,f){for(var g={},m=0;m<h.length;++m)g[h[m].key]=h[m].value(a,d,e,f);return c?{value:g}:g};case q.ThisExpression:return function(a){return c?{value:a}:a};case q.NGValueParameter:return function(a,d,e){return c?{value:e}:e}}},"unary+":function(a,c){return function(d,e,f,g){return d=a(d,e,f,g),d=w(d)?+d:0,c?{value:d}:d}},"unary-":function(a,c){return function(d,e,f,g){return d=a(d,e,f,g),d=w(d)?-d:0,c?{value:d}:d}},"unary!":function(a,c){return function(d,e,f,g){return d=!a(d,e,f,g),c?{value:d}:d}},"binary+":function(a,c,d){return function(e,f,g,h){var l=a(e,f,g,h);return e=c(e,f,g,h),l=md(l,e),d?{value:l}:l}},"binary-":function(a,c,d){return function(e,f,g,h){var l=a(e,f,g,h);return e=c(e,f,g,h),l=(w(l)?l:0)-(w(e)?e:0),d?{value:l}:l}},"binary*":function(a,c,d){return function(e,f,g,h){return e=a(e,f,g,h)*c(e,f,g,h),d?{value:e}:e}},"binary/":function(a,c,d){return function(e,f,g,h){return e=a(e,f,g,h)/c(e,f,g,h),d?{value:e}:e}},"binary%":function(a,c,d){return function(e,f,g,h){return e=a(e,f,g,h)%c(e,f,g,h),d?{value:e}:e}},"binary===":function(a,c,d){return function(e,f,g,h){return e=a(e,f,g,h)===c(e,f,g,h),d?{value:e}:e}},"binary!==":function(a,c,d){return function(e,f,g,h){return e=a(e,f,g,h)!==c(e,f,g,h),d?{value:e}:e}},"binary==":function(a,c,d){return function(e,f,g,h){return e=a(e,f,g,h)==c(e,f,g,h),d?{value:e}:e}},"binary!=":function(a,c,d){return function(e,f,g,h){return e=a(e,f,g,h)!=c(e,f,g,h),d?{value:e}:e}},"binary<":function(a,c,d){return function(e,f,g,h){return e=a(e,f,g,h)<c(e,f,g,h),d?{value:e}:e}},"binary>":function(a,c,d){return function(e,f,g,h){return e=a(e,f,g,h)>c(e,f,g,h),d?{value:e}:e}},"binary<=":function(a,c,d){return function(e,f,g,h){return e=a(e,f,g,h)<=c(e,f,g,h),d?{value:e}:e}},"binary>=":function(a,c,d){return function(e,f,g,h){return e=a(e,f,g,h)>=c(e,f,g,h),d?{value:e}:e}},"binary&&":function(a,c,d){return function(e,f,g,h){return e=a(e,f,g,h)&&c(e,f,g,h),d?{value:e}:e}},"binary||":function(a,c,d){return function(e,f,g,h){return e=a(e,f,g,h)||c(e,f,g,h),d?{value:e}:e}},"ternary?:":function(a,c,d,e){return function(f,g,h,l){return f=a(f,g,h,l)?c(f,g,h,l):d(f,g,h,l),e?{value:f}:f}},value:function(a,c){return function(){return c?{context:t,name:t,value:a}:a}},identifier:function(a,c,d,e,f){return function(g,h){return g=h&&a in h?h:g,e&&1!==e&&g&&!g[a]&&(g[a]={}),h=g?g[a]:t,c&&oa(h,f),d?{context:g,name:a,value:h}:h}},computedMember:function(a,c,d,e,f){return function(g,h,l,k){var m,s,n=a(g,h,l,k);return null!=n&&(m=c(g,h,l,k),Ca(m,f),e&&1!==e&&n&&!n[m]&&(n[m]={}),s=n[m],oa(s,f)),d?{context:n,name:m,value:s}:s}},nonComputedMember:function(a,c,d,e,f,g){return function(h,l,k,n){return h=a(h,l,k,n),f&&1!==f&&h&&!h[c]&&(h[c]={}),l=null!=h?h[c]:t,(d||Fb(c))&&oa(l,g),e?{context:h,name:c,value:l}:l}},inputs:function(a,c){return function(d,e,f,g){return g?g[c]:a(d,e,f)}}};var hc=function(a,c,d){this.lexer=a,this.$filter=c,this.options=d,this.ast=new q(this.lexer),this.astCompiler=d.csp?new sd(this.ast,c):new rd(this.ast,c)};hc.prototype={constructor:hc,parse:function(a){return this.astCompiler.compile(a,this.options.expensiveChecks)}},ga(),ga();var Yf=Object.prototype.valueOf,Da=J("$sce"),pa={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},ea=J("$compile"),X=U.createElement("a"),wd=Ba(O.location.href);xd.$inject=["$document"],Lc.$inject=["$provide"],yd.$inject=["$locale"],Ad.$inject=["$locale"];var Dd=".",hg={yyyy:Y("FullYear",4),yy:Y("FullYear",2,0,!0),y:Y("FullYear",1),MMMM:Hb("Month"),MMM:Hb("Month",!0),MM:Y("Month",2,1),M:Y("Month",1,1),dd:Y("Date",2),d:Y("Date",1),HH:Y("Hours",2),H:Y("Hours",1),hh:Y("Hours",2,-12),h:Y("Hours",1,-12),mm:Y("Minutes",2),m:Y("Minutes",1),ss:Y("Seconds",2),s:Y("Seconds",1),sss:Y("Milliseconds",3),EEEE:Hb("Day"),EEE:Hb("Day",!0),a:function(a,c){return 12>a.getHours()?c.AMPMS[0]:c.AMPMS[1]},Z:function(a,c,d){return a=-1*d,a=(a>=0?"+":"")+(Gb(Math[a>0?"floor":"ceil"](a/60),2)+Gb(Math.abs(a%60),2))},ww:Fd(2),w:Fd(1),G:jc,GG:jc,GGG:jc,GGGG:function(a,c){return 0>=a.getFullYear()?c.ERANAMES[0]:c.ERANAMES[1]}},gg=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,fg=/^\-?\d+$/;zd.$inject=["$locale"];var cg=ra(M),dg=ra(rb);Bd.$inject=["$parse"];var ie=ra({restrict:"E",compile:function(a,c){return c.href||c.xlinkHref?void 0:function(a,c){if("a"===c[0].nodeName.toLowerCase()){var f="[object SVGAnimatedString]"===sa.call(c.prop("href"))?"xlink:href":"href";c.on("click",function(a){c.attr(f)||a.preventDefault()})}}}}),sb={};m(Ab,function(a,c){function d(a,d,f){a.$watch(f[e],function(a){f.$set(c,!!a)})}if("multiple"!=a){var e=wa("ng-"+c),f=d;"checked"===a&&(f=function(a,c,f){f.ngModel!==f[e]&&d(a,c,f)}),sb[e]=function(){return{restrict:"A",priority:100,link:f}}}}),m(Uc,function(a,c){sb[c]=function(){return{priority:100,link:function(a,e,f){return"ngPattern"===c&&"/"==f.ngPattern.charAt(0)&&(e=f.ngPattern.match(jg))?void f.$set("ngPattern",new RegExp(e[1],e[2])):void a.$watch(f[c],function(a){f.$set(c,a)})}}}}),m(["src","srcset","href"],function(a){var c=wa("ng-"+a);sb[c]=function(){return{priority:99,link:function(d,e,f){var g=a,h=a;"href"===a&&"[object SVGAnimatedString]"===sa.call(e.prop("href"))&&(h="xlinkHref",f.$attr[h]="xlink:href",g=null),f.$observe(c,function(c){c?(f.$set(h,c),Ua&&g&&e.prop(g,f[h])):"href"===a&&f.$set(h,null)})}}}});var Ib={$addControl:v,$$renameControl:function(a,c){a.$name=c},$removeControl:v,$setValidity:v,$setDirty:v,$setPristine:v,$setSubmitted:v};Gd.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Od=function(a){return["$timeout",function(c){return{name:"form",restrict:a?"EAC":"E",controller:Gd,compile:function(d,e){d.addClass(Va).addClass(mb);var f=e.name?"name":a&&e.ngForm?"ngForm":!1;return{pre:function(a,d,e,k){if(!("action"in e)){var n=function(c){a.$apply(function(){k.$commitViewValue(),k.$setSubmitted()}),c.preventDefault()};d[0].addEventListener("submit",n,!1),d.on("$destroy",function(){c(function(){d[0].removeEventListener("submit",n,!1)},0,!1)})}var m=k.$$parentForm;f&&(Eb(a,k.$name,k,k.$name),e.$observe(f,function(c){k.$name!==c&&(Eb(a,k.$name,t,k.$name),m.$$renameControl(k,c),Eb(a,k.$name,k,k.$name))})),d.on("$destroy",function(){m.$removeControl(k),f&&Eb(a,e[f],t,k.$name),P(k,Ib)})}}}}}]},je=Od(),we=Od(!0),ig=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,rg=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,sg=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,tg=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Pd=/^(\d{4})-(\d{2})-(\d{2})$/,Qd=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,mc=/^(\d{4})-W(\d\d)$/,Rd=/^(\d{4})-(\d\d)$/,Sd=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Td={text:function(a,c,d,e,f,g){kb(a,c,d,e,f,g),kc(e)},date:lb("date",Pd,Kb(Pd,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":lb("datetimelocal",Qd,Kb(Qd,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:lb("time",Sd,Kb(Sd,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:lb("week",mc,function(a,c){if(aa(a))return a;if(L(a)){mc.lastIndex=0;var d=mc.exec(a);if(d){var e=+d[1],f=+d[2],g=d=0,h=0,l=0,k=Ed(e),f=7*(f-1);return c&&(d=c.getHours(),g=c.getMinutes(),h=c.getSeconds(),l=c.getMilliseconds()),new Date(e,0,k.getDate()+f,d,g,h,l)}}return 0/0},"yyyy-Www"),month:lb("month",Rd,Kb(Rd,["yyyy","MM"]),"yyyy-MM"),number:function(a,c,d,e,f,g){if(Id(a,c,d,e),kb(a,c,d,e,f,g),e.$$parserName="number",e.$parsers.push(function(a){return e.$isEmpty(a)?null:tg.test(a)?parseFloat(a):t}),e.$formatters.push(function(a){if(!e.$isEmpty(a)){if(!V(a))throw Lb("numfmt",a);a=a.toString()}return a}),w(d.min)||d.ngMin){var h;e.$validators.min=function(a){return e.$isEmpty(a)||A(h)||a>=h},d.$observe("min",function(a){w(a)&&!V(a)&&(a=parseFloat(a,10)),h=V(a)&&!isNaN(a)?a:t,e.$validate()})}if(w(d.max)||d.ngMax){var l;e.$validators.max=function(a){return e.$isEmpty(a)||A(l)||l>=a},d.$observe("max",function(a){w(a)&&!V(a)&&(a=parseFloat(a,10)),l=V(a)&&!isNaN(a)?a:t,e.$validate()})}},url:function(a,c,d,e,f,g){kb(a,c,d,e,f,g),kc(e),e.$$parserName="url",e.$validators.url=function(a,c){var d=a||c;return e.$isEmpty(d)||rg.test(d)}},email:function(a,c,d,e,f,g){kb(a,c,d,e,f,g),kc(e),e.$$parserName="email",e.$validators.email=function(a,c){var d=a||c;return e.$isEmpty(d)||sg.test(d)}},radio:function(a,c,d,e){A(d.name)&&c.attr("name",++nb),c.on("click",function(a){c[0].checked&&e.$setViewValue(d.value,a&&a.type)}),e.$render=function(){c[0].checked=d.value==e.$viewValue},d.$observe("value",e.$render)},checkbox:function(a,c,d,e,f,g,h,l){var k=Jd(l,a,"ngTrueValue",d.ngTrueValue,!0),n=Jd(l,a,"ngFalseValue",d.ngFalseValue,!1);c.on("click",function(a){e.$setViewValue(c[0].checked,a&&a.type)}),e.$render=function(){c[0].checked=e.$viewValue},e.$isEmpty=function(a){return!1===a},e.$formatters.push(function(a){return ka(a,k)}),e.$parsers.push(function(a){return a?k:n})},hidden:v,button:v,submit:v,reset:v,file:v},Fc=["$browser","$sniffer","$filter","$parse",function(a,c,d,e){return{restrict:"E",require:["?ngModel"],link:{pre:function(f,g,h,l){l[0]&&(Td[M(h.type)]||Td.text)(f,g,h,l[0],c,a,d,e)}}}}],ug=/^(true|false|\d+)$/,Oe=function(){return{restrict:"A",priority:100,compile:function(a,c){return ug.test(c.ngValue)?function(a,c,f){f.$set("value",a.$eval(f.ngValue))}:function(a,c,f){a.$watch(f.ngValue,function(a){f.$set("value",a)})}}}},oe=["$compile",function(a){return{restrict:"AC",compile:function(c){return a.$$addBindingClass(c),function(c,e,f){a.$$addBindingInfo(e,f.ngBind),e=e[0],c.$watch(f.ngBind,function(a){e.textContent=a===t?"":a})}}}}],qe=["$interpolate","$compile",function(a,c){return{compile:function(d){return c.$$addBindingClass(d),function(d,f,g){d=a(f.attr(g.$attr.ngBindTemplate)),c.$$addBindingInfo(f,d.expressions),f=f[0],g.$observe("ngBindTemplate",function(a){f.textContent=a===t?"":a})}}}}],pe=["$sce","$parse","$compile",function(a,c,d){return{restrict:"A",compile:function(e,f){var g=c(f.ngBindHtml),h=c(f.ngBindHtml,function(a){return(a||"").toString()});return d.$$addBindingClass(e),function(c,e,f){d.$$addBindingInfo(e,f.ngBindHtml),c.$watch(h,function(){e.html(a.getTrustedHtml(g(c))||"")})}}}}],Ne=ra({restrict:"A",require:"ngModel",link:function(a,c,d,e){e.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),re=lc("",!0),te=lc("Odd",0),se=lc("Even",1),ue=Ma({compile:function(a,c){c.$set("ngCloak",t),a.removeClass("ng-cloak")}}),ve=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Kc={},vg={blur:!0,focus:!0};m("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var c=wa("ng-"+a);Kc[c]=["$parse","$rootScope",function(d,e){return{restrict:"A",compile:function(f,g){var h=d(g[c],null,!0);return function(c,d){d.on(a,function(d){var f=function(){h(c,{$event:d})};vg[a]&&e.$$phase?c.$evalAsync(f):c.$apply(f)})}}}}]});var ye=["$animate",function(a){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,l,k;c.$watch(e.ngIf,function(c){c?l||g(function(c,f){l=f,c[c.length++]=U.createComment(" end ngIf: "+e.ngIf+" "),h={clone:c},a.enter(c,d.parent(),d)}):(k&&(k.remove(),k=null),l&&(l.$destroy(),l=null),h&&(k=qb(h.clone),a.leave(k).then(function(){k=null}),h=null))})}}}],ze=["$templateRequest","$anchorScroll","$animate",function(a,c,d){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ca.noop,compile:function(e,f){var g=f.ngInclude||f.src,h=f.onload||"",l=f.autoscroll;return function(e,f,m,s,q){var F,u,p,t=0,v=function(){u&&(u.remove(),u=null),F&&(F.$destroy(),F=null),p&&(d.leave(p).then(function(){u=null}),u=p,p=null)};e.$watch(g,function(g){var m=function(){!w(l)||l&&!e.$eval(l)||c()},r=++t;g?(a(g,!0).then(function(a){if(r===t){var c=e.$new();s.template=a,a=q(c,function(a){v(),d.enter(a,null,f).then(m)}),F=c,p=a,F.$emit("$includeContentLoaded",g),e.$eval(h)}},function(){r===t&&(v(),e.$emit("$includeContentError",g))}),e.$emit("$includeContentRequested",g)):(v(),s.template=null)})}}}}],Qe=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){/SVG/.test(d[0].toString())?(d.empty(),a(Nc(f.template,U).childNodes)(c,function(a){d.append(a)},{futureParentElement:d})):(d.html(f.template),a(d.contents())(c))}}}],Ae=Ma({priority:450,compile:function(){return{pre:function(a,c,d){a.$eval(d.ngInit)}}}}),Me=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,c,d,e){var f=c.attr(d.$attr.ngList)||", ",g="false"!==d.ngTrim,h=g?R(f):f;e.$parsers.push(function(a){if(!A(a)){var c=[];return a&&m(a.split(h),function(a){a&&c.push(g?R(a):a)}),c}}),e.$formatters.push(function(a){return G(a)?a.join(f):t}),e.$isEmpty=function(a){return!a||!a.length}}}},mb="ng-valid",Kd="ng-invalid",Va="ng-pristine",Jb="ng-dirty",Md="ng-pending",Lb=new J("ngModel"),wg=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,c,d,e,f,g,h,l,k,n){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=t,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=t,this.$name=n(d.name||"",!1)(a);var u,r=f(d.ngModel),s=r.assign,q=r,C=s,F=null,p=this;this.$$setOptions=function(a){if((p.$options=a)&&a.getterSetter){var c=f(d.ngModel+"()"),g=f(d.ngModel+"($$$p)");q=function(a){var d=r(a);return z(d)&&(d=c(a)),d},C=function(a){z(r(a))?g(a,{$$$p:p.$modelValue}):s(a,p.$modelValue)}}else if(!r.assign)throw Lb("nonassign",d.ngModel,ua(e))},this.$render=v,this.$isEmpty=function(a){return A(a)||""===a||null===a||a!==a};var K=e.inheritedData("$formController")||Ib,y=0;Hd({ctrl:this,$element:e,set:function(a,c){a[c]=!0
},unset:function(a,c){delete a[c]},parentForm:K,$animate:g}),this.$setPristine=function(){p.$dirty=!1,p.$pristine=!0,g.removeClass(e,Jb),g.addClass(e,Va)},this.$setDirty=function(){p.$dirty=!0,p.$pristine=!1,g.removeClass(e,Va),g.addClass(e,Jb),K.$setDirty()},this.$setUntouched=function(){p.$touched=!1,p.$untouched=!0,g.setClass(e,"ng-untouched","ng-touched")},this.$setTouched=function(){p.$touched=!0,p.$untouched=!1,g.setClass(e,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){h.cancel(F),p.$viewValue=p.$$lastCommittedViewValue,p.$render()},this.$validate=function(){if(!V(p.$modelValue)||!isNaN(p.$modelValue)){var a=p.$$rawModelValue,c=p.$valid,d=p.$modelValue,e=p.$options&&p.$options.allowInvalid;p.$$runValidators(a,p.$$lastCommittedViewValue,function(f){e||c===f||(p.$modelValue=f?a:t,p.$modelValue!==d&&p.$$writeModelToScope())})}},this.$$runValidators=function(a,c,d){function e(){var d=!0;return m(p.$validators,function(e,f){var h=e(a,c);d=d&&h,g(f,h)}),d?!0:(m(p.$asyncValidators,function(a,c){g(c,null)}),!1)}function f(){var d=[],e=!0;m(p.$asyncValidators,function(f,h){var k=f(a,c);if(!k||!z(k.then))throw Lb("$asyncValidators",k);g(h,t),d.push(k.then(function(){g(h,!0)},function(){e=!1,g(h,!1)}))}),d.length?k.all(d).then(function(){h(e)},v):h(!0)}function g(a,c){l===y&&p.$setValidity(a,c)}function h(a){l===y&&d(a)}y++;var l=y;(function(){var a=p.$$parserName||"parse";return u!==t?(u||(m(p.$validators,function(a,c){g(c,null)}),m(p.$asyncValidators,function(a,c){g(c,null)})),g(a,u),u):(g(a,null),!0)})()?e()?f():h(!1):h(!1)},this.$commitViewValue=function(){var a=p.$viewValue;h.cancel(F),(p.$$lastCommittedViewValue!==a||""===a&&p.$$hasNativeValidators)&&(p.$$lastCommittedViewValue=a,p.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var c=p.$$lastCommittedViewValue;if(u=A(c)?t:!0)for(var d=0;d<p.$parsers.length;d++)if(c=p.$parsers[d](c),A(c)){u=!1;break}V(p.$modelValue)&&isNaN(p.$modelValue)&&(p.$modelValue=q(a));var e=p.$modelValue,f=p.$options&&p.$options.allowInvalid;p.$$rawModelValue=c,f&&(p.$modelValue=c,p.$modelValue!==e&&p.$$writeModelToScope()),p.$$runValidators(c,p.$$lastCommittedViewValue,function(a){f||(p.$modelValue=a?c:t,p.$modelValue!==e&&p.$$writeModelToScope())})},this.$$writeModelToScope=function(){C(a,p.$modelValue),m(p.$viewChangeListeners,function(a){try{a()}catch(d){c(d)}})},this.$setViewValue=function(a,c){p.$viewValue=a,p.$options&&!p.$options.updateOnDefault||p.$$debounceViewValueCommit(c)},this.$$debounceViewValueCommit=function(c){var d=0,e=p.$options;e&&w(e.debounce)&&(e=e.debounce,V(e)?d=e:V(e[c])?d=e[c]:V(e["default"])&&(d=e["default"])),h.cancel(F),d?F=h(function(){p.$commitViewValue()},d):l.$$phase?p.$commitViewValue():a.$apply(function(){p.$commitViewValue()})},a.$watch(function(){var c=q(a);if(c!==p.$modelValue&&(p.$modelValue===p.$modelValue||c===c)){p.$modelValue=p.$$rawModelValue=c,u=t;for(var d=p.$formatters,e=d.length,f=c;e--;)f=d[e](f);p.$viewValue!==f&&(p.$viewValue=p.$$lastCommittedViewValue=f,p.$render(),p.$$runValidators(c,f,v))}return c})}],Le=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:wg,priority:1,compile:function(c){return c.addClass(Va).addClass("ng-untouched").addClass(mb),{pre:function(a,c,f,g){var h=g[0],l=g[1]||Ib;h.$$setOptions(g[2]&&g[2].$options),l.$addControl(h),f.$observe("name",function(a){h.$name!==a&&l.$$renameControl(h,a)}),a.$on("$destroy",function(){l.$removeControl(h)})},post:function(c,e,f,g){var h=g[0];h.$options&&h.$options.updateOn&&e.on(h.$options.updateOn,function(a){h.$$debounceViewValueCommit(a&&a.type)}),e.on("blur",function(){h.$touched||(a.$$phase?c.$evalAsync(h.$setTouched):c.$apply(h.$setTouched))})}}}}}],xg=/(\s+|^)default(\s+|$)/,Pe=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,c){var d=this;this.$options=fa(a.$eval(c.ngModelOptions)),this.$options.updateOn!==t?(this.$options.updateOnDefault=!1,this.$options.updateOn=R(this.$options.updateOn.replace(xg,function(){return d.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Be=Ma({terminal:!0,priority:1e3}),yg=J("ngOptions"),zg=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Je=["$compile","$parse",function(a,c){function d(a,d,e){function f(a,c,d,e,g){this.selectValue=a,this.viewValue=c,this.label=d,this.group=e,this.disabled=g}function n(a){var c;if(!q&&Ea(a))c=a;else{c=[];for(var d in a)a.hasOwnProperty(d)&&"$"!==d.charAt(0)&&c.push(d)}return c}var m=a.match(zg);if(!m)throw yg("iexp",a,ua(d));var s=m[5]||m[7],q=m[6];a=/ as /.test(m[0])&&m[1];var t=m[9];d=c(m[2]?m[1]:s);var v=a&&c(a)||d,u=t&&c(t),p=t?function(a,c){return u(e,c)}:function(a){return Ga(a)},w=function(a,c){return p(a,z(a,c))},y=c(m[2]||m[1]),A=c(m[3]||""),B=c(m[4]||""),N=c(m[8]),D={},z=q?function(a,c){return D[q]=c,D[s]=a,D}:function(a){return D[s]=a,D};return{trackBy:t,getTrackByValue:w,getWatchables:c(N,function(a){var c=[];a=a||[];for(var d=n(a),f=d.length,g=0;f>g;g++){var h=a===d?g:d[g],k=z(a[h],h),h=p(a[h],k);c.push(h),(m[2]||m[1])&&(h=y(e,k),c.push(h)),m[4]&&(k=B(e,k),c.push(k))}return c}),getOptions:function(){for(var a=[],c={},d=N(e)||[],g=n(d),h=g.length,m=0;h>m;m++){var r=d===g?m:g[m],s=z(d[r],r),q=v(e,s),r=p(q,s),u=y(e,s),x=A(e,s),s=B(e,s),q=new f(r,q,u,x,s);a.push(q),c[r]=q}return{items:a,selectValueMap:c,getOptionFromViewValue:function(a){return c[w(a)]},getViewValueFromOption:function(a){return t?ca.copy(a.viewValue):a.viewValue}}}}}var e=U.createElement("option"),f=U.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:function(c,h,l,k){function n(a,c){a.element=c,c.disabled=a.disabled,a.value!==c.value&&(c.value=a.selectValue),a.label!==c.label&&(c.label=a.label,c.textContent=a.label)}function r(a,c,d,e){return c&&M(c.nodeName)===d?d=c:(d=e.cloneNode(!1),c?a.insertBefore(d,c):a.appendChild(d)),d}function s(a){for(var c;a;)c=a.nextSibling,Xb(a),a=c}function q(a){var c=p&&p[0],d=N&&N[0];if(c||d)for(;a&&(a===c||a===d);)a=a.nextSibling;return a}function t(){var a=D&&u.readValue();D=z.getOptions();var c={},d=h[0].firstChild;if(B&&h.prepend(p),d=q(d),D.items.forEach(function(a){var g,k;a.group?(g=c[a.group],g||(g=r(h[0],d,"optgroup",f),d=g.nextSibling,g.label=a.group,g=c[a.group]={groupElement:g,currentOptionElement:g.firstChild}),k=r(g.groupElement,g.currentOptionElement,"option",e),n(a,k),g.currentOptionElement=k.nextSibling):(k=r(h[0],d,"option",e),n(a,k),d=k.nextSibling)}),Object.keys(c).forEach(function(a){s(c[a].currentOptionElement)}),s(d),v.$render(),!v.$isEmpty(a)){var g=u.readValue();(z.trackBy?ka(a,g):a===g)||(v.$setViewValue(g),v.$render())}}var v=k[1];if(v){var u=k[0];k=l.multiple;for(var p,w=0,A=h.children(),I=A.length;I>w;w++)if(""===A[w].value){p=A.eq(w);break}var B=!!p,N=y(e.cloneNode(!1));N.val("?");var D,z=d(l.ngOptions,h,c);k?(v.$isEmpty=function(a){return!a||0===a.length},u.writeValue=function(a){D.items.forEach(function(a){a.element.selected=!1}),a&&a.forEach(function(a){(a=D.getOptionFromViewValue(a))&&!a.disabled&&(a.element.selected=!0)})},u.readValue=function(){var a=h.val()||[],c=[];return m(a,function(a){a=D.selectValueMap[a],a.disabled||c.push(D.getViewValueFromOption(a))}),c},z.trackBy&&c.$watchCollection(function(){return G(v.$viewValue)?v.$viewValue.map(function(a){return z.getTrackByValue(a)}):void 0},function(){v.$render()})):(u.writeValue=function(a){var c=D.getOptionFromViewValue(a);c&&!c.disabled?h[0].value!==c.selectValue&&(N.remove(),B||p.remove(),h[0].value=c.selectValue,c.element.selected=!0,c.element.setAttribute("selected","selected")):null===a||B?(N.remove(),B||h.prepend(p),h.val(""),p.prop("selected",!0),p.attr("selected",!0)):(B||p.remove(),h.prepend(N),h.val("?"),N.prop("selected",!0),N.attr("selected",!0))},u.readValue=function(){var a=D.selectValueMap[h.val()];return a&&!a.disabled?(B||p.remove(),N.remove(),D.getViewValueFromOption(a)):null},z.trackBy&&c.$watch(function(){return z.getTrackByValue(v.$viewValue)},function(){v.$render()})),B?(p.remove(),a(p)(c),p.removeClass("ng-scope")):p=y(e.cloneNode(!1)),t(),c.$watchCollection(z.getWatchables,t)}}}}],Ce=["$locale","$interpolate","$log",function(a,c,d){var e=/{}/g,f=/^when(Minus)?(.+)$/;return{link:function(g,h,l){function k(a){h.text(a||"")}var z,n=l.count,r=l.$attr.when&&h.attr(l.$attr.when),s=l.offset||0,q=g.$eval(r)||{},t={},w=c.startSymbol(),u=c.endSymbol(),p=w+n+"-"+s+u,y=ca.noop;m(l,function(a,c){var d=f.exec(c);d&&(d=(d[1]?"-":"")+M(d[2]),q[d]=h.attr(l.$attr[c]))}),m(q,function(a,d){t[d]=c(a.replace(e,p))}),g.$watch(n,function(c){var e=parseFloat(c),f=isNaN(e);f||e in q||(e=a.pluralCat(e-s)),e===z||f&&V(z)&&isNaN(z)||(y(),f=t[e],A(f)?(null!=c&&d.debug("ngPluralize: no rule defined for '"+e+"' in "+r),y=v,k()):y=g.$watch(f,k),z=e)})}}}],De=["$parse","$animate",function(a,c){var d=J("ngRepeat"),e=function(a,c,d,e,k,m,r){a[d]=e,k&&(a[k]=m),a.$index=c,a.$first=0===c,a.$last=c===r-1,a.$middle=!(a.$first||a.$last),a.$odd=!(a.$even=0===(1&c))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(f,g){var h=g.ngRepeat,l=U.createComment(" end ngRepeat: "+h+" "),k=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!k)throw d("iexp",h);var n=k[1],r=k[2],s=k[3],q=k[4],k=n.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!k)throw d("iidexp",n);var v=k[3]||k[1],w=k[2];if(s&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(s)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(s)))throw d("badident",s);var u,p,z,A,I={$id:Ga};return q?u=a(q):(z=function(a,c){return Ga(c)},A=function(a){return a}),function(a,f,g,k,n){u&&(p=function(c,d,e){return w&&(I[w]=c),I[v]=d,I.$index=e,u(a,I)});var q=ga();a.$watchCollection(r,function(g){var k,r,x,I,H,L,G,M,J,O,u=f[0],D=ga();if(s&&(a[s]=g),Ea(g))M=g,r=p||z;else for(O in r=p||A,M=[],g)g.hasOwnProperty(O)&&"$"!==O.charAt(0)&&M.push(O);for(I=M.length,O=Array(I),k=0;I>k;k++)if(H=g===M?k:M[k],L=g[H],G=r(H,L,k),q[G])J=q[G],delete q[G],D[G]=J,O[k]=J;else{if(D[G])throw m(O,function(a){a&&a.scope&&(q[a.id]=a)}),d("dupes",h,G,L);O[k]={id:G,scope:t,clone:t},D[G]=!0}for(x in q){if(J=q[x],G=qb(J.clone),c.leave(G),G[0].parentNode)for(k=0,r=G.length;r>k;k++)G[k].$$NG_REMOVED=!0;J.scope.$destroy()}for(k=0;I>k;k++)if(H=g===M?k:M[k],L=g[H],J=O[k],J.scope){x=u;do x=x.nextSibling;while(x&&x.$$NG_REMOVED);J.clone[0]!=x&&c.move(qb(J.clone),null,y(u)),u=J.clone[J.clone.length-1],e(J.scope,k,v,L,w,H,I)}else n(function(a,d){J.scope=d;var f=l.cloneNode(!1);a[a.length++]=f,c.enter(a,null,y(u)),u=f,J.clone=a,D[J.id]=J,e(J.scope,k,v,L,w,H,I)});q=D})}}}}],Ee=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(c,d,e){c.$watch(e.ngShow,function(c){a[c?"removeClass":"addClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],xe=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(c,d,e){c.$watch(e.ngHide,function(c){a[c?"addClass":"removeClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Fe=Ma(function(a,c,d){a.$watch(d.ngStyle,function(a,d){d&&a!==d&&m(d,function(a,d){c.css(d,"")}),a&&c.css(a)},!0)}),Ge=["$animate",function(a){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,d,e,f){var g=[],h=[],l=[],k=[],n=function(a,c){return function(){a.splice(c,1)}};c.$watch(e.ngSwitch||e.on,function(c){var d,e;for(d=0,e=l.length;e>d;++d)a.cancel(l[d]);for(d=l.length=0,e=k.length;e>d;++d){var q=qb(h[d].clone);k[d].$destroy(),(l[d]=a.leave(q)).then(n(l,d))}h.length=0,k.length=0,(g=f.cases["!"+c]||f.cases["?"])&&m(g,function(c){c.transclude(function(d,e){k.push(e);var f=c.element;d[d.length++]=U.createComment(" end ngSwitchWhen: "),h.push({clone:d}),a.enter(d,f.parent(),f)})})})}}}],He=Ma({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,c,d,e,f){e.cases["!"+d.ngSwitchWhen]=e.cases["!"+d.ngSwitchWhen]||[],e.cases["!"+d.ngSwitchWhen].push({transclude:f,element:c})}}),Ie=Ma({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,c,d,e,f){e.cases["?"]=e.cases["?"]||[],e.cases["?"].push({transclude:f,element:c})}}),Ke=Ma({restrict:"EAC",link:function(a,c,d,e,f){if(!f)throw J("ngTransclude")("orphan",ua(c));f(function(a){c.empty(),c.append(a)})}}),ke=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(c,d){"text/ng-template"==d.type&&a.put(d.id,c[0].text)}}}],Ag={$setViewValue:v,$render:v},Bg=["$element","$scope","$attrs",function(a,c){var e=this,f=new Sa;e.ngModelCtrl=Ag,e.unknownOption=y(U.createElement("option")),e.renderUnknownOption=function(c){c="? "+Ga(c)+" ?",e.unknownOption.val(c),a.prepend(e.unknownOption),a.val(c)},c.$on("$destroy",function(){e.renderUnknownOption=v}),e.removeUnknownOption=function(){e.unknownOption.parent()&&e.unknownOption.remove()},e.readValue=function(){return e.removeUnknownOption(),a.val()},e.writeValue=function(c){e.hasOption(c)?(e.removeUnknownOption(),a.val(c),""===c&&e.emptyOption.prop("selected",!0)):null==c&&e.emptyOption?(e.removeUnknownOption(),a.val("")):e.renderUnknownOption(c)},e.addOption=function(a,c){Ra(a,'"option value"'),""===a&&(e.emptyOption=c);var d=f.get(a)||0;f.put(a,d+1)},e.removeOption=function(a){var c=f.get(a);c&&(1===c?(f.remove(a),""===a&&(e.emptyOption=t)):f.put(a,c-1))},e.hasOption=function(a){return!!f.get(a)}}],le=function(){return{restrict:"E",require:["select","?ngModel"],controller:Bg,link:function(a,c,d,e){var f=e[1];if(f){var g=e[0];if(g.ngModelCtrl=f,f.$render=function(){g.writeValue(f.$viewValue)},c.on("change",function(){a.$apply(function(){f.$setViewValue(g.readValue())})}),d.multiple){g.readValue=function(){var a=[];return m(c.find("option"),function(c){c.selected&&a.push(c.value)}),a},g.writeValue=function(a){var d=new Sa(a);m(c.find("option"),function(a){a.selected=w(d.get(a.value))})};var h,l=0/0;a.$watch(function(){l!==f.$viewValue||ka(h,f.$viewValue)||(h=ia(f.$viewValue),f.$render()),l=f.$viewValue}),f.$isEmpty=function(a){return!a||0===a.length}}}}}},ne=["$interpolate",function(a){function c(a){a[0].hasAttribute("selected")&&(a[0].selected=!0)}return{restrict:"E",priority:100,compile:function(d,e){if(A(e.value)){var f=a(d.text(),!0);f||e.$set("value",d.text())}return function(a,d,e){var k=d.parent(),m=k.data("$selectController")||k.parent().data("$selectController");m&&m.ngModelCtrl&&(f?a.$watch(f,function(a,f){e.$set("value",a),f!==a&&m.removeOption(f),m.addOption(a,d),m.ngModelCtrl.$render(),c(d)}):(m.addOption(e.value,d),m.ngModelCtrl.$render(),c(d)),d.on("$destroy",function(){m.removeOption(e.value),m.ngModelCtrl.$render()}))}}}}],me=ra({restrict:"E",terminal:!1}),Hc=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){e&&(d.required=!0,e.$validators.required=function(a,c){return!d.required||!e.$isEmpty(c)},d.$observe("required",function(){e.$validate()}))}}},Gc=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f,g=d.ngPattern||d.pattern;d.$observe("pattern",function(a){if(L(a)&&0<a.length&&(a=new RegExp("^"+a+"$")),a&&!a.test)throw J("ngPattern")("noregexp",g,a,ua(c));f=a||t,e.$validate()}),e.$validators.pattern=function(a){return e.$isEmpty(a)||A(f)||f.test(a)}}}}},Jc=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f=-1;d.$observe("maxlength",function(a){a=W(a),f=isNaN(a)?-1:a,e.$validate()}),e.$validators.maxlength=function(a,c){return 0>f||e.$isEmpty(c)||c.length<=f}}}}},Ic=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f=0;d.$observe("minlength",function(a){f=W(a)||0,e.$validate()}),e.$validators.minlength=function(a,c){return e.$isEmpty(c)||c.length>=f}}}}};O.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(ce(),ee(ca),y(U).ready(function(){Zd(U,Ac)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),define("angular",function(global){return function(){var ret;return ret||global.angular}}(this)),!function(){function e(e,t,n){t!==!1?X.addEventListener(e,J[e],n):X.removeEventListener(e,J[e])}function t(e){var t=w(e.target),i=T(t);if(ionic.tap.requiresNativeClick(i)||$)return!1;var r=ionic.tap.pointerCoord(e);n("click",i,r.x,r.y),h(i)}function n(e,t,n,i){var r=document.createEvent("MouseEvents");r.initMouseEvent(e,!0,!0,window,1,0,0,n,i,!1,!1,!1,!1,0,null),r.isIonicTap=!0,t.dispatchEvent(r)}function i(e){return"submit"==e.target.type&&0===e.detail?null:ionic.scroll.isScrolling&&ionic.tap.containsOrIsTextInput(e.target)||!e.isIonicTap&&!ionic.tap.requiresNativeClick(e.target)?(e.stopPropagation(),ionic.tap.isLabelWithTextInput(e.target)||e.preventDefault(),!1):void 0}function r(t){return t.isIonicTap||p(t)?null:B?(t.stopPropagation(),ionic.Platform.isEdge()||ionic.tap.isTextInput(t.target)&&K===t.target||b(t.target.tagName)||ionic.tap.isVideo(t.target)||t.preventDefault(),!1):($=!1,q=ionic.tap.pointerCoord(t),e("mousemove"),void ionic.activator.start(t))}function a(n){return B?(n.stopPropagation(),n.preventDefault(),!1):p(n)||b(n.target.tagName)?!1:(_(n)||t(n),e("mousemove",!1),ionic.activator.end(),void($=!1))}function o(t){return _(t)?(e("mousemove",!1),ionic.activator.end(),$=!0,!1):void 0}function s(t){if(!p(t)&&($=!1,u(),q=ionic.tap.pointerCoord(t),e(j),ionic.activator.start(t),ionic.Platform.isIOS()&&ionic.tap.isLabelWithTextInput(t.target))){var n=T(w(t.target));n!==F&&t.preventDefault()}}function l(e){p(e)||(u(),_(e)||(t(e),b(e.target.tagName)&&e.preventDefault()),K=e.target,d())}function c(t){return _(t)?($=!0,e(j,!1),ionic.activator.end(),!1):void 0}function d(){e(j,!1),ionic.activator.end(),$=!1}function u(){B=!0,clearTimeout(W),W=setTimeout(function(){B=!1},600)}function p(e){return e.isTapHandled?!0:(e.isTapHandled=!0,ionic.tap.isElementTapDisabled(e.target)?!0:ionic.scroll.isScrolling&&ionic.tap.containsOrIsTextInput(e.target)?(e.preventDefault(),!0):void 0)}function h(e){U=null;var t=!1;"SELECT"==e.tagName?(n("mousedown",e,0,0),e.focus&&e.focus(),t=!0):v()===e?t=!0:/^(input|textarea|ion-label)$/i.test(e.tagName)||e.isContentEditable?(t=!0,e.focus&&e.focus(),e.value=e.value,B&&(U=e)):f(),t&&(v(e),ionic.trigger("ionic.focusin",{target:e},!0))}function f(){var e=v();e&&(/^(input|textarea|select)$/i.test(e.tagName)||e.isContentEditable)&&e.blur(),v(null)}function m(e){B&&ionic.tap.isTextInput(v())&&ionic.tap.isTextInput(U)&&U!==e.target&&(U.focus(),U=null),ionic.scroll.isScrolling=!1}function g(){v(null)}function v(e){return arguments.length&&(F=e),F||document.activeElement}function _(e){if(!e||1!==e.target.nodeType||!q||0===q.x&&0===q.y)return!1;var t=ionic.tap.pointerCoord(e),n=!(!e.target.classList||!e.target.classList.contains||"function"!=typeof e.target.classList.contains),i=n&&e.target.classList.contains("button")?Q:Z;return Math.abs(q.x-t.x)>i||Math.abs(q.y-t.y)>i}function w(e,t){for(var n=e,i=0;6>i&&n;i++){if("LABEL"===n.tagName)return n;n=n.parentElement}return t!==!1?e:void 0}function T(e){if(e&&"LABEL"===e.tagName){if(e.control)return e.control;if(e.querySelector){var t=e.querySelector("input,textarea,select");if(t)return t}}return e}function b(e){return/^(select|option)$/i.test(e)}function S(){ionic.keyboard.isInitialized||(V()?(window.addEventListener("native.keyboardshow",pe),window.addEventListener("native.keyboardhide",x)):document.body.addEventListener("focusout",x),document.body.addEventListener("ionic.focusin",ue),document.body.addEventListener("focusin",ue),window.navigator.msPointerEnabled?document.removeEventListener("MSPointerDown",S):document.removeEventListener("touchstart",S),ionic.keyboard.isInitialized=!0)}function y(e){clearTimeout(re),(!ionic.keyboard.isOpen||ionic.keyboard.isClosing)&&(ionic.keyboard.isOpening=!0,ionic.keyboard.isClosing=!1),ionic.keyboard.height=e.keyboardHeight,le?C(O,!0):C(I,!0)}function E(e){return clearTimeout(re),e.target&&!e.target.readOnly&&ionic.tap.isKeyboardElement(e.target)&&(ne=ionic.DomUtil.getParentWithClass(e.target,de))?(ee=e.target,ne.classList.contains("overflow-scroll")||(document.body.scrollTop=0,ne.scrollTop=0,ionic.requestAnimationFrame(function(){document.body.scrollTop=0,ne.scrollTop=0}),window.navigator.msPointerEnabled?document.addEventListener("MSPointerMove",L,!1):document.addEventListener("touchmove",L,!1)),(!ionic.keyboard.isOpen||ionic.keyboard.isClosing)&&(ionic.keyboard.isOpening=!0,ionic.keyboard.isClosing=!1),document.addEventListener("keydown",M,!1),void(ionic.keyboard.isOpen||V()?ionic.keyboard.isOpen&&I():C(I,!0))):(ee&&(te=ee),void(ee=null))}function x(){clearTimeout(re),(ionic.keyboard.isOpen||ionic.keyboard.isOpening)&&(ionic.keyboard.isClosing=!0,ionic.keyboard.isOpening=!1),re=setTimeout(function(){ionic.requestAnimationFrame(function(){le?C(function(){O(),P()},!1):C(P,!1)})},50)}function D(){ionic.keyboard.isLandscape=!ionic.keyboard.isLandscape,ionic.Platform.isIOS()&&O(),ionic.Platform.isAndroid()&&(ionic.keyboard.isOpen&&V()?le=!0:C(O,!1))}function M(e){ionic.scroll.isScrolling&&L(e)}function L(e){"TEXTAREA"!==e.target.tagName&&e.preventDefault()}function C(e,t){clearInterval(ie);var n,i=0,r=G(),a=r;return n=ionic.Platform.isAndroid()&&ionic.Platform.version()<4.4?30:ionic.Platform.isAndroid()?10:1,ie=setInterval(function(){a=G(),(!(++i<n)||(N(a)||z(a))&&ionic.keyboard.height)&&(V()||(ionic.keyboard.height=Math.abs(r-window.innerHeight)),ionic.keyboard.isOpen=t,clearInterval(ie),e())},50),n}function P(){clearTimeout(re),ionic.keyboard.isOpen=!1,ionic.keyboard.isClosing=!1,(ee||te)&&ionic.trigger("resetScrollView",{target:ee||te},!0),ionic.requestAnimationFrame(function(){document.body.classList.remove(ce)}),window.navigator.msPointerEnabled?document.removeEventListener("MSPointerMove",L):document.removeEventListener("touchmove",L),document.removeEventListener("keydown",M),ionic.Platform.isAndroid()&&(V()&&cordova.plugins.Keyboard.close(),ee&&ee.blur()),ee=null,te=null}function I(){ionic.keyboard.isOpen=!0,ionic.keyboard.isOpening=!1;var e={keyboardHeight:k(),viewportHeight:ae};if(ee){e.target=ee;var t=ee.getBoundingClientRect();e.elementTop=Math.round(t.top),e.elementBottom=Math.round(t.bottom),e.windowHeight=e.viewportHeight-e.keyboardHeight,e.isElementUnderKeyboard=e.elementBottom>e.windowHeight,ionic.trigger("scrollChildIntoView",e,!0)}return setTimeout(function(){document.body.classList.add(ce)},400),e}function k(){if(ionic.keyboard.height)return ionic.keyboard.height;if(ionic.Platform.isAndroid()){if(ionic.Platform.isFullScreen)return 275;var e=window.innerHeight;return ae>e?ae-e:0}return ionic.Platform.isIOS()?ionic.keyboard.isLandscape?206:ionic.Platform.isWebView()?260:216:275}function N(e){return!!(!ionic.keyboard.isLandscape&&oe&&Math.abs(oe-e)<2)}function z(e){return!!(ionic.keyboard.isLandscape&&se&&Math.abs(se-e)<2)}function O(){le=!1,ae=G(),ionic.keyboard.isLandscape&&!se?se=ae:ionic.keyboard.isLandscape||oe||(oe=ae),ee&&ionic.trigger("resetScrollView",{target:ee},!0),ionic.keyboard.isOpen&&ionic.tap.isTextInput(ee)&&I()}function A(){var e=G();e/window.innerWidth<1&&(ionic.keyboard.isLandscape=!0),ae=e,ionic.keyboard.isLandscape&&!se?se=ae:ionic.keyboard.isLandscape||oe||(oe=ae)}function G(){var e=window.innerHeight;return ionic.Platform.isAndroid()&&ionic.Platform.isFullScreen||!ionic.keyboard.isOpen&&!ionic.keyboard.isOpening||ionic.keyboard.isClosing?e:e+k()}function V(){return!!(window.cordova&&cordova.plugins&&cordova.plugins.Keyboard)}function R(){var e;for(e=0;e<document.head.children.length;e++)if("viewport"==document.head.children[e].name){he=document.head.children[e];break}if(he){var t,n=he.content.toLowerCase().replace(/\s+/g,"").split(",");for(e=0;e<n.length;e++)n[e]&&(t=n[e].split("="),fe[t[0]]=t.length>1?t[1]:"_");H()}}function H(){var e=fe.width,t=fe.height,n=ionic.Platform,i=n.version(),r="device-width",a="device-height",o=ionic.viewport.orientation();delete fe.height,fe.width=r,n.isIPad()?i>7?delete fe.width:n.isWebView()?90==o?fe.height="0":7==i&&(fe.height=a):7>i&&(fe.height="0"):n.isIOS()&&(n.isWebView()?i>7?delete fe.width:7>i?t&&(fe.height="0"):7==i&&(fe.height=a):7>i&&t&&(fe.height="0")),(e!==fe.width||t!==fe.height)&&Y()}function Y(){var e,t=[];for(e in fe)fe[e]&&t.push(e+("_"==fe[e]?"":"="+fe[e]));he.content=t.join(", ")}window.ionic=window.ionic||{},window.ionic.views={},window.ionic.version="1.2.4",function(e){e.DelegateService=function(e){function t(){return!0}if(e.indexOf("$getByHandle")>-1)throw new Error("Method '$getByHandle' is implicitly added to each delegate service. Do not list it as a method.");return["$log",function(n){function i(e,t){this._instances=e,this.handle=t}function r(){this._instances=[]}function a(e){return function(){var t,i=this.handle,r=arguments,a=0;return this._instances.forEach(function(n){if((!i||i==n.$$delegateHandle)&&n.$$filterFn(n)){a++;var o=n[e].apply(n,r);1===a&&(t=o)}}),!a&&i?n.warn('Delegate for handle "'+i+'" could not find a corresponding element with delegate-handle="'+i+'"! '+e+"() was not called!\nPossible cause: If you are calling "+e+'() immediately, and your element with delegate-handle="'+i+'" is a child of your controller, then your element may not be compiled yet. Put a $timeout around your call to '+e+"() and try again."):t}}return e.forEach(function(e){i.prototype[e]=a(e)}),r.prototype=i.prototype,r.prototype._registerInstance=function(e,n,i){var r=this._instances;return e.$$delegateHandle=n,e.$$filterFn=i||t,r.push(e),function(){var t=r.indexOf(e);-1!==t&&r.splice(t,1)}},r.prototype.$getByHandle=function(e){return new i(this._instances,e)},new r}]}}(window.ionic),function(e,t,n){function i(){a=!0;for(var e=0;e<r.length;e++)n.requestAnimationFrame(r[e]);r=[],t.removeEventListener("DOMContentLoaded",i)}var r=[],a="complete"===t.readyState||"interactive"===t.readyState;a||t.addEventListener("DOMContentLoaded",i),e._rAF=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(t){e.setTimeout(t,16)}}();var o=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelRequestAnimationFrame;n.DomUtil={requestAnimationFrame:function(t){return e._rAF(t)},cancelAnimationFrame:function(e){o(e)},animationFrameThrottle:function(e){var t,i,r;return function(){t=arguments,r=this,i||(i=!0,n.requestAnimationFrame(function(){e.apply(r,t),i=!1}))}},contains:function(e,t){for(var n=t;n;){if(n===e)return!0;n=n.parentNode}},getPositionInParent:function(e){return{left:e.offsetLeft,top:e.offsetTop}},getOffsetTop:function(e){var t=0;if(e.offsetParent){do t+=e.offsetTop,e=e.offsetParent;while(e);return t}},ready:function(e){a?n.requestAnimationFrame(e):r.push(e)},getTextBounds:function(n){if(t.createRange){var i=t.createRange();if(i.selectNodeContents(n),i.getBoundingClientRect){var r=i.getBoundingClientRect();if(r){var a=e.scrollX,o=e.scrollY;return{top:r.top+o,left:r.left+a,right:r.left+a+r.width,bottom:r.top+o+r.height,width:r.width,height:r.height}}}}return null},getChildIndex:function(e,t){if(t)for(var n,i=e.parentNode.children,r=0,a=0,o=i.length;o>r;r++)if(n=i[r],n.nodeName&&n.nodeName.toLowerCase()==t){if(n==e)return a;a++}return Array.prototype.slice.call(e.parentNode.children).indexOf(e)},swapNodes:function(e,t){t.parentNode.insertBefore(e,t)},elementIsDescendant:function(e,t,n){var i=e;do{if(i===t)return!0;i=i.parentNode}while(i&&i!==n);return!1},getParentWithClass:function(e,t,n){for(n=n||10;e.parentNode&&n--;){if(e.parentNode.classList&&e.parentNode.classList.contains(t))return e.parentNode;e=e.parentNode}return null},getParentOrSelfWithClass:function(e,t,n){for(n=n||10;e&&n--;){if(e.classList&&e.classList.contains(t))return e;e=e.parentNode}return null},rectContains:function(e,t,n,i,r,a){return n>e||e>r?!1:i>t||t>a?!1:!0},blurAll:function(){return t.activeElement&&t.activeElement!=t.body?(t.activeElement.blur(),t.activeElement):null},cachedAttr:function(e,t,n){if(e=e&&e.length&&e[0]||e,e&&e.setAttribute){var i="$attr-"+t;return arguments.length>2?e[i]!==n&&(e.setAttribute(t,n),e[i]=n):"undefined"==typeof e[i]&&(e[i]=e.getAttribute(t)),e[i]}},cachedStyles:function(e,t){if(e=e&&e.length&&e[0]||e,e&&e.style)for(var n in t)e["$style-"+n]!==t[n]&&(e.style[n]=e["$style-"+n]=t[n])}},n.requestAnimationFrame=n.DomUtil.requestAnimationFrame,n.cancelAnimationFrame=n.DomUtil.cancelAnimationFrame,n.animationFrameThrottle=n.DomUtil.animationFrameThrottle}(window,document,ionic),function(e){e.CustomEvent=function(){if("function"==typeof window.CustomEvent)return CustomEvent;var e=function(e,t){var n;t=t||{bubbles:!1,cancelable:!1,detail:void 0};try{n=document.createEvent("CustomEvent"),n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail)}catch(i){n=document.createEvent("Event");for(var r in t)n[r]=t[r];n.initEvent(e,t.bubbles,t.cancelable)}return n};return e.prototype=window.Event.prototype,e}(),e.EventController={VIRTUALIZED_EVENTS:["tap","swipe","swiperight","swipeleft","drag","hold","release"],trigger:function(t,n,i,r){var a=new e.CustomEvent(t,{detail:n,bubbles:!!i,cancelable:!!r});n&&n.target&&n.target.dispatchEvent&&n.target.dispatchEvent(a)||window.dispatchEvent(a)},on:function(t,n,i){for(var r=i||window,a=0,o=this.VIRTUALIZED_EVENTS.length;o>a;a++)if(t==this.VIRTUALIZED_EVENTS[a]){var s=new e.Gesture(i);return s.on(t,n),s}r.addEventListener(t,n)},off:function(e,t,n){n.removeEventListener(e,t)},onGesture:function(t,n,i,r){var a=new e.Gesture(i,r);return a.on(t,n),a},offGesture:function(e,t,n){e&&e.off(t,n)},handlePopState:function(){}},e.on=function(){e.EventController.on.apply(e.EventController,arguments)},e.off=function(){e.EventController.off.apply(e.EventController,arguments)},e.trigger=e.EventController.trigger,e.onGesture=function(){return e.EventController.onGesture.apply(e.EventController.onGesture,arguments)},e.offGesture=function(){return e.EventController.offGesture.apply(e.EventController.offGesture,arguments)}}(window.ionic),function(e){function t(){if(!e.Gestures.READY){e.Gestures.event.determineEventTypes();for(var t in e.Gestures.gestures)e.Gestures.gestures.hasOwnProperty(t)&&e.Gestures.detection.register(e.Gestures.gestures[t]);e.Gestures.event.onTouch(e.Gestures.DOCUMENT,e.Gestures.EVENT_MOVE,e.Gestures.detection.detect),e.Gestures.event.onTouch(e.Gestures.DOCUMENT,e.Gestures.EVENT_END,e.Gestures.detection.detect),e.Gestures.READY=!0}}e.Gesture=function(t,n){return new e.Gestures.Instance(t,n||{})},e.Gestures={},e.Gestures.defaults={stop_browser_behavior:"disable-user-behavior"},e.Gestures.HAS_POINTEREVENTS=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,e.Gestures.HAS_TOUCHEVENTS="ontouchstart"in window,e.Gestures.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i,e.Gestures.NO_MOUSEEVENTS=e.Gestures.HAS_TOUCHEVENTS&&window.navigator.userAgent.match(e.Gestures.MOBILE_REGEX),e.Gestures.EVENT_TYPES={},e.Gestures.DIRECTION_DOWN="down",e.Gestures.DIRECTION_LEFT="left",e.Gestures.DIRECTION_UP="up",e.Gestures.DIRECTION_RIGHT="right",e.Gestures.POINTER_MOUSE="mouse",e.Gestures.POINTER_TOUCH="touch",e.Gestures.POINTER_PEN="pen",e.Gestures.EVENT_START="start",e.Gestures.EVENT_MOVE="move",e.Gestures.EVENT_END="end",e.Gestures.DOCUMENT=window.document,e.Gestures.plugins={},e.Gestures.READY=!1,e.Gestures.Instance=function(n,i){var r=this;return null===n?this:(t(),this.element=n,this.enabled=!0,this.options=e.Gestures.utils.extend(e.Gestures.utils.extend({},e.Gestures.defaults),i||{}),this.options.stop_browser_behavior&&e.Gestures.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),e.Gestures.event.onTouch(n,e.Gestures.EVENT_START,function(t){r.enabled&&e.Gestures.detection.startDetect(r,t)
}),this)},e.Gestures.Instance.prototype={on:function(e,t){for(var n=e.split(" "),i=0;i<n.length;i++)this.element.addEventListener(n[i],t,!1);return this},off:function(e,t){for(var n=e.split(" "),i=0;i<n.length;i++)this.element.removeEventListener(n[i],t,!1);return this},trigger:function(t,n){var i=e.Gestures.DOCUMENT.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=n;var r=this.element;return e.Gestures.utils.hasParent(n.target,r)&&(r=n.target),r.dispatchEvent(i),this},enable:function(e){return this.enabled=e,this}};var n=null,i=!1,r=!1;e.Gestures.event={bindDom:function(e,t,n){for(var i=t.split(" "),r=0;r<i.length;r++)e.addEventListener(i[r],n,!1)},onTouch:function(t,a,o){var s=this;this.bindDom(t,e.Gestures.EVENT_TYPES[a],function(l){var c=l.type.toLowerCase();if(!c.match(/mouse/)||!r){c.match(/touch/)||c.match(/pointerdown/)||c.match(/mouse/)&&1===l.which?i=!0:c.match(/mouse/)&&1!==l.which&&(i=!1),c.match(/touch|pointer/)&&(r=!0);var d=0;i&&(e.Gestures.HAS_POINTEREVENTS&&a!=e.Gestures.EVENT_END?d=e.Gestures.PointerEvent.updatePointer(a,l):c.match(/touch/)?d=l.touches.length:r||(d=c.match(/up/)?0:1),d>0&&a==e.Gestures.EVENT_END?a=e.Gestures.EVENT_MOVE:d||(a=e.Gestures.EVENT_END),(d||null===n)&&(n=l),o.call(e.Gestures.detection,s.collectEventData(t,a,s.getTouchList(n,a),l)),e.Gestures.HAS_POINTEREVENTS&&a==e.Gestures.EVENT_END&&(d=e.Gestures.PointerEvent.updatePointer(a,l))),d||(n=null,i=!1,r=!1,e.Gestures.PointerEvent.reset())}})},determineEventTypes:function(){var t;t=e.Gestures.HAS_POINTEREVENTS?e.Gestures.PointerEvent.getEvents():e.Gestures.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],e.Gestures.EVENT_TYPES[e.Gestures.EVENT_START]=t[0],e.Gestures.EVENT_TYPES[e.Gestures.EVENT_MOVE]=t[1],e.Gestures.EVENT_TYPES[e.Gestures.EVENT_END]=t[2]},getTouchList:function(t){return e.Gestures.HAS_POINTEREVENTS?e.Gestures.PointerEvent.getTouchList():t.touches?t.touches:(t.identifier=1,[t])},collectEventData:function(t,n,i,r){var a=e.Gestures.POINTER_TOUCH;return(r.type.match(/mouse/)||e.Gestures.PointerEvent.matchType(e.Gestures.POINTER_MOUSE,r))&&(a=e.Gestures.POINTER_MOUSE),{center:e.Gestures.utils.getCenter(i),timeStamp:(new Date).getTime(),target:r.target,touches:i,eventType:n,pointerType:a,srcEvent:r,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return e.Gestures.detection.stopDetect()}}}},e.Gestures.PointerEvent={pointers:{},getTouchList:function(){var e=this,t=[];return Object.keys(e.pointers).sort().forEach(function(n){t.push(e.pointers[n])}),t},updatePointer:function(t,n){return t==e.Gestures.EVENT_END?this.pointers={}:(n.identifier=n.pointerId,this.pointers[n.pointerId]=n),Object.keys(this.pointers).length},matchType:function(t,n){if(!n.pointerType)return!1;var i={};return i[e.Gestures.POINTER_MOUSE]=n.pointerType==n.MSPOINTER_TYPE_MOUSE||n.pointerType==e.Gestures.POINTER_MOUSE,i[e.Gestures.POINTER_TOUCH]=n.pointerType==n.MSPOINTER_TYPE_TOUCH||n.pointerType==e.Gestures.POINTER_TOUCH,i[e.Gestures.POINTER_PEN]=n.pointerType==n.MSPOINTER_TYPE_PEN||n.pointerType==e.Gestures.POINTER_PEN,i[t]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},e.Gestures.utils={extend:function(e,t,n){for(var i in t)void 0!==e[i]&&n||(e[i]=t[i]);return e},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(e){for(var t=[],n=[],i=0,r=e.length;r>i;i++)t.push(e[i].pageX),n.push(e[i].pageY);return{pageX:(Math.min.apply(Math,t)+Math.max.apply(Math,t))/2,pageY:(Math.min.apply(Math,n)+Math.max.apply(Math,n))/2}},getVelocity:function(e,t,n){return{x:Math.abs(t/e)||0,y:Math.abs(n/e)||0}},getAngle:function(e,t){var n=t.pageY-e.pageY,i=t.pageX-e.pageX;return 180*Math.atan2(n,i)/Math.PI},getDirection:function(t,n){var i=Math.abs(t.pageX-n.pageX),r=Math.abs(t.pageY-n.pageY);return i>=r?t.pageX-n.pageX>0?e.Gestures.DIRECTION_LEFT:e.Gestures.DIRECTION_RIGHT:t.pageY-n.pageY>0?e.Gestures.DIRECTION_UP:e.Gestures.DIRECTION_DOWN},getDistance:function(e,t){var n=t.pageX-e.pageX,i=t.pageY-e.pageY;return Math.sqrt(n*n+i*i)},getScale:function(e,t){return e.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return e.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(t){return t==e.Gestures.DIRECTION_UP||t==e.Gestures.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(e,t){e&&e.classList&&(e.classList.add(t),e.onselectstart=function(){return!1})}},e.Gestures.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,n){this.current||(this.stopped=!1,this.current={inst:t,startEvent:e.Gestures.utils.extend({},n),lastEvent:!1,name:""},this.detect(n))},detect:function(t){if(!this.current||this.stopped)return null;t=this.extendEventData(t);for(var n=this.current.inst.options,i=0,r=this.gestures.length;r>i;i++){var a=this.gestures[i];if(!this.stopped&&n[a.name]!==!1&&a.handler.call(a,t,this.current.inst)===!1){this.stopDetect();break}}return this.current&&(this.current.lastEvent=t),t.eventType==e.Gestures.EVENT_END&&!t.touches.length-1&&this.stopDetect(),t},stopDetect:function(){this.previous=e.Gestures.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(t){var n=this.current.startEvent;if(n&&(t.touches.length!=n.touches.length||t.touches===n.touches)){n.touches=[];for(var i=0,r=t.touches.length;r>i;i++)n.touches.push(e.Gestures.utils.extend({},t.touches[i]))}var a=t.timeStamp-n.timeStamp,o=t.center.pageX-n.center.pageX,s=t.center.pageY-n.center.pageY,l=e.Gestures.utils.getVelocity(a,o,s);return e.Gestures.utils.extend(t,{deltaTime:a,deltaX:o,deltaY:s,velocityX:l.x,velocityY:l.y,distance:e.Gestures.utils.getDistance(n.center,t.center),angle:e.Gestures.utils.getAngle(n.center,t.center),direction:e.Gestures.utils.getDirection(n.center,t.center),scale:e.Gestures.utils.getScale(n.touches,t.touches),rotation:e.Gestures.utils.getRotation(n.touches,t.touches),startEvent:n}),t},register:function(t){var n=t.defaults||{};return void 0===n[t.name]&&(n[t.name]=!0),e.Gestures.utils.extend(e.Gestures.defaults,n,!0),t.index=t.index||1e3,this.gestures.push(t),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}},e.Gestures.gestures=e.Gestures.gestures||{},e.Gestures.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:9},timer:null,handler:function(t,n){switch(t.eventType){case e.Gestures.EVENT_START:clearTimeout(this.timer),e.Gestures.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==e.Gestures.detection.current.name&&(e.tap.cancelClick(),n.trigger("hold",t))},n.options.hold_timeout);break;case e.Gestures.EVENT_MOVE:t.distance>n.options.hold_threshold&&clearTimeout(this.timer);break;case e.Gestures.EVENT_END:clearTimeout(this.timer)}}},e.Gestures.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(t,n){if(t.eventType==e.Gestures.EVENT_END&&"touchcancel"!=t.srcEvent.type){var i=e.Gestures.detection.previous,r=!1;if(t.deltaTime>n.options.tap_max_touchtime||t.distance>n.options.tap_max_distance)return;i&&"tap"==i.name&&t.timeStamp-i.lastEvent.timeStamp<n.options.doubletap_interval&&t.distance<n.options.doubletap_distance&&(n.trigger("doubletap",t),r=!0),(!r||n.options.tap_always)&&(e.Gestures.detection.current.name="tap",n.trigger("tap",t))}}},e.Gestures.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.4},handler:function(t,n){if(t.eventType==e.Gestures.EVENT_END){if(n.options.swipe_max_touches>0&&t.touches.length>n.options.swipe_max_touches)return;(t.velocityX>n.options.swipe_velocity||t.velocityY>n.options.swipe_velocity)&&(n.trigger(this.name,t),n.trigger(this.name+t.direction,t))}}},e.Gestures.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:!0,drag_max_touches:1,drag_block_horizontal:!0,drag_block_vertical:!0,drag_lock_to_axis:!1,drag_lock_min_distance:25,prevent_default_directions:[]},triggered:!1,handler:function(t,n){if("touchstart"==t.srcEvent.type||"touchend"==t.srcEvent.type?this.preventedFirstMove=!1:this.preventedFirstMove||"touchmove"!=t.srcEvent.type||(n.options.prevent_default_directions.length>0&&-1!=n.options.prevent_default_directions.indexOf(t.direction)&&t.srcEvent.preventDefault(),this.preventedFirstMove=!0),e.Gestures.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",t),void(this.triggered=!1);if(!(n.options.drag_max_touches>0&&t.touches.length>n.options.drag_max_touches))switch(t.eventType){case e.Gestures.EVENT_START:this.triggered=!1;break;case e.Gestures.EVENT_MOVE:if(t.distance<n.options.drag_min_distance&&e.Gestures.detection.current.name!=this.name)return;if(e.Gestures.detection.current.name!=this.name&&(e.Gestures.detection.current.name=this.name,n.options.correct_for_drag_min_distance)){var i=Math.abs(n.options.drag_min_distance/t.distance);e.Gestures.detection.current.startEvent.center.pageX+=t.deltaX*i,e.Gestures.detection.current.startEvent.center.pageY+=t.deltaY*i,t=e.Gestures.detection.extendEventData(t)}(e.Gestures.detection.current.lastEvent.drag_locked_to_axis||n.options.drag_lock_to_axis&&n.options.drag_lock_min_distance<=t.distance)&&(t.drag_locked_to_axis=!0);var r=e.Gestures.detection.current.lastEvent.direction;t.drag_locked_to_axis&&r!==t.direction&&(t.direction=e.Gestures.utils.isVertical(r)?t.deltaY<0?e.Gestures.DIRECTION_UP:e.Gestures.DIRECTION_DOWN:t.deltaX<0?e.Gestures.DIRECTION_LEFT:e.Gestures.DIRECTION_RIGHT),this.triggered||(n.trigger(this.name+"start",t),this.triggered=!0),n.trigger(this.name,t),n.trigger(this.name+t.direction,t),(n.options.drag_block_vertical&&e.Gestures.utils.isVertical(t.direction)||n.options.drag_block_horizontal&&!e.Gestures.utils.isVertical(t.direction))&&t.preventDefault();break;case e.Gestures.EVENT_END:this.triggered&&n.trigger(this.name+"end",t),this.triggered=!1}}},e.Gestures.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(t,n){if(e.Gestures.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",t),void(this.triggered=!1);if(!(t.touches.length<2))switch(n.options.transform_always_block&&t.preventDefault(),t.eventType){case e.Gestures.EVENT_START:this.triggered=!1;break;case e.Gestures.EVENT_MOVE:var i=Math.abs(1-t.scale),r=Math.abs(t.rotation);if(i<n.options.transform_min_scale&&r<n.options.transform_min_rotation)return;e.Gestures.detection.current.name=this.name,this.triggered||(n.trigger(this.name+"start",t),this.triggered=!0),n.trigger(this.name,t),r>n.options.transform_min_rotation&&n.trigger("rotate",t),i>n.options.transform_min_scale&&(n.trigger("pinch",t),n.trigger("pinch"+(t.scale<1?"in":"out"),t));break;case e.Gestures.EVENT_END:this.triggered&&n.trigger(this.name+"end",t),this.triggered=!1}}},e.Gestures.gestures.Touch={name:"touch",index:-(1/0),defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(t,n){return n.options.prevent_mouseevents&&t.pointerType==e.Gestures.POINTER_MOUSE?void t.stopDetect():(n.options.prevent_default&&t.preventDefault(),void(t.eventType==e.Gestures.EVENT_START&&n.trigger(this.name,t)))}},e.Gestures.gestures.Release={name:"release",index:1/0,handler:function(t,n){t.eventType==e.Gestures.EVENT_END&&n.trigger(this.name,t)}}}(window.ionic),function(e,t,n){function i(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}function r(){setTimeout(function(){!f.isReady&&f.isWebView()},_)}function a(){f.isWebView()?t.addEventListener("deviceready",o,!1):o(),s&&e.removeEventListener("load",a,!1)}function o(){f.isReady=!0,f.detect();for(var e=0;e<v.length;e++)v[e]();v=[],n.trigger("platformready",{target:t}),h(function(){t.body.classList.add("platform-ready")})}var s,l="ios",c="android",d="windowsphone",u="edge",p="crosswalk",h=n.requestAnimationFrame,f=n.Platform={navigator:e.navigator,isReady:!1,isFullScreen:!1,platforms:null,grade:null,ua:navigator.userAgent,ready:function(e){f.isReady?e():v.push(e)},detect:function(){f._checkPlatforms(),h(function(){for(var e=0;e<f.platforms.length;e++)t.body.classList.add("platform-"+f.platforms[e])})},setGrade:function(e){var n=f.grade;f.grade=e,h(function(){n&&t.body.classList.remove("grade-"+n),t.body.classList.add("grade-"+e)})},device:function(){return e.device||{}},_checkPlatforms:function(){f.platforms=[];var t="a";f.isWebView()?(f.platforms.push("webview"),e.cordova||e.PhoneGap||e.phonegap?f.platforms.push("cordova"):e.forge&&f.platforms.push("trigger")):f.platforms.push("browser"),f.isIPad()&&f.platforms.push("ipad");var n=f.platform();if(n){f.platforms.push(n);var i=f.version();if(i){var r=i.toString();r.indexOf(".")>0?r=r.replace(".","_"):r+="_0",f.platforms.push(n+r.split("_")[0]),f.platforms.push(n+r),f.isAndroid()&&4.4>i?t=4>i?"c":"b":f.isWindowsPhone()&&(t="b")}}f.setGrade(t)},isWebView:function(){return!!(e.cordova||e.PhoneGap||e.phonegap||e.forge)},isIPad:function(){return/iPad/i.test(f.navigator.platform)?!0:/iPad/i.test(f.ua)},isIOS:function(){return f.is(l)},isAndroid:function(){return f.is(c)},isWindowsPhone:function(){return f.is(d)},isEdge:function(){return f.is(u)},isCrosswalk:function(){return f.is(p)},platform:function(){return null===m&&f.setPlatform(f.device().platform),m},setPlatform:function(e){m="undefined"!=typeof e&&null!==e&&e.length?e.toLowerCase():i("ionicplatform")?i("ionicplatform"):f.ua.indexOf("Edge")>-1?u:f.ua.indexOf("Windows Phone")>-1?d:f.ua.indexOf("Android")>0?c:/iPhone|iPad|iPod/.test(f.ua)?l:f.navigator.platform&&navigator.platform.toLowerCase().split(" ")[0]||""},version:function(){return null===g&&f.setVersion(f.device().version),g},setVersion:function(e){if("undefined"!=typeof e&&null!==e&&(e=e.split("."),e=parseFloat(e[0]+"."+(e.length>1?e[1]:0)),!isNaN(e)))return void(g=e);g=0;var t=f.platform(),n={android:/Android (\d+).(\d+)?/,ios:/OS (\d+)_(\d+)?/,windowsphone:/Windows Phone (\d+).(\d+)?/};n[t]&&(e=f.ua.match(n[t]),e&&e.length>2&&(g=parseFloat(e[1]+"."+e[2])))},is:function(e){if(e=e.toLowerCase(),f.platforms)for(var t=0;t<f.platforms.length;t++)if(f.platforms[t]===e)return!0;var n=f.platform();return n?n===e.toLowerCase():f.ua.toLowerCase().indexOf(e)>=0},exitApp:function(){f.ready(function(){navigator.app&&navigator.app.exitApp&&navigator.app.exitApp()})},showStatusBar:function(n){f._showStatusBar=n,f.ready(function(){h(function(){f._showStatusBar?(e.StatusBar&&e.StatusBar.show(),t.body.classList.remove("status-bar-hide")):(e.StatusBar&&e.StatusBar.hide(),t.body.classList.add("status-bar-hide"))})})},fullScreen:function(e,i){f.isFullScreen=e!==!1,n.DomUtil.ready(function(){h(function(){f.isFullScreen?t.body.classList.add("fullscreen"):t.body.classList.remove("fullscreen")}),f.showStatusBar(i===!0)})}},m=null,g=null,v=[],_=2e3;r(),"complete"===t.readyState?a():(s=!0,e.addEventListener("load",a,!1))}(window,document,ionic),function(e,t){t.CSS={},t.CSS.TRANSITION=[],t.CSS.TRANSFORM=[],t.EVENTS={},function(){var n,i=["webkitTransform","transform","-webkit-transform","webkit-transform","-moz-transform","moz-transform","MozTransform","mozTransform","msTransform"];for(n=0;n<i.length;n++)if(void 0!==e.documentElement.style[i[n]]){t.CSS.TRANSFORM=i[n];break}for(i=["webkitTransition","mozTransition","msTransition","transition"],n=0;n<i.length;n++)if(void 0!==e.documentElement.style[i[n]]){t.CSS.TRANSITION=i[n];break}t.CSS.TRANSITION=t.CSS.TRANSITION||"transition";var r=t.CSS.TRANSITION.indexOf("webkit")>-1;t.CSS.TRANSITION_DURATION=(r?"-webkit-":"")+"transition-duration",t.CSS.TRANSITIONEND=(r?"webkitTransitionEnd ":"")+"transitionend"}(),function(){var e="touchstart",n="touchmove",i="touchend",r="touchcancel";window.navigator.pointerEnabled?(e="pointerdown",n="pointermove",i="pointerup",r="pointercancel"):window.navigator.msPointerEnabled&&(e="MSPointerDown",n="MSPointerMove",i="MSPointerUp",r="MSPointerCancel"),t.EVENTS.touchstart=e,t.EVENTS.touchmove=n,t.EVENTS.touchend=i,t.EVENTS.touchcancel=r}(),"classList"in e.documentElement||!Object.defineProperty||"undefined"==typeof HTMLElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){function e(e){return function(){var n,i=t.className.split(/\s+/);for(n=0;n<arguments.length;n++)e(i,i.indexOf(arguments[n]),arguments[n]);t.className=i.join(" ")}}var t=this;return{add:e(function(e,t,n){~t||e.push(n)}),remove:e(function(e,t){~t&&e.splice(t,1)}),toggle:e(function(e,t,n){~t?e.splice(t,1):e.push(n)}),contains:function(e){return!!~t.className.split(/\s+/).indexOf(e)},item:function(e){return t.className.split(/\s+/)[e]||null}}}})}(document,ionic);var X,F,B,W,$,q,U,K,j="touchmove",Z=12,Q=50,J={click:i,mousedown:r,mouseup:a,mousemove:o,touchstart:s,touchend:l,touchcancel:d,touchmove:c,pointerdown:s,pointerup:l,pointercancel:d,pointermove:c,MSPointerDown:s,MSPointerUp:l,MSPointerCancel:d,MSPointerMove:c,focusin:m,focusout:g};ionic.tap={register:function(t){return X=t,e("click",!0,!0),e("mouseup"),e("mousedown"),window.navigator.pointerEnabled?(e("pointerdown"),e("pointerup"),e("pointercancel"),j="pointermove"):window.navigator.msPointerEnabled?(e("MSPointerDown"),e("MSPointerUp"),e("MSPointerCancel"),j="MSPointerMove"):(e("touchstart"),e("touchend"),e("touchcancel")),e("focusin"),e("focusout"),function(){for(var t in J)e(t,!1);X=null,F=null,B=!1,$=!1,q=null}},ignoreScrollStart:function(e){return e.defaultPrevented||/^(file|range)$/i.test(e.target.type)||"true"==(e.target.dataset?e.target.dataset.preventScroll:e.target.getAttribute("data-prevent-scroll"))||!!/^(object|embed)$/i.test(e.target.tagName)||ionic.tap.isElementTapDisabled(e.target)},isTextInput:function(e){return!!e&&("TEXTAREA"==e.tagName||"true"===e.contentEditable||"INPUT"==e.tagName&&!/^(radio|checkbox|range|file|submit|reset|color|image|button)$/i.test(e.type))},isDateInput:function(e){return!!e&&"INPUT"==e.tagName&&/^(date|time|datetime-local|month|week)$/i.test(e.type)},isVideo:function(e){return!!e&&"VIDEO"==e.tagName},isKeyboardElement:function(e){return!ionic.Platform.isIOS()||ionic.Platform.isIPad()?ionic.tap.isTextInput(e)&&!ionic.tap.isDateInput(e):ionic.tap.isTextInput(e)||!!e&&"SELECT"==e.tagName},isLabelWithTextInput:function(e){var t=w(e,!1);return!!t&&ionic.tap.isTextInput(T(t))},containsOrIsTextInput:function(e){return ionic.tap.isTextInput(e)||ionic.tap.isLabelWithTextInput(e)},cloneFocusedInput:function(e){ionic.tap.hasCheckedClone||(ionic.tap.hasCheckedClone=!0,ionic.requestAnimationFrame(function(){var t=e.querySelector(":focus");if(ionic.tap.isTextInput(t)&&!ionic.tap.isDateInput(t)){var n=t.cloneNode(!0);n.value=t.value,n.classList.add("cloned-text-input"),n.readOnly=!0,t.isContentEditable&&(n.contentEditable=t.contentEditable,n.innerHTML=t.innerHTML),t.parentElement.insertBefore(n,t),t.classList.add("previous-input-focus"),n.scrollTop=t.scrollTop}}))},hasCheckedClone:!1,removeClonedInputs:function(e){ionic.tap.hasCheckedClone=!1,ionic.requestAnimationFrame(function(){var t,n=e.querySelectorAll(".cloned-text-input"),i=e.querySelectorAll(".previous-input-focus");for(t=0;t<n.length;t++)n[t].parentElement.removeChild(n[t]);for(t=0;t<i.length;t++)i[t].classList.remove("previous-input-focus"),i[t].style.top="",ionic.keyboard.isOpen&&!ionic.keyboard.isClosing&&i[t].focus()})},requiresNativeClick:function(e){return ionic.Platform.isWindowsPhone()&&("A"==e.tagName||"BUTTON"==e.tagName||e.hasAttribute("ng-click")||"INPUT"==e.tagName&&("button"==e.type||"submit"==e.type))?!0:!e||e.disabled||/^(file|range)$/i.test(e.type)||/^(object|video)$/i.test(e.tagName)||ionic.tap.isLabelContainingFileInput(e)?!0:ionic.tap.isElementTapDisabled(e)},isLabelContainingFileInput:function(e){var t=w(e);if("LABEL"!==t.tagName)return!1;var n=t.querySelector("input[type=file]");return n&&n.disabled===!1?!0:!1},isElementTapDisabled:function(e){if(e&&1===e.nodeType)for(var t=e;t;){if("true"==(t.dataset?t.dataset.tapDisabled:t.getAttribute&&t.getAttribute("data-tap-disabled")))return!0;t=t.parentElement}return!1},setTolerance:function(e,t){Z=e,Q=t},cancelClick:function(){$=!0},pointerCoord:function(e){var t={x:0,y:0};if(e){var n=e.touches&&e.touches.length?e.touches:[e],i=e.changedTouches&&e.changedTouches[0]||n[0];i&&(t.x=i.clientX||i.pageX||0,t.y=i.clientY||i.pageY||0)}return t}},ionic.DomUtil.ready(function(){var e="undefined"!=typeof angular?angular:null;(!e||e&&!e.scenario)&&ionic.tap.register(document)}),function(e,t){function n(){a={},t.requestAnimationFrame(r)}function i(){for(var e in a)a[e]&&(a[e].classList.add(l),o[e]=a[e]);a={}}function r(){if(t.transition&&t.transition.isActive)return void setTimeout(r,400);for(var e in o)o[e]&&(o[e].classList.remove(l),delete o[e])}var a={},o={},s=0,l="activated";t.activator={start:function(e){var n=t.tap.pointerCoord(e).x;n>0&&30>n||t.requestAnimationFrame(function(){if(!(t.scroll&&t.scroll.isScrolling||t.tap.requiresNativeClick(e.target))){for(var n,r=e.target,o=0;6>o&&r&&1===r.nodeType;o++){if(n&&r.classList&&r.classList.contains("item")){n=r;break}if("A"==r.tagName||"BUTTON"==r.tagName||r.hasAttribute("ng-click")){n=r;break}if(r.classList.contains("button")){n=r;break}if("ION-CONTENT"==r.tagName||r.classList&&r.classList.contains("pane")||"BODY"==r.tagName)break;r=r.parentElement}n&&(a[s]=n,t.requestAnimationFrame(i),s=s>29?0:s+1)}})},end:function(){setTimeout(n,200)}}}(document,ionic),function(e){var t=0;e.Utils={arrayMove:function(e,t,n){if(n>=e.length)for(var i=n-e.length;i--+1;)e.push(void 0);return e.splice(n,0,e.splice(t,1)[0]),e},proxy:function(e,t){var n=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,n.concat(Array.prototype.slice.call(arguments)))}},debounce:function(e,t,n){var i,r,a,o,s;return function(){a=this,r=arguments,o=new Date;var l=function(){var c=new Date-o;t>c?i=setTimeout(l,t-c):(i=null,n||(s=e.apply(a,r)))},c=n&&!i;return i||(i=setTimeout(l,t)),c&&(s=e.apply(a,r)),s}},throttle:function(e,t,n){var i,r,a,o=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:Date.now(),o=null,a=e.apply(i,r)};return function(){var c=Date.now();s||n.leading!==!1||(s=c);var d=t-(c-s);return i=this,r=arguments,0>=d?(clearTimeout(o),o=null,s=c,a=e.apply(i,r)):o||n.trailing===!1||(o=setTimeout(l,d)),a}},inherit:function(t,n){var i,r=this;i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return r.apply(this,arguments)},e.extend(i,r,n);var a=function(){this.constructor=i};return a.prototype=r.prototype,i.prototype=new a,t&&e.extend(i.prototype,t),i.__super__=r.prototype,i},extend:function(e){for(var t=Array.prototype.slice.call(arguments,1),n=0;n<t.length;n++){var i=t[n];if(i)for(var r in i)e[r]=i[r]}return e},nextUid:function(){return"ion"+t++},disconnectScope:function(e){if(e&&e.$root!==e){var t=e.$parent;e.$$disconnected=!0,e.$broadcast("$ionic.disconnectScope",e),t.$$childHead===e&&(t.$$childHead=e.$$nextSibling),t.$$childTail===e&&(t.$$childTail=e.$$prevSibling),e.$$prevSibling&&(e.$$prevSibling.$$nextSibling=e.$$nextSibling),e.$$nextSibling&&(e.$$nextSibling.$$prevSibling=e.$$prevSibling),e.$$nextSibling=e.$$prevSibling=null}},reconnectScope:function(e){if(e&&e.$root!==e&&e.$$disconnected){var t=e.$parent;e.$$disconnected=!1,e.$broadcast("$ionic.reconnectScope",e),e.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=e,t.$$childTail=e):t.$$childHead=t.$$childTail=e}},isScopeDisconnected:function(e){for(var t=e;t;){if(t.$$disconnected)return!0;t=t.$parent}return!1}},e.inherit=e.Utils.inherit,e.extend=e.Utils.extend,e.throttle=e.Utils.throttle,e.proxy=e.Utils.proxy,e.debounce=e.Utils.debounce}(window.ionic);var ee,te,ne,ie,re,ae=0,oe=0,se=0,le=!1,ce="keyboard-open",de="scroll-content",ue=ionic.debounce(E,200,!0),pe=ionic.debounce(y,100,!0);ionic.keyboard={isOpen:!1,isClosing:!1,isOpening:!1,height:0,isLandscape:!1,isInitialized:!1,hide:function(){V()&&cordova.plugins.Keyboard.close(),ee&&ee.blur()},show:function(){V()&&cordova.plugins.Keyboard.show()},disable:function(){V()?(window.removeEventListener("native.keyboardshow",pe),window.removeEventListener("native.keyboardhide",x)):document.body.removeEventListener("focusout",x),document.body.removeEventListener("ionic.focusin",ue),document.body.removeEventListener("focusin",ue),window.removeEventListener("orientationchange",D),window.navigator.msPointerEnabled?document.removeEventListener("MSPointerDown",S):document.removeEventListener("touchstart",S),ionic.keyboard.isInitialized=!1},enable:function(){S()}},ae=G(),ionic.Platform.ready(function(){A(),window.addEventListener("orientationchange",D),setTimeout(A,999),window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",S,!1):document.addEventListener("touchstart",S,!1)});var he,fe={};ionic.viewport={orientation:function(){return window.innerWidth>window.innerHeight?90:0}},ionic.Platform.ready(function(){R(),window.addEventListener("orientationchange",function(){setTimeout(H,1e3)},!1)}),function(e){e.views.View=function(){this.initialize.apply(this,arguments)},e.views.View.inherit=e.inherit,e.extend(e.views.View.prototype,{initialize:function(){}})}(window.ionic);var me={effect:{}};!function(e){var t=Date.now||function(){return+new Date},n=60,i=1e3,r={},a=1;me.effect.Animate={requestAnimationFrame:function(){var t=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame,n=!!t;if(t&&!/requestAnimationFrame\(\)\s*\{\s*\[native code\]\s*\}/i.test(t.toString())&&(n=!1),n)return function(e,n){t(e,n)};var i=60,r={},a=0,o=1,s=null,l=+new Date;return function(e){var t=o++;return r[t]=e,a++,null===s&&(s=setInterval(function(){var e=+new Date,t=r;r={},a=0;for(var n in t)t.hasOwnProperty(n)&&(t[n](e),l=e);e-l>2500&&(clearInterval(s),s=null)},1e3/i)),t}}(),stop:function(e){var t=null!=r[e];return t&&(r[e]=null),t},isRunning:function(e){return null!=r[e]},start:function(e,o,s,l,c,d){var u=t(),p=u,h=0,f=0,m=a++;if(d||(d=document.body),m%20===0){var g={};for(var v in r)g[v]=!0;r=g}var _=function(a){var g=a!==!0,v=t();if(!r[m]||o&&!o(m))return r[m]=null,void(s&&s(n-f/((v-u)/i),m,!1));if(g)for(var w=Math.round((v-p)/(i/n))-1,T=0;T<Math.min(w,4);T++)_(!0),f++;l&&(h=(v-u)/l,h>1&&(h=1));var b=c?c(h):h;e(b,v,g)!==!1&&1!==h||!g?g&&(p=v,me.effect.Animate.requestAnimationFrame(_,d)):(r[m]=null,s&&s(n-f/((v-u)/i),m,1===h||null==l))};return r[m]=!0,me.effect.Animate.requestAnimationFrame(_,d),m}}}(window),function(e){var t=function(){},n=function(e){return Math.pow(e-1,3)+1},i=function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)};e.views.Scroll=e.views.View.inherit({initialize:function(n){var i=this;i.__container=n.el,i.__content=n.el.firstElementChild,setTimeout(function(){i.__container&&i.__content&&(i.__container.scrollTop=0,i.__content.scrollTop=0)}),i.options={scrollingX:!1,scrollbarX:!0,scrollingY:!0,scrollbarY:!0,startX:0,startY:0,wheelDampen:6,minScrollbarSizeX:5,minScrollbarSizeY:5,scrollbarsFade:!0,scrollbarFadeDelay:300,scrollbarResizeFadeDelay:1e3,animating:!0,animationDuration:250,decelVelocityThreshold:4,decelVelocityThresholdPaging:4,bouncing:!0,locking:!0,paging:!1,snapping:!1,zooming:!1,minZoom:.5,maxZoom:3,speedMultiplier:1,deceleration:.97,preventDefault:!1,scrollingComplete:t,penetrationDeceleration:.03,penetrationAcceleration:.08,scrollEventInterval:10,freeze:!1,getContentWidth:function(){return Math.max(i.__content.scrollWidth,i.__content.offsetWidth)},getContentHeight:function(){return Math.max(i.__content.scrollHeight,i.__content.offsetHeight+2*i.__content.offsetTop)}};for(var r in n)i.options[r]=n[r];i.hintResize=e.debounce(function(){i.resize()},1e3,!0),i.onScroll=function(){e.scroll.isScrolling?(clearTimeout(i.scrollTimer),i.scrollTimer=setTimeout(i.setScrollStop,80)):setTimeout(i.setScrollStart,50)},i.freeze=function(e){return arguments.length&&(i.options.freeze=e),i.options.freeze},i.freezeShut=i.freeze,i.setScrollStart=function(){e.scroll.isScrolling=Math.abs(e.scroll.lastTop-i.__scrollTop)>1,clearTimeout(i.scrollTimer),i.scrollTimer=setTimeout(i.setScrollStop,80)},i.setScrollStop=function(){e.scroll.isScrolling=!1,e.scroll.lastTop=i.__scrollTop},i.triggerScrollEvent=e.throttle(function(){i.onScroll(),e.trigger("scroll",{scrollTop:i.__scrollTop,scrollLeft:i.__scrollLeft,target:i.__container})},i.options.scrollEventInterval),i.triggerScrollEndEvent=function(){e.trigger("scrollend",{scrollTop:i.__scrollTop,scrollLeft:i.__scrollLeft,target:i.__container})},i.__scrollLeft=i.options.startX,i.__scrollTop=i.options.startY,i.__callback=i.getRenderFn(),i.__initEventHandlers(),i.__createScrollbars()},run:function(){this.resize(),this.__fadeScrollbars("out",this.options.scrollbarResizeFadeDelay)},__isSingleTouch:!1,__isTracking:!1,__didDecelerationComplete:!1,__isGesturing:!1,__isDragging:!1,__isDecelerating:!1,__isAnimating:!1,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:!1,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,__transformProperty:null,__perspectiveProperty:null,__indicatorX:null,__indicatorY:null,__scrollbarFadeTimeout:null,__didWaitForSize:null,__sizerTimeout:null,__initEventHandlers:function(){function t(e){return e.touches&&e.touches.length?e.touches:[{pageX:e.pageX,pageY:e.pageY}]}var n,i=this,r=i.__container;if(i.scrollChildIntoView=function(t){var a=r.getBoundingClientRect().bottom;n=r.offsetHeight;var o=i.isShrunkForKeyboard,s=r.parentNode.classList.contains("modal"),l=s&&window.innerWidth>=680;if(!o){if(e.Platform.isIOS()||e.Platform.isFullScreen||l){var c=t.detail.viewportHeight-a,d=Math.max(0,t.detail.keyboardHeight-c);e.requestAnimationFrame(function(){n-=d,r.style.height=n+"px",r.style.overflow="visible",i.resize()})}i.isShrunkForKeyboard=!0}t.detail.isElementUnderKeyboard&&e.requestAnimationFrame(function(){r.scrollTop=0,i.isShrunkForKeyboard&&!o&&(a=r.getBoundingClientRect().bottom);var s=.5*n,l=(t.detail.elementBottom+t.detail.elementTop)/2,c=l-a,d=c+s;d>0&&(e.Platform.isIOS()&&e.tap.cloneFocusedInput(r,i),i.scrollBy(0,d,!0),i.onScroll())}),t.stopPropagation()},i.resetScrollView=function(){i.isShrunkForKeyboard&&(i.isShrunkForKeyboard=!1,r.style.height="",r.style.overflow=""),i.resize()},r.addEventListener("scrollChildIntoView",i.scrollChildIntoView),document.addEventListener("resetScrollView",i.resetScrollView),i.touchStart=function(n){if(i.startCoordinates=e.tap.pointerCoord(n),!e.tap.ignoreScrollStart(n)){if(i.__isDown=!0,e.tap.containsOrIsTextInput(n.target)||"SELECT"===n.target.tagName)return void(i.__hasStarted=!1);i.__isSelectable=!0,i.__enableScrollY=!0,i.__hasStarted=!0,i.doTouchStart(t(n),n.timeStamp),n.preventDefault()}},i.touchMove=function(n){if(!(i.options.freeze||!i.__isDown||!i.__isDown&&n.defaultPrevented||"TEXTAREA"===n.target.tagName&&n.target.parentElement.querySelector(":focus"))){if(!i.__hasStarted&&(e.tap.containsOrIsTextInput(n.target)||"SELECT"===n.target.tagName))return i.__hasStarted=!0,i.doTouchStart(t(n),n.timeStamp),void n.preventDefault();
if(i.startCoordinates){var a=e.tap.pointerCoord(n);i.__isSelectable&&e.tap.isTextInput(n.target)&&Math.abs(i.startCoordinates.x-a.x)>20&&(i.__enableScrollY=!1,i.__isSelectable=!0),i.__enableScrollY&&Math.abs(i.startCoordinates.y-a.y)>10&&(i.__isSelectable=!1,e.tap.cloneFocusedInput(r,i))}i.doTouchMove(t(n),n.timeStamp,n.scale),i.__isDown=!0}},i.touchMoveBubble=function(e){i.__isDown&&i.options.preventDefault&&e.preventDefault()},i.touchEnd=function(t){i.__isDown&&(i.doTouchEnd(t,t.timeStamp),i.__isDown=!1,i.__hasStarted=!1,i.__isSelectable=!0,i.__enableScrollY=!0,i.__isDragging||i.__isDecelerating||i.__isAnimating||e.tap.removeClonedInputs(r,i))},i.mouseWheel=e.animationFrameThrottle(function(t){var n=e.DomUtil.getParentOrSelfWithClass(t.target,"ionic-scroll");i.options.freeze||n!==i.__container||(i.hintResize(),i.scrollBy((t.wheelDeltaX||t.deltaX||0)/i.options.wheelDampen,(-t.wheelDeltaY||t.deltaY||0)/i.options.wheelDampen),i.__fadeScrollbars("in"),clearTimeout(i.__wheelHideBarTimeout),i.__wheelHideBarTimeout=setTimeout(function(){i.__fadeScrollbars("out")},100))}),"ontouchstart"in window)r.addEventListener("touchstart",i.touchStart,!1),i.options.preventDefault&&r.addEventListener("touchmove",i.touchMoveBubble,!1),document.addEventListener("touchmove",i.touchMove,!1),document.addEventListener("touchend",i.touchEnd,!1),document.addEventListener("touchcancel",i.touchEnd,!1),document.addEventListener("wheel",i.mouseWheel,!1);else if(window.navigator.pointerEnabled)r.addEventListener("pointerdown",i.touchStart,!1),i.options.preventDefault&&r.addEventListener("pointermove",i.touchMoveBubble,!1),document.addEventListener("pointermove",i.touchMove,!1),document.addEventListener("pointerup",i.touchEnd,!1),document.addEventListener("pointercancel",i.touchEnd,!1),document.addEventListener("wheel",i.mouseWheel,!1);else if(window.navigator.msPointerEnabled)r.addEventListener("MSPointerDown",i.touchStart,!1),i.options.preventDefault&&r.addEventListener("MSPointerMove",i.touchMoveBubble,!1),document.addEventListener("MSPointerMove",i.touchMove,!1),document.addEventListener("MSPointerUp",i.touchEnd,!1),document.addEventListener("MSPointerCancel",i.touchEnd,!1),document.addEventListener("wheel",i.mouseWheel,!1);else{var a=!1;i.mouseDown=function(n){e.tap.ignoreScrollStart(n)||"SELECT"===n.target.tagName||(i.doTouchStart(t(n),n.timeStamp),e.tap.isTextInput(n.target)||n.preventDefault(),a=!0)},i.mouseMove=function(e){i.options.freeze||!a||!a&&e.defaultPrevented||(i.doTouchMove(t(e),e.timeStamp),a=!0)},i.mouseMoveBubble=function(e){a&&i.options.preventDefault&&e.preventDefault()},i.mouseUp=function(e){a&&(i.doTouchEnd(e,e.timeStamp),a=!1)},r.addEventListener("mousedown",i.mouseDown,!1),i.options.preventDefault&&r.addEventListener("mousemove",i.mouseMoveBubble,!1),document.addEventListener("mousemove",i.mouseMove,!1),document.addEventListener("mouseup",i.mouseUp,!1),document.addEventListener("mousewheel",i.mouseWheel,!1),document.addEventListener("wheel",i.mouseWheel,!1)}},__cleanup:function(){var n=this,i=n.__container;i.removeEventListener("touchstart",n.touchStart),i.removeEventListener("touchmove",n.touchMoveBubble),document.removeEventListener("touchmove",n.touchMove),document.removeEventListener("touchend",n.touchEnd),document.removeEventListener("touchcancel",n.touchEnd),i.removeEventListener("pointerdown",n.touchStart),i.removeEventListener("pointermove",n.touchMoveBubble),document.removeEventListener("pointermove",n.touchMove),document.removeEventListener("pointerup",n.touchEnd),document.removeEventListener("pointercancel",n.touchEnd),i.removeEventListener("MSPointerDown",n.touchStart),i.removeEventListener("MSPointerMove",n.touchMoveBubble),document.removeEventListener("MSPointerMove",n.touchMove),document.removeEventListener("MSPointerUp",n.touchEnd),document.removeEventListener("MSPointerCancel",n.touchEnd),i.removeEventListener("mousedown",n.mouseDown),i.removeEventListener("mousemove",n.mouseMoveBubble),document.removeEventListener("mousemove",n.mouseMove),document.removeEventListener("mouseup",n.mouseUp),document.removeEventListener("mousewheel",n.mouseWheel),document.removeEventListener("wheel",n.mouseWheel),i.removeEventListener("scrollChildIntoView",n.scrollChildIntoView),document.removeEventListener("resetScrollView",n.resetScrollView),e.tap.removeClonedInputs(i,n),delete n.__container,delete n.__content,delete n.__indicatorX,delete n.__indicatorY,delete n.options.el,n.__callback=n.scrollChildIntoView=n.resetScrollView=t,n.mouseMove=n.mouseDown=n.mouseUp=n.mouseWheel=n.touchStart=n.touchMove=n.touchEnd=n.touchCancel=t,n.resize=n.scrollTo=n.zoomTo=n.__scrollingComplete=t,i=null},__createScrollbar:function(e){var t=document.createElement("div"),n=document.createElement("div");return n.className="scroll-bar-indicator scroll-bar-fade-out",t.className="h"==e?"scroll-bar scroll-bar-h":"scroll-bar scroll-bar-v",t.appendChild(n),t},__createScrollbars:function(){var e,t,n=this;n.options.scrollingX&&(e={el:n.__createScrollbar("h"),sizeRatio:1},e.indicator=e.el.children[0],n.options.scrollbarX&&n.__container.appendChild(e.el),n.__indicatorX=e),n.options.scrollingY&&(t={el:n.__createScrollbar("v"),sizeRatio:1},t.indicator=t.el.children[0],n.options.scrollbarY&&n.__container.appendChild(t.el),n.__indicatorY=t)},__resizeScrollbars:function(){var t=this;if(t.__indicatorX){var n=Math.max(Math.round(t.__clientWidth*t.__clientWidth/t.__contentWidth),20);n>t.__contentWidth&&(n=0),n!==t.__indicatorX.size&&e.requestAnimationFrame(function(){t.__indicatorX.indicator.style.width=n+"px"}),t.__indicatorX.size=n,t.__indicatorX.minScale=t.options.minScrollbarSizeX/n,t.__indicatorX.maxPos=t.__clientWidth-n,t.__indicatorX.sizeRatio=t.__maxScrollLeft?t.__indicatorX.maxPos/t.__maxScrollLeft:1}if(t.__indicatorY){var i=Math.max(Math.round(t.__clientHeight*t.__clientHeight/t.__contentHeight),20);i>t.__contentHeight&&(i=0),i!==t.__indicatorY.size&&e.requestAnimationFrame(function(){t.__indicatorY&&(t.__indicatorY.indicator.style.height=i+"px")}),t.__indicatorY.size=i,t.__indicatorY.minScale=t.options.minScrollbarSizeY/i,t.__indicatorY.maxPos=t.__clientHeight-i,t.__indicatorY.sizeRatio=t.__maxScrollTop?t.__indicatorY.maxPos/t.__maxScrollTop:1}},__repositionScrollbars:function(){var e,t,n,i,r,a,o=this,s=0,l=0;if(o.__indicatorX){o.__indicatorY&&(s=10),r=Math.round(o.__indicatorX.sizeRatio*o.__scrollLeft)||0,n=o.__scrollLeft-(o.__maxScrollLeft-s),o.__scrollLeft<0?(t=Math.max(o.__indicatorX.minScale,(o.__indicatorX.size-Math.abs(o.__scrollLeft))/o.__indicatorX.size),r=0,o.__indicatorX.indicator.style[o.__transformOriginProperty]="left center"):n>0?(t=Math.max(o.__indicatorX.minScale,(o.__indicatorX.size-n)/o.__indicatorX.size),r=o.__indicatorX.maxPos-s,o.__indicatorX.indicator.style[o.__transformOriginProperty]="right center"):(r=Math.min(o.__maxScrollLeft,Math.max(0,r)),t=1);var c="translate3d("+r+"px, 0, 0) scaleX("+t+")";o.__indicatorX.transformProp!==c&&(o.__indicatorX.indicator.style[o.__transformProperty]=c,o.__indicatorX.transformProp=c)}if(o.__indicatorY){a=Math.round(o.__indicatorY.sizeRatio*o.__scrollTop)||0,o.__indicatorX&&(l=10),i=o.__scrollTop-(o.__maxScrollTop-l),o.__scrollTop<0?(e=Math.max(o.__indicatorY.minScale,(o.__indicatorY.size-Math.abs(o.__scrollTop))/o.__indicatorY.size),a=0,"center top"!==o.__indicatorY.originProp&&(o.__indicatorY.indicator.style[o.__transformOriginProperty]="center top",o.__indicatorY.originProp="center top")):i>0?(e=Math.max(o.__indicatorY.minScale,(o.__indicatorY.size-i)/o.__indicatorY.size),a=o.__indicatorY.maxPos-l,"center bottom"!==o.__indicatorY.originProp&&(o.__indicatorY.indicator.style[o.__transformOriginProperty]="center bottom",o.__indicatorY.originProp="center bottom")):(a=Math.min(o.__maxScrollTop,Math.max(0,a)),e=1);var d="translate3d(0,"+a+"px, 0) scaleY("+e+")";o.__indicatorY.transformProp!==d&&(o.__indicatorY.indicator.style[o.__transformProperty]=d,o.__indicatorY.transformProp=d)}},__fadeScrollbars:function(e,t){var n=this;if(n.options.scrollbarsFade){var i="scroll-bar-fade-out";n.options.scrollbarsFade===!0&&(clearTimeout(n.__scrollbarFadeTimeout),"in"==e?(n.__indicatorX&&n.__indicatorX.indicator.classList.remove(i),n.__indicatorY&&n.__indicatorY.indicator.classList.remove(i)):n.__scrollbarFadeTimeout=setTimeout(function(){n.__indicatorX&&n.__indicatorX.indicator.classList.add(i),n.__indicatorY&&n.__indicatorY.indicator.classList.add(i)},t||n.options.scrollbarFadeDelay))}},__scrollingComplete:function(){this.options.scrollingComplete(),e.tap.removeClonedInputs(this.__container,this),this.__fadeScrollbars("out")},resize:function(e){var t=this;t.__container&&t.options&&t.setDimensions(t.__container.clientWidth,t.__container.clientHeight,t.options.getContentWidth(),t.options.getContentHeight(),e)},getRenderFn:function(){var e,t=this,n=t.__content,i=document.documentElement.style;"MozAppearance"in i?e="gecko":"WebkitAppearance"in i?e="webkit":"string"==typeof navigator.cpuClass&&(e="trident");var r,a={trident:"ms",gecko:"Moz",webkit:"Webkit",presto:"O"}[e],o=document.createElement("div"),s=a+"Perspective",l=a+"Transform",c=a+"TransformOrigin";return t.__perspectiveProperty=l,t.__transformProperty=l,t.__transformOriginProperty=c,o.style[s]!==r?function(e,i,r,a){var o="translate3d("+-e+"px,"+-i+"px,0) scale("+r+")";o!==t.contentTransform&&(n.style[l]=o,t.contentTransform=o),t.__repositionScrollbars(),a||t.triggerScrollEvent()}:o.style[l]!==r?function(e,i,r,a){n.style[l]="translate("+-e+"px,"+-i+"px) scale("+r+")",t.__repositionScrollbars(),a||t.triggerScrollEvent()}:function(e,i,r,a){n.style.marginLeft=e?-e/r+"px":"",n.style.marginTop=i?-i/r+"px":"",n.style.zoom=r||"",t.__repositionScrollbars(),a||t.triggerScrollEvent()}},setDimensions:function(e,t,n,i,r){var a=this;(e||t||n||i)&&(e===+e&&(a.__clientWidth=e),t===+t&&(a.__clientHeight=t),n===+n&&(a.__contentWidth=n),i===+i&&(a.__contentHeight=i),a.__computeScrollMax(),a.__resizeScrollbars(),r||a.scrollTo(a.__scrollLeft,a.__scrollTop,!0,null,!0))},setPosition:function(e,t){this.__clientLeft=e||0,this.__clientTop=t||0},setSnapSize:function(e,t){this.__snapWidth=e,this.__snapHeight=t},activatePullToRefresh:function(t,n){var i=this;i.__refreshHeight=t,i.__refreshActivate=function(){e.requestAnimationFrame(n.activate)},i.__refreshDeactivate=function(){e.requestAnimationFrame(n.deactivate)},i.__refreshStart=function(){e.requestAnimationFrame(n.start)},i.__refreshShow=function(){e.requestAnimationFrame(n.show)},i.__refreshHide=function(){e.requestAnimationFrame(n.hide)},i.__refreshTail=function(){e.requestAnimationFrame(n.tail)},i.__refreshTailTime=100,i.__minSpinTime=600},triggerPullToRefresh:function(){this.__publish(this.__scrollLeft,-this.__refreshHeight,this.__zoomLevel,!0);var e=new Date;this.refreshStartTime=e.getTime(),this.__refreshStart&&this.__refreshStart()},finishPullToRefresh:function(){var e=this,t=new Date,n=0;e.refreshStartTime+e.__minSpinTime>t.getTime()&&(n=e.refreshStartTime+e.__minSpinTime-t.getTime()),setTimeout(function(){e.__refreshTail&&e.__refreshTail(),setTimeout(function(){e.__refreshActive=!1,e.__refreshDeactivate&&e.__refreshDeactivate(),e.__refreshHide&&e.__refreshHide(),e.scrollTo(e.__scrollLeft,e.__scrollTop,!0)},e.__refreshTailTime)},n)},getValues:function(){return{left:this.__scrollLeft,top:this.__scrollTop,zoom:this.__zoomLevel}},getScrollMax:function(){return{left:this.__maxScrollLeft,top:this.__maxScrollTop}},zoomTo:function(e,t,n,i){var r=this;if(!r.options.zooming)throw new Error("Zooming is not enabled!");r.__isDecelerating&&(me.effect.Animate.stop(r.__isDecelerating),r.__isDecelerating=!1);var a=r.__zoomLevel;null==n&&(n=r.__clientWidth/2),null==i&&(i=r.__clientHeight/2),e=Math.max(Math.min(e,r.options.maxZoom),r.options.minZoom),r.__computeScrollMax(e);var o=(n+r.__scrollLeft)*e/a-n,s=(i+r.__scrollTop)*e/a-i;o>r.__maxScrollLeft?o=r.__maxScrollLeft:0>o&&(o=0),s>r.__maxScrollTop?s=r.__maxScrollTop:0>s&&(s=0),r.__publish(o,s,e,t)},zoomBy:function(e,t,n,i){this.zoomTo(this.__zoomLevel*e,t,n,i)},scrollTo:function(e,t,n,i,r){var a=this;if(a.__isDecelerating&&(me.effect.Animate.stop(a.__isDecelerating),a.__isDecelerating=!1),null!=i&&i!==a.__zoomLevel){if(!a.options.zooming)throw new Error("Zooming is not enabled!");e*=i,t*=i,a.__computeScrollMax(i)}else i=a.__zoomLevel;a.options.scrollingX?a.options.paging?e=Math.round(e/a.__clientWidth)*a.__clientWidth:a.options.snapping&&(e=Math.round(e/a.__snapWidth)*a.__snapWidth):e=a.__scrollLeft,a.options.scrollingY?a.options.paging?t=Math.round(t/a.__clientHeight)*a.__clientHeight:a.options.snapping&&(t=Math.round(t/a.__snapHeight)*a.__snapHeight):t=a.__scrollTop,e=Math.max(Math.min(a.__maxScrollLeft,e),0),t=Math.max(Math.min(a.__maxScrollTop,t),0),e===a.__scrollLeft&&t===a.__scrollTop&&(n=!1),a.__publish(e,t,i,n,r)},scrollBy:function(e,t,n){var i=this,r=i.__isAnimating?i.__scheduledLeft:i.__scrollLeft,a=i.__isAnimating?i.__scheduledTop:i.__scrollTop;i.scrollTo(r+(e||0),a+(t||0),n)},doMouseZoom:function(e,t,n,i){var r=e>0?.97:1.03;return this.zoomTo(this.__zoomLevel*r,!1,n-this.__clientLeft,i-this.__clientTop)},doTouchStart:function(e,t){var n=this;n.__decStopped=!(!n.__isDecelerating&&!n.__isAnimating),n.hintResize(),t instanceof Date&&(t=t.valueOf()),"number"!=typeof t&&(t=Date.now()),n.__interruptedAnimation=!0,n.__isDecelerating&&(me.effect.Animate.stop(n.__isDecelerating),n.__isDecelerating=!1,n.__interruptedAnimation=!0),n.__isAnimating&&(me.effect.Animate.stop(n.__isAnimating),n.__isAnimating=!1,n.__interruptedAnimation=!0);var i,r,a=1===e.length;a?(i=e[0].pageX,r=e[0].pageY):(i=Math.abs(e[0].pageX+e[1].pageX)/2,r=Math.abs(e[0].pageY+e[1].pageY)/2),n.__initialTouchLeft=i,n.__initialTouchTop=r,n.__initialTouches=e,n.__zoomLevelStart=n.__zoomLevel,n.__lastTouchLeft=i,n.__lastTouchTop=r,n.__lastTouchMove=t,n.__lastScale=1,n.__enableScrollX=!a&&n.options.scrollingX,n.__enableScrollY=!a&&n.options.scrollingY,n.__isTracking=!0,n.__didDecelerationComplete=!1,n.__isDragging=!a,n.__isSingleTouch=a,n.__positions=[]},doTouchMove:function(e,t,n){t instanceof Date&&(t=t.valueOf()),"number"!=typeof t&&(t=Date.now());var i=this;if(i.__isTracking){var r,a;2===e.length?(r=Math.abs(e[0].pageX+e[1].pageX)/2,a=Math.abs(e[0].pageY+e[1].pageY)/2,!n&&i.options.zooming&&(n=i.__getScale(i.__initialTouches,e))):(r=e[0].pageX,a=e[0].pageY);var o=i.__positions;if(i.__isDragging){i.__decStopped=!1;var s=r-i.__lastTouchLeft,l=a-i.__lastTouchTop,c=i.__scrollLeft,d=i.__scrollTop,u=i.__zoomLevel;if(null!=n&&i.options.zooming){var p=u;if(u=u/i.__lastScale*n,u=Math.max(Math.min(u,i.options.maxZoom),i.options.minZoom),p!==u){var h=r-i.__clientLeft,f=a-i.__clientTop;c=(h+c)*u/p-h,d=(f+d)*u/p-f,i.__computeScrollMax(u)}}if(i.__enableScrollX){c-=s*i.options.speedMultiplier;var m=i.__maxScrollLeft;(c>m||0>c)&&(i.options.bouncing?c+=s/2*i.options.speedMultiplier:c=c>m?m:0)}if(i.__enableScrollY){d-=l*i.options.speedMultiplier;var g=i.__maxScrollTop;d>g||0>d?i.options.bouncing||i.__refreshHeight&&0>d?(d+=l/2*i.options.speedMultiplier,i.__enableScrollX||null==i.__refreshHeight||(0>d?(i.__refreshHidden=!1,i.__refreshShow()):(i.__refreshHide(),i.__refreshHidden=!0),!i.__refreshActive&&d<=-i.__refreshHeight?(i.__refreshActive=!0,i.__refreshActivate&&i.__refreshActivate()):i.__refreshActive&&d>-i.__refreshHeight&&(i.__refreshActive=!1,i.__refreshDeactivate&&i.__refreshDeactivate()))):d=d>g?g:0:i.__refreshHeight&&!i.__refreshHidden&&(i.__refreshHide(),i.__refreshHidden=!0)}o.length>60&&o.splice(0,30),o.push(c,d,t),i.__publish(c,d,u)}else{var v=i.options.locking?3:0,_=5,w=Math.abs(r-i.__initialTouchLeft),T=Math.abs(a-i.__initialTouchTop);i.__enableScrollX=i.options.scrollingX&&w>=v,i.__enableScrollY=i.options.scrollingY&&T>=v,o.push(i.__scrollLeft,i.__scrollTop,t),i.__isDragging=(i.__enableScrollX||i.__enableScrollY)&&(w>=_||T>=_),i.__isDragging&&(i.__interruptedAnimation=!1,i.__fadeScrollbars("in"))}i.__lastTouchLeft=r,i.__lastTouchTop=a,i.__lastTouchMove=t,i.__lastScale=n}},doTouchEnd:function(t,n){n instanceof Date&&(n=n.valueOf()),"number"!=typeof n&&(n=Date.now());var i=this;if(i.__isTracking){if(i.__isTracking=!1,i.__isDragging)if(i.__isDragging=!1,i.__isSingleTouch&&i.options.animating&&n-i.__lastTouchMove<=100){for(var r=i.__positions,a=r.length-1,o=a,s=a;s>0&&r[s]>i.__lastTouchMove-100;s-=3)o=s;if(o!==a){var l=r[a]-r[o],c=i.__scrollLeft-r[o-2],d=i.__scrollTop-r[o-1];i.__decelerationVelocityX=c/l*(1e3/60),i.__decelerationVelocityY=d/l*(1e3/60);var u=i.options.paging||i.options.snapping?i.options.decelVelocityThresholdPaging:i.options.decelVelocityThreshold;(Math.abs(i.__decelerationVelocityX)>u||Math.abs(i.__decelerationVelocityY)>u)&&(i.__refreshActive||i.__startDeceleration(n))}else i.__scrollingComplete()}else n-i.__lastTouchMove>100&&i.__scrollingComplete();else i.__decStopped&&(t.isTapHandled=!0,i.__decStopped=!1);if(!i.__isDecelerating)if(i.__refreshActive&&i.__refreshStart){i.__publish(i.__scrollLeft,-i.__refreshHeight,i.__zoomLevel,!0);var p=new Date;i.refreshStartTime=p.getTime(),i.__refreshStart&&i.__refreshStart(),e.Platform.isAndroid()||i.__startDeceleration()}else(i.__interruptedAnimation||i.__isDragging)&&i.__scrollingComplete(),i.scrollTo(i.__scrollLeft,i.__scrollTop,!0,i.__zoomLevel),i.__refreshActive&&(i.__refreshActive=!1,i.__refreshDeactivate&&i.__refreshDeactivate());i.__positions.length=0}},__publish:function(e,t,r,a,o){var s=this,l=s.__isAnimating;if(l&&(me.effect.Animate.stop(l),s.__isAnimating=!1),a&&s.options.animating){s.__scheduledLeft=e,s.__scheduledTop=t,s.__scheduledZoom=r;var c=s.__scrollLeft,d=s.__scrollTop,u=s.__zoomLevel,p=e-c,h=t-d,f=r-u,m=function(e,t,n){n&&(s.__scrollLeft=c+p*e,s.__scrollTop=d+h*e,s.__zoomLevel=u+f*e,s.__callback&&s.__callback(s.__scrollLeft,s.__scrollTop,s.__zoomLevel,o))},g=function(e){return s.__isAnimating===e},v=function(e,t,n){t===s.__isAnimating&&(s.__isAnimating=!1),(s.__didDecelerationComplete||n)&&s.__scrollingComplete(),s.options.zooming&&s.__computeScrollMax()};s.__isAnimating=me.effect.Animate.start(m,g,v,s.options.animationDuration,l?n:i)}else s.__scheduledLeft=s.__scrollLeft=e,s.__scheduledTop=s.__scrollTop=t,s.__scheduledZoom=s.__zoomLevel=r,s.__callback&&s.__callback(e,t,r,o),s.options.zooming&&s.__computeScrollMax()},__computeScrollMax:function(e){var t=this;null==e&&(e=t.__zoomLevel),t.__maxScrollLeft=Math.max(t.__contentWidth*e-t.__clientWidth,0),t.__maxScrollTop=Math.max(t.__contentHeight*e-t.__clientHeight,0),t.__didWaitForSize||t.__maxScrollLeft||t.__maxScrollTop||(t.__didWaitForSize=!0,t.__waitForSize())},__waitForSize:function(){var e=this;clearTimeout(e.__sizerTimeout);var t=function(){e.resize(!0)};t(),e.__sizerTimeout=setTimeout(t,500)},__startDeceleration:function(){var e=this;if(e.options.paging){var t=Math.max(Math.min(e.__scrollLeft,e.__maxScrollLeft),0),n=Math.max(Math.min(e.__scrollTop,e.__maxScrollTop),0),i=e.__clientWidth,r=e.__clientHeight;e.__minDecelerationScrollLeft=Math.floor(t/i)*i,e.__minDecelerationScrollTop=Math.floor(n/r)*r,e.__maxDecelerationScrollLeft=Math.ceil(t/i)*i,e.__maxDecelerationScrollTop=Math.ceil(n/r)*r}else e.__minDecelerationScrollLeft=0,e.__minDecelerationScrollTop=0,e.__maxDecelerationScrollLeft=e.__maxScrollLeft,e.__maxDecelerationScrollTop=e.__maxScrollTop,e.__refreshActive&&(e.__minDecelerationScrollTop=-1*e.__refreshHeight);var a=function(t,n,i){e.__stepThroughDeceleration(i)};e.__minVelocityToKeepDecelerating=e.options.snapping?4:.1;var o=function(){var t=Math.abs(e.__decelerationVelocityX)>=e.__minVelocityToKeepDecelerating||Math.abs(e.__decelerationVelocityY)>=e.__minVelocityToKeepDecelerating;return t||(e.__didDecelerationComplete=!0,e.options.bouncing&&!e.__refreshActive&&e.scrollTo(Math.min(Math.max(e.__scrollLeft,0),e.__maxScrollLeft),Math.min(Math.max(e.__scrollTop,0),e.__maxScrollTop),e.__refreshActive)),t},s=function(){e.__isDecelerating=!1,e.__didDecelerationComplete&&e.__scrollingComplete(),e.options.paging&&e.scrollTo(e.__scrollLeft,e.__scrollTop,e.options.snapping)};e.__isDecelerating=me.effect.Animate.start(a,o,s)},__stepThroughDeceleration:function(e){var t=this,n=t.__scrollLeft+t.__decelerationVelocityX,i=t.__scrollTop+t.__decelerationVelocityY;if(!t.options.bouncing){var r=Math.max(Math.min(t.__maxDecelerationScrollLeft,n),t.__minDecelerationScrollLeft);r!==n&&(n=r,t.__decelerationVelocityX=0);var a=Math.max(Math.min(t.__maxDecelerationScrollTop,i),t.__minDecelerationScrollTop);a!==i&&(i=a,t.__decelerationVelocityY=0)}if(e?t.__publish(n,i,t.__zoomLevel):(t.__scrollLeft=n,t.__scrollTop=i),!t.options.paging){var o=t.options.deceleration;t.__decelerationVelocityX*=o,t.__decelerationVelocityY*=o}if(t.options.bouncing){var s=0,l=0,c=t.options.penetrationDeceleration,d=t.options.penetrationAcceleration;if(n<t.__minDecelerationScrollLeft?s=t.__minDecelerationScrollLeft-n:n>t.__maxDecelerationScrollLeft&&(s=t.__maxDecelerationScrollLeft-n),i<t.__minDecelerationScrollTop?l=t.__minDecelerationScrollTop-i:i>t.__maxDecelerationScrollTop&&(l=t.__maxDecelerationScrollTop-i),0!==s){var u=s*t.__decelerationVelocityX<=t.__minDecelerationScrollLeft;u&&(t.__decelerationVelocityX+=s*c);var p=Math.abs(t.__decelerationVelocityX)<=t.__minVelocityToKeepDecelerating;(!u||p)&&(t.__decelerationVelocityX=s*d)}if(0!==l){var h=l*t.__decelerationVelocityY<=t.__minDecelerationScrollTop;h&&(t.__decelerationVelocityY+=l*c);var f=Math.abs(t.__decelerationVelocityY)<=t.__minVelocityToKeepDecelerating;(!h||f)&&(t.__decelerationVelocityY=l*d)}}},__getDistance:function(e,t){var n=t.pageX-e.pageX,i=t.pageY-e.pageY;return Math.sqrt(n*n+i*i)},__getScale:function(e,t){return e.length>=2&&t.length>=2?this.__getDistance(t[0],t[1])/this.__getDistance(e[0],e[1]):1}}),e.scroll={isScrolling:!1,lastTop:0}}(ionic),function(e){var t=function(){},n=function(){};e.views.ScrollNative=e.views.View.inherit({initialize:function(t){var n=this;n.__container=n.el=t.el,n.__content=t.el.firstElementChild,n.__frozen=!1,n.isNative=!0,n.__scrollTop=n.el.scrollTop,n.__scrollLeft=n.el.scrollLeft,n.__clientHeight=n.__content.clientHeight,n.__clientWidth=n.__content.clientWidth,n.__maxScrollTop=Math.max(n.__contentHeight-n.__clientHeight,0),n.__maxScrollLeft=Math.max(n.__contentWidth-n.__clientWidth,0),(t.startY>=0||t.startX>=0)&&e.requestAnimationFrame(function(){n.el.scrollTop=t.startY||0,n.el.scrollLeft=t.startX||0,n.__scrollTop=n.el.scrollTop,n.__scrollLeft=n.el.scrollLeft}),n.options={freeze:!1,getContentWidth:function(){return Math.max(n.__content.scrollWidth,n.__content.offsetWidth)},getContentHeight:function(){return Math.max(n.__content.scrollHeight,n.__content.offsetHeight+2*n.__content.offsetTop)}};for(var i in t)n.options[i]=t[i];n.onScroll=function(){e.scroll.isScrolling||(e.scroll.isScrolling=!0),clearTimeout(n.scrollTimer),n.scrollTimer=setTimeout(function(){e.scroll.isScrolling=!1},80)},n.freeze=function(e){n.__frozen=e},n.freezeShut=function(e){n.__frozenShut=e},n.__initEventHandlers()},__callback:function(){n("__callback")},zoomTo:function(){n("zoomTo")},zoomBy:function(){n("zoomBy")},activatePullToRefresh:function(){n("activatePullToRefresh")},resize:function(e){var t=this;t.__container&&t.options&&t.setDimensions(t.__container.clientWidth,t.__container.clientHeight,t.options.getContentWidth(),t.options.getContentHeight(),e)},run:function(){this.resize()},getValues:function(){var e=this;return e.update(),{left:e.__scrollLeft,top:e.__scrollTop,zoom:1}},update:function(){var e=this;e.__scrollLeft=e.el.scrollLeft,e.__scrollTop=e.el.scrollTop},setDimensions:function(e,t,n,i){var r=this;(e||t||n||i)&&(e===+e&&(r.__clientWidth=e),t===+t&&(r.__clientHeight=t),n===+n&&(r.__contentWidth=n),i===+i&&(r.__contentHeight=i),r.__computeScrollMax())},getScrollMax:function(){return{left:this.__maxScrollLeft,top:this.__maxScrollTop}},scrollBy:function(e,t,n){var i=this;i.update();var r=i.__isAnimating?i.__scheduledLeft:i.__scrollLeft,a=i.__isAnimating?i.__scheduledTop:i.__scrollTop;i.scrollTo(r+(e||0),a+(t||0),n)},scrollTo:function(t,n,i){function r(t,n){function i(e){return--e*e*e+1}function r(){var p=Date.now(),h=Math.min(1,(p-l)/c),f=i(h);d!=t&&(a.el.scrollTop=parseInt(f*(t-d)+d,10)),u!=n&&(a.el.scrollLeft=parseInt(f*(n-u)+u,10)),1>h?e.requestAnimationFrame(r):(e.tap.removeClonedInputs(a.__container,a),a.el.style.overflowX=o,a.el.style.overflowY=s,a.resize())}var l=Date.now(),c=250,d=a.el.scrollTop,u=a.el.scrollLeft;return d===t&&u===n?(a.el.style.overflowX=o,a.el.style.overflowY=s,void a.resize()):void e.requestAnimationFrame(r)}var a=this;if(!i)return a.el.scrollTop=n,a.el.scrollLeft=t,void a.resize();var o=a.el.style.overflowX,s=a.el.style.overflowY;clearTimeout(a.__scrollToCleanupTimeout),a.__scrollToCleanupTimeout=setTimeout(function(){a.el.style.overflowX=o,a.el.style.overflowY=s},500),a.el.style.overflowY="hidden",a.el.style.overflowX="hidden",r(n,t)},__waitForSize:function(){var e=this;clearTimeout(e.__sizerTimeout);var t=function(){e.resize(!0)};t(),e.__sizerTimeout=setTimeout(t,500)},__computeScrollMax:function(){var e=this;e.__maxScrollLeft=Math.max(e.__contentWidth-e.__clientWidth,0),e.__maxScrollTop=Math.max(e.__contentHeight-e.__clientHeight,0),e.__didWaitForSize||e.__maxScrollLeft||e.__maxScrollTop||(e.__didWaitForSize=!0,e.__waitForSize())},__initEventHandlers:function(){var t,n,i=this,r=i.__container;i.scrollChildIntoView=function(a){var o=r.getBoundingClientRect();i.__originalContainerHeight||(i.__originalContainerHeight=o.height),t=i.__originalContainerHeight;var s=i.isShrunkForKeyboard,l=r.parentNode.classList.contains("modal"),c=r.parentNode.classList.contains("popover"),d=l&&window.innerWidth>=680,u=n&&n!==a.detail.keyboardHeight;(!s||u)&&(!c&&(e.Platform.isIOS()||e.Platform.isFullScreen||d)&&e.requestAnimationFrame(function(){t=Math.max(0,Math.min(i.__originalContainerHeight,i.__originalContainerHeight-(a.detail.keyboardHeight-43))),r.style.height=t+"px",r.classList.add("keyboard-up"),i.resize()}),i.isShrunkForKeyboard=!0),n=a.detail.keyboardHeight,a.detail.isElementUnderKeyboard&&e.requestAnimationFrame(function(){var t=e.DomUtil.getOffsetTop(a.detail.target);setTimeout(function(){e.Platform.isIOS()&&e.tap.cloneFocusedInput(r,i),i.scrollTo(0,t-(o.top+100),!0),i.onScroll()},32)}),a.stopPropagation()},i.resetScrollView=function(){i.isShrunkForKeyboard&&(i.isShrunkForKeyboard=!1,r.style.height="",i.__originalContainerHeight=r.getBoundingClientRect().height,e.Platform.isIOS()&&e.requestAnimationFrame(function(){r.classList.remove("keyboard-up")})),i.resize()},i.handleTouchMove=function(e){return i.__frozenShut?(e.preventDefault(),e.stopPropagation(),!1):void 0},r.addEventListener("scroll",i.onScroll),r.addEventListener("scrollChildIntoView",i.scrollChildIntoView),r.addEventListener(e.EVENTS.touchstart,i.handleTouchMove),r.addEventListener(e.EVENTS.touchmove,i.handleTouchMove),document.addEventListener("resetScrollView",i.resetScrollView)},__cleanup:function(){var n=this,i=n.__container;i.removeEventListener("resetScrollView",n.resetScrollView),i.removeEventListener("scroll",n.onScroll),i.removeEventListener("scrollChildIntoView",n.scrollChildIntoView),i.removeEventListener("resetScrollView",n.resetScrollView),i.removeEventListener(e.EVENTS.touchstart,n.handleTouchMove),i.removeEventListener(e.EVENTS.touchmove,n.handleTouchMove),e.tap.removeClonedInputs(i,n),delete n.__container,delete n.__content,delete n.__indicatorX,delete n.__indicatorY,delete n.options.el,n.resize=n.scrollTo=n.onScroll=n.resetScrollView=t,n.scrollChildIntoView=t,i=null}})}(ionic),function(e){var t="item",n="item-content",i="item-sliding",r="item-options",a="item-placeholder",o="item-reordering",s="item-reorder",l=function(){};l.prototype={start:function(){},drag:function(){},end:function(){},isSameItem:function(){return!1}};var c=function(e){this.dragThresholdX=e.dragThresholdX||10,this.el=e.el,this.item=e.item,this.canSwipe=e.canSwipe};c.prototype=new l,c.prototype.start=function(a){var o,s,l,c;this.canSwipe()&&(o=a.target.classList.contains(n)?a.target:a.target.classList.contains(t)?a.target.querySelector("."+n):e.DomUtil.getParentWithClass(a.target,n),o&&(o.classList.remove(i),l=parseFloat(o.style[e.CSS.TRANSFORM].replace("translate3d(","").split(",")[0])||0,s=o.parentNode.querySelector("."+r),s&&(s.classList.remove("invisible"),c=s.offsetWidth,this._currentDrag={buttons:s,buttonsWidth:c,content:o,startOffsetX:l})))},c.prototype.isSameItem=function(e){return e._lastDrag&&this._currentDrag?this._currentDrag.content==e._lastDrag.content:!1},c.prototype.clean=function(t){function n(){i.buttons&&i.buttons.classList.add("invisible")}var i=this._lastDrag;i&&i.content&&(i.content.style[e.CSS.TRANSITION]="",i.content.style[e.CSS.TRANSFORM]="",t?(i.content.style[e.CSS.TRANSITION]="none",n(),e.requestAnimationFrame(function(){i.content.style[e.CSS.TRANSITION]=""})):e.requestAnimationFrame(function(){setTimeout(n,250)}))},c.prototype.drag=e.animationFrameThrottle(function(t){var n;if(this._currentDrag&&(!this._isDragging&&(Math.abs(t.gesture.deltaX)>this.dragThresholdX||Math.abs(this._currentDrag.startOffsetX)>0)&&(this._isDragging=!0),this._isDragging)){n=this._currentDrag.buttonsWidth;var i=Math.min(0,this._currentDrag.startOffsetX+t.gesture.deltaX);-n>i&&(i=Math.min(-n,-n+.4*(t.gesture.deltaX+n))),this._currentDrag.content.$$ionicOptionsOpen=0!==i,this._currentDrag.content.style[e.CSS.TRANSFORM]="translate3d("+i+"px, 0, 0)",this._currentDrag.content.style[e.CSS.TRANSITION]="none"}}),c.prototype.end=function(t,n){var i=this;if(!i._currentDrag)return void(n&&n());var r=-i._currentDrag.buttonsWidth;t.gesture.deltaX>-(i._currentDrag.buttonsWidth/2)&&("left"==t.gesture.direction&&Math.abs(t.gesture.velocityX)<.3?r=0:"right"==t.gesture.direction&&(r=0)),e.requestAnimationFrame(function(){if(0===r){i._currentDrag.content.style[e.CSS.TRANSFORM]="";var t=i._currentDrag.buttons;setTimeout(function(){t&&t.classList.add("invisible")},250)}else i._currentDrag.content.style[e.CSS.TRANSFORM]="translate3d("+r+"px,0,0)";i._currentDrag.content.style[e.CSS.TRANSITION]="",i._lastDrag||(i._lastDrag={}),e.extend(i._lastDrag,i._currentDrag),i._currentDrag&&(i._currentDrag.buttons=null,i._currentDrag.content=null),i._currentDrag=null,n&&n()})};var d=function(e){var t=this;if(t.dragThresholdY=e.dragThresholdY||0,t.onReorder=e.onReorder,t.listEl=e.listEl,t.el=t.item=e.el,t.scrollEl=e.scrollEl,t.scrollView=e.scrollView,t.listElTrueTop=0,t.listEl.offsetParent){var n=t.listEl;do t.listElTrueTop+=n.offsetTop,n=n.offsetParent;while(n)}};d.prototype=new l,d.prototype._moveElement=function(t){var n=t.gesture.center.pageY+this.scrollView.getValues().top-this._currentDrag.elementHeight/2-this.listElTrueTop;this.el.style[e.CSS.TRANSFORM]="translate3d(0, "+n+"px, 0)"},d.prototype.deregister=function(){this.listEl=this.el=this.scrollEl=this.scrollView=null},d.prototype.start=function(t){var n=e.DomUtil.getChildIndex(this.el,this.el.nodeName.toLowerCase()),i=this.el.scrollHeight,r=this.el.cloneNode(!0);r.classList.add(a),this.el.parentNode.insertBefore(r,this.el),this.el.classList.add(o),this._currentDrag={elementHeight:i,startIndex:n,placeholder:r,scrollHeight:scroll,list:r.parentNode},this._moveElement(t)},d.prototype.drag=e.animationFrameThrottle(function(t){var n=this;if(this._currentDrag){var i=0,r=t.gesture.center.pageY,a=this.listElTrueTop;if(this.scrollView){var o=this.scrollView.__container;i=this.scrollView.getValues().top;var s=o.offsetTop,l=s-r+this._currentDrag.elementHeight/2,c=r+this._currentDrag.elementHeight/2-s-o.offsetHeight;t.gesture.deltaY<0&&l>0&&i>0&&(this.scrollView.scrollBy(null,-l),e.requestAnimationFrame(function(){n.drag(t)})),t.gesture.deltaY>0&&c>0&&i<this.scrollView.getScrollMax().top&&(this.scrollView.scrollBy(null,c),e.requestAnimationFrame(function(){n.drag(t)}))}!this._isDragging&&Math.abs(t.gesture.deltaY)>this.dragThresholdY&&(this._isDragging=!0),this._isDragging&&(this._moveElement(t),this._currentDrag.currentY=i+r-a)}}),d.prototype._getReorderIndex=function(){for(var e,t=this,n=Array.prototype.slice.call(t._currentDrag.placeholder.parentNode.children).filter(function(e){return e.nodeName===t.el.nodeName&&e!==t.el
}),i=t._currentDrag.currentY,r=0,a=n.length;a>r;r++)if(e=n[r],r===a-1){if(i>e.offsetTop)return r}else if(0===r){if(i<e.offsetTop+e.offsetHeight)return r}else if(i>e.offsetTop-e.offsetHeight/2&&i<e.offsetTop+e.offsetHeight)return r;return t._currentDrag.startIndex},d.prototype.end=function(t,n){if(!this._currentDrag)return void(n&&n());var i=this._currentDrag.placeholder,r=this._getReorderIndex();this.el.classList.remove(o),this.el.style[e.CSS.TRANSFORM]="",i.parentNode.insertBefore(this.el,i),i.parentNode.removeChild(i),this.onReorder&&this.onReorder(this.el,this._currentDrag.startIndex,r),this._currentDrag={placeholder:null,content:null},this._currentDrag=null,n&&n()},e.views.ListView=e.views.View.inherit({initialize:function(t){var n=this;t=e.extend({onReorder:function(){},virtualRemoveThreshold:-200,virtualAddThreshold:200,canSwipe:function(){return!0}},t),e.extend(n,t),!n.itemHeight&&n.listEl&&(n.itemHeight=n.listEl.children[0]&&parseInt(n.listEl.children[0].style.height,10)),n.onRefresh=t.onRefresh||function(){},n.onRefreshOpening=t.onRefreshOpening||function(){},n.onRefreshHolding=t.onRefreshHolding||function(){};var i={};e.DomUtil.getParentOrSelfWithClass(n.el,"overflow-scroll")&&(i.prevent_default_directions=["left","right"]),window.ionic.onGesture("release",function(e){n._handleEndDrag(e)},n.el,i),window.ionic.onGesture("drag",function(e){n._handleDrag(e)},n.el,i),n._initDrag()},deregister:function(){this.el=this.listEl=this.scrollEl=this.scrollView=null,this.isScrollFreeze&&self.scrollView.freeze(!1)},stopRefreshing:function(){var e=this.el.querySelector(".list-refresher");e.style.height="0"},didScroll:function(e){var t=this;if(t.isVirtual){var n=t.itemHeight,i=e.target.scrollHeight,r=t.el.parentNode.offsetHeight,a=Math.max(0,e.scrollTop+t.virtualRemoveThreshold),o=Math.min(i,Math.abs(e.scrollTop)+r+t.virtualAddThreshold),s=parseInt(Math.abs(a/n),10),l=parseInt(Math.abs(o/n),10);t._virtualItemsToRemove=Array.prototype.slice.call(t.listEl.children,0,s),t.renderViewport&&t.renderViewport(a,o,s,l)}},didStopScrolling:function(){if(this.isVirtual)for(var e=0;e<this._virtualItemsToRemove.length;e++)this.didHideItem&&this.didHideItem(e)},clearDragEffects:function(e){this._lastDragOp&&(this._lastDragOp.clean&&this._lastDragOp.clean(e),this._lastDragOp.deregister&&this._lastDragOp.deregister(),this._lastDragOp=null)},_initDrag:function(){this._lastDragOp&&this._lastDragOp.deregister&&this._lastDragOp.deregister(),this._lastDragOp=this._dragOp,this._dragOp=null},_getItem:function(e){for(;e;){if(e.classList&&e.classList.contains(t))return e;e=e.parentNode}return null},_startDrag:function(t){var n=this;n._isDragging=!1;var i,r=n._lastDragOp;n._didDragUpOrDown&&r instanceof c&&r.clean&&r.clean(),!e.DomUtil.getParentOrSelfWithClass(t.target,s)||"up"!=t.gesture.direction&&"down"!=t.gesture.direction?!n._didDragUpOrDown&&("left"==t.gesture.direction||"right"==t.gesture.direction)&&Math.abs(t.gesture.deltaX)>5&&(i=n._getItem(t.target),i&&i.querySelector(".item-options")&&(n._dragOp=new c({el:n.el,item:i,canSwipe:n.canSwipe}),n._dragOp.start(t),t.preventDefault(),n.isScrollFreeze=n.scrollView.freeze(!0))):(i=n._getItem(t.target),i&&(n._dragOp=new d({listEl:n.el,el:i,scrollEl:n.scrollEl,scrollView:n.scrollView,onReorder:function(e,t,i){n.onReorder&&n.onReorder(e,t,i)}}),n._dragOp.start(t),t.preventDefault())),r&&n._dragOp&&!n._dragOp.isSameItem(r)&&t.defaultPrevented&&r.clean&&r.clean()},_handleEndDrag:function(e){var t=this;t.scrollView&&(t.isScrollFreeze=t.scrollView.freeze(!1)),t._didDragUpOrDown=!1,t._dragOp&&t._dragOp.end(e,function(){t._initDrag()})},_handleDrag:function(e){var t=this;Math.abs(e.gesture.deltaY)>5&&(t._didDragUpOrDown=!0),t.isDragging||t._dragOp||t._startDrag(e),t._dragOp&&(e.gesture.srcEvent.preventDefault(),t._dragOp.drag(e))}})}(ionic),function(e){e.views.Modal=e.views.View.inherit({initialize:function(t){t=e.extend({focusFirstInput:!1,unfocusOnHide:!0,focusFirstDelay:600,backdropClickToClose:!0,hardwareBackButtonClose:!0},t),e.extend(this,t),this.el=t.el},show:function(){var e=this;e.focusFirstInput&&window.setTimeout(function(){var t=e.el.querySelector("input, textarea");t&&t.focus&&t.focus()},e.focusFirstDelay)},hide:function(){if(this.unfocusOnHide){var e=this.el.querySelectorAll("input, textarea");window.setTimeout(function(){for(var t=0;t<e.length;t++)e[t].blur&&e[t].blur()})}}})}(ionic),function(e){e.views.SideMenu=e.views.View.inherit({initialize:function(e){this.el=e.el,this.isEnabled="undefined"==typeof e.isEnabled?!0:e.isEnabled,this.setWidth(e.width)},getFullWidth:function(){return this.width},setWidth:function(e){this.width=e,this.el.style.width=e+"px"},setIsEnabled:function(e){this.isEnabled=e},bringUp:function(){"0"!==this.el.style.zIndex&&(this.el.style.zIndex="0")},pushDown:function(){"-1"!==this.el.style.zIndex&&(this.el.style.zIndex="-1")}}),e.views.SideMenuContent=e.views.View.inherit({initialize:function(t){e.extend(this,{animationClass:"menu-animated",onDrag:function(){},onEndDrag:function(){}},t),e.onGesture("drag",e.proxy(this._onDrag,this),this.el),e.onGesture("release",e.proxy(this._onEndDrag,this),this.el)},_onDrag:function(e){this.onDrag&&this.onDrag(e)},_onEndDrag:function(e){this.onEndDrag&&this.onEndDrag(e)},disableAnimation:function(){this.el.classList.remove(this.animationClass)},enableAnimation:function(){this.el.classList.add(this.animationClass)},getTranslateX:function(){return parseFloat(this.el.style[e.CSS.TRANSFORM].replace("translate3d(","").split(",")[0])},setTranslateX:e.animationFrameThrottle(function(t){this.el.style[e.CSS.TRANSFORM]="translate3d("+t+"px, 0, 0)"})})}(ionic),function(e){e.views.Slider=e.views.View.inherit({initialize:function(e){function t(){if(b.offsetWidth){S=D.children,x=S.length,S.length<2&&(e.continuous=!1),T.transitions&&e.continuous&&S.length<3&&(D.appendChild(S[0].cloneNode(!0)),D.appendChild(D.children[1].cloneNode(!0)),S=D.children),y=new Array(S.length),E=b.offsetWidth||b.getBoundingClientRect().width,D.style.width=S.length*E+"px";for(var t=S.length;t--;){var n=S[t];n.style.width=E+"px",n.setAttribute("data-index",t),T.transitions&&(n.style.left=t*-E+"px",o(t,M>t?-E:t>M?E:0,0))}e.continuous&&T.transitions&&(o(r(M-1),-E,0),o(r(M+1),E,0)),T.transitions||(D.style.left=M*-E+"px"),b.style.visibility="visible",e.slidesChanged&&e.slidesChanged()}}function n(t){e.continuous?a(M-1,t):M&&a(M-1,t)}function i(t){e.continuous?a(M+1,t):M<S.length-1&&a(M+1,t)}function r(e){return(S.length+e%S.length)%S.length}function a(t,n){if(M!=t){if(!S)return void(M=t);if(T.transitions){var i=Math.abs(M-t)/(M-t);if(e.continuous){var a=i;i=-y[r(t)]/E,i!==a&&(t=-i*S.length+t)}for(var s=Math.abs(M-t)-1;s--;)o(r((t>M?t:M)-s-1),E*i,0);t=r(t),o(M,E*i,n||L),o(t,0,n||L),e.continuous&&o(r(t-i),-(E*i),0)}else t=r(t),l(M*-E,t*-E,n||L);M=t,w(e.callback&&e.callback(M,S[M]))}}function o(e,t,n){s(e,t,n),y[e]=t}function s(e,t,n){var i=S[e],r=i&&i.style;r&&(r.webkitTransitionDuration=r.MozTransitionDuration=r.msTransitionDuration=r.OTransitionDuration=r.transitionDuration=n+"ms",r.webkitTransform="translate("+t+"px,0)translateZ(0)",r.msTransform=r.MozTransform=r.OTransform="translateX("+t+"px)")}function l(t,n,i){if(!i)return void(D.style.left=n+"px");var r=+new Date,a=setInterval(function(){var o=+new Date-r;return o>i?(D.style.left=n+"px",I&&c(),e.transitionEnd&&e.transitionEnd.call(event,M,S[M]),void clearInterval(a)):void(D.style.left=(n-t)*(Math.floor(o/i*100)/100)+t+"px")},4)}function c(){C=setTimeout(i,I)}function d(){I=e.auto||0,clearTimeout(C)}var u,p,h,f=this;window.navigator.pointerEnabled?(u="pointerdown",p="pointermove",h="pointerup"):window.navigator.msPointerEnabled?(u="MSPointerDown",p="MSPointerMove",h="MSPointerUp"):(u="touchstart",p="touchmove",h="touchend");var m="mousedown",g="mousemove",v="mouseup",_=function(){},w=function(e){setTimeout(e||_,0)},T={addEventListener:!!window.addEventListener,transitions:function(e){var t=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var n in t)if(void 0!==e.style[t[n]])return!0;return!1}(document.createElement("swipe"))},b=e.el;if(b){var S,y,E,x,D=b.children[0];e=e||{};var M=parseInt(e.startSlide,10)||0,L=e.speed||300;e.continuous=void 0!==e.continuous?e.continuous:!0;var C,P,I=e.auto||0,k={},N={},z={handleEvent:function(n){switch(!n.touches&&n.pageX&&n.pageY&&(n.touches=[{pageX:n.pageX,pageY:n.pageY}]),n.type){case u:this.start(n);break;case m:this.start(n);break;case p:this.touchmove(n);break;case g:this.touchmove(n);break;case h:w(this.end(n));break;case v:w(this.end(n));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":w(this.transitionEnd(n));break;case"resize":w(t)}e.stopPropagation&&n.stopPropagation()},start:function(e){if(e.touches){var t=e.touches[0];k={x:t.pageX,y:t.pageY,time:+new Date},P=void 0,N={},D.addEventListener(p,this,!1),D.addEventListener(g,this,!1),D.addEventListener(h,this,!1),D.addEventListener(v,this,!1),document.addEventListener(h,this,!1),document.addEventListener(v,this,!1)}},touchmove:function(t){if(!(!t.touches||t.touches.length>1||t.scale&&1!==t.scale||f.slideIsDisabled)){e.disableScroll&&t.preventDefault();var n=t.touches[0];N={x:n.pageX-k.x,y:n.pageY-k.y},"undefined"==typeof P&&(P=!!(P||Math.abs(N.x)<Math.abs(N.y))),P||(t.preventDefault(),d(),e.continuous?(s(r(M-1),N.x+y[r(M-1)],0),s(M,N.x+y[M],0),s(r(M+1),N.x+y[r(M+1)],0)):(e.bouncing?N.x=N.x/(!M&&N.x>0||M==S.length-1&&N.x<0?Math.abs(N.x)/E+1:1):(E*M-N.x<0&&(N.x=Math.min(N.x,E*M)),Math.abs(N.x)>E*(S.length-M-1)&&(N.x=Math.max(-E*(S.length-M-1),N.x))),s(M-1,N.x+y[M-1],0),s(M,N.x+y[M],0),s(M+1,N.x+y[M+1],0)),e.onDrag&&e.onDrag())}},end:function(){var t=+new Date-k.time,n=Number(t)<250&&Math.abs(N.x)>20||Math.abs(N.x)>E/2,i=!M&&N.x>0||M==S.length-1&&N.x<0;e.continuous&&(i=!1);var a=N.x<0;P||(n&&!i?(a?(e.continuous?(o(r(M-1),-E,0),o(r(M+2),E,0)):o(M-1,-E,0),o(M,y[M]-E,L),o(r(M+1),y[r(M+1)]-E,L),M=r(M+1)):(e.continuous?(o(r(M+1),E,0),o(r(M-2),-E,0)):o(M+1,E,0),o(M,y[M]+E,L),o(r(M-1),y[r(M-1)]+E,L),M=r(M-1)),e.callback&&e.callback(M,S[M])):e.continuous?(o(r(M-1),-E,L),o(M,0,L),o(r(M+1),E,L)):(o(M-1,-E,L),o(M,0,L),o(M+1,E,L))),D.removeEventListener(p,z,!1),D.removeEventListener(g,z,!1),D.removeEventListener(h,z,!1),D.removeEventListener(v,z,!1),document.removeEventListener(h,z,!1),document.removeEventListener(v,z,!1),e.onDragEnd&&e.onDragEnd()},transitionEnd:function(t){parseInt(t.target.getAttribute("data-index"),10)==M&&(I&&c(),e.transitionEnd&&e.transitionEnd.call(t,M,S[M]))}};this.update=function(){setTimeout(t)},this.setup=function(){t()},this.loop=function(t){return arguments.length&&(e.continuous=!!t),e.continuous},this.enableSlide=function(e){return arguments.length&&(this.slideIsDisabled=!e),!this.slideIsDisabled},this.slide=this.select=function(e,t){d(),a(e,t)},this.prev=this.previous=function(){d(),n()},this.next=function(){d(),i()},this.stop=function(){d()},this.start=function(){c()},this.autoPlay=function(e){!I||0>I?d():(I=e,c())},this.currentIndex=this.selected=function(){return M},this.slidesCount=this.count=function(){return x},this.kill=function(){d(),D.style.width="",D.style.left="",S&&(S=[]),T.addEventListener?(D.removeEventListener(u,z,!1),D.removeEventListener(m,z,!1),D.removeEventListener("webkitTransitionEnd",z,!1),D.removeEventListener("msTransitionEnd",z,!1),D.removeEventListener("oTransitionEnd",z,!1),D.removeEventListener("otransitionend",z,!1),D.removeEventListener("transitionend",z,!1),window.removeEventListener("resize",z,!1)):window.onresize=null},this.load=function(){t(),I&&c(),T.addEventListener?(D.addEventListener(u,z,!1),D.addEventListener(m,z,!1),T.transitions&&(D.addEventListener("webkitTransitionEnd",z,!1),D.addEventListener("msTransitionEnd",z,!1),D.addEventListener("oTransitionEnd",z,!1),D.addEventListener("otransitionend",z,!1),D.addEventListener("transitionend",z,!1)),window.addEventListener("resize",z,!1)):window.onresize=function(){t()}}}}})}(ionic),function(){function e(e){e.fn.swiper=function(t){var i;return e(this).each(function(){var e=new n(this,t);i||(i=e)}),i}}var t,n=function(e,r,a,o){function s(){return"horizontal"===y.params.direction}function l(e){return Math.floor(e)}function c(){y.autoplayTimeoutId=setTimeout(function(){y.params.loop?(y.fixLoop(),y._slideNext()):y.isEnd?r.autoplayStopOnLast?y.stopAutoplay():y._slideTo(0):y._slideNext()},y.params.autoplay)}function d(e,n){var i=t(e.target);if(!i.is(n))if("string"==typeof n)i=i.parents(n);else if(n.nodeType){var r;return i.parents().each(function(e,t){t===n&&(r=n)}),r?n:void 0}return 0===i.length?void 0:i[0]}function u(e,t){t=t||{};var n=window.MutationObserver||window.WebkitMutationObserver,i=new n(function(e){e.forEach(function(e){y.onResize(!0),y.emit("onObserverUpdate",y,e)})});i.observe(e,{attributes:"undefined"==typeof t.attributes?!0:t.attributes,childList:"undefined"==typeof t.childList?!0:t.childList,characterData:"undefined"==typeof t.characterData?!0:t.characterData}),y.observers.push(i)}function p(e){e.originalEvent&&(e=e.originalEvent);var t=e.keyCode||e.charCode;if(!y.params.allowSwipeToNext&&(s()&&39===t||!s()&&40===t))return!1;if(!y.params.allowSwipeToPrev&&(s()&&37===t||!s()&&38===t))return!1;if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===t||39===t||38===t||40===t){var n=!1;if(y.container.parents(".swiper-slide").length>0&&0===y.container.parents(".swiper-slide-active").length)return;var i={left:window.pageXOffset,top:window.pageYOffset},r=window.innerWidth,a=window.innerHeight,o=y.container.offset();y.rtl&&(o.left=o.left-y.container[0].scrollLeft);for(var l=[[o.left,o.top],[o.left+y.width,o.top],[o.left,o.top+y.height],[o.left+y.width,o.top+y.height]],c=0;c<l.length;c++){var d=l[c];d[0]>=i.left&&d[0]<=i.left+r&&d[1]>=i.top&&d[1]<=i.top+a&&(n=!0)}if(!n)return}s()?((37===t||39===t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1),(39===t&&!y.rtl||37===t&&y.rtl)&&y.slideNext(),(37===t&&!y.rtl||39===t&&y.rtl)&&y.slidePrev()):((38===t||40===t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1),40===t&&y.slideNext(),38===t&&y.slidePrev())}}function h(e){e.originalEvent&&(e=e.originalEvent);var t=y.mousewheel.event,n=0,i=y.rtl?-1:1;if(e.detail)n=-e.detail;else if("mousewheel"===t)if(y.params.mousewheelForceToAxis)if(s()){if(!(Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)))return;n=e.wheelDeltaX*i}else{if(!(Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX)))return;n=e.wheelDeltaY}else n=Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)?-e.wheelDeltaX*i:-e.wheelDeltaY;else if("DOMMouseScroll"===t)n=-e.detail;else if("wheel"===t)if(y.params.mousewheelForceToAxis)if(s()){if(!(Math.abs(e.deltaX)>Math.abs(e.deltaY)))return;n=-e.deltaX*i}else{if(!(Math.abs(e.deltaY)>Math.abs(e.deltaX)))return;n=-e.deltaY}else n=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX*i:-e.deltaY;if(0!==n){if(y.params.mousewheelInvert&&(n=-n),y.params.freeMode){var r=y.getWrapperTranslate()+n*y.params.mousewheelSensitivity,a=y.isBeginning,o=y.isEnd;if(r>=y.minTranslate()&&(r=y.minTranslate()),r<=y.maxTranslate()&&(r=y.maxTranslate()),y.setWrapperTransition(0),y.setWrapperTranslate(r),y.updateProgress(),y.updateActiveIndex(),(!a&&y.isBeginning||!o&&y.isEnd)&&y.updateClasses(),y.params.freeModeSticky&&(clearTimeout(y.mousewheel.timeout),y.mousewheel.timeout=setTimeout(function(){y.slideReset()},300)),0===r||r===y.maxTranslate())return}else{if((new window.Date).getTime()-y.mousewheel.lastScrollTime>60)if(0>n)if(y.isEnd&&!y.params.loop||y.animating){if(y.params.mousewheelReleaseOnEdges)return!0}else y.slideNext();else if(y.isBeginning&&!y.params.loop||y.animating){if(y.params.mousewheelReleaseOnEdges)return!0}else y.slidePrev();y.mousewheel.lastScrollTime=(new window.Date).getTime()}return y.params.autoplay&&y.stopAutoplay(),e.preventDefault?e.preventDefault():e.returnValue=!1,!1}}function f(e,n){e=t(e);var i,r,a,o=y.rtl?-1:1;i=e.attr("data-swiper-parallax")||"0",r=e.attr("data-swiper-parallax-x"),a=e.attr("data-swiper-parallax-y"),r||a?(r=r||"0",a=a||"0"):s()?(r=i,a="0"):(a=i,r="0"),r=r.indexOf("%")>=0?parseInt(r,10)*n*o+"%":r*n*o+"px",a=a.indexOf("%")>=0?parseInt(a,10)*n+"%":a*n+"px",e.transform("translate3d("+r+", "+a+",0px)")}function m(e){return 0!==e.indexOf("on")&&(e=e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e),e}if(!(this instanceof n))return new n(e,r);var g={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,hashnav:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},v=r&&r.virtualTranslate;r=r||{};var _={};for(var w in r)if("object"!=typeof r[w]||r[w].nodeType||r[w]===window||r[w]===document||"undefined"!=typeof i&&r[w]instanceof i||"undefined"!=typeof jQuery&&r[w]instanceof jQuery)_[w]=r[w];else{_[w]={};for(var T in r[w])_[w][T]=r[w][T]}for(var b in g)if("undefined"==typeof r[b])r[b]=g[b];else if("object"==typeof r[b])for(var S in g[b])"undefined"==typeof r[b][S]&&(r[b][S]=g[b][S]);var y=this;if(y.params=r,y.originalParams=_,y.classNames=[],"undefined"!=typeof t&&"undefined"!=typeof i&&(t=i),("undefined"!=typeof t||(t="undefined"==typeof i?window.Dom7||window.Zepto||window.jQuery:i))&&(y.$=t,y.currentBreakpoint=void 0,y.getActiveBreakpoint=function(){if(!y.params.breakpoints)return!1;var e,t=!1,n=[];for(e in y.params.breakpoints)y.params.breakpoints.hasOwnProperty(e)&&n.push(e);n.sort(function(e,t){return parseInt(e,10)>parseInt(t,10)});for(var i=0;i<n.length;i++)e=n[i],e>=window.innerWidth&&!t&&(t=e);return t||"max"},y.setBreakpoint=function(){var e=y.getActiveBreakpoint();if(e&&y.currentBreakpoint!==e){var t=e in y.params.breakpoints?y.params.breakpoints[e]:y.originalParams;for(var n in t)y.params[n]=t[n];y.currentBreakpoint=e}},y.params.breakpoints&&y.setBreakpoint(),y.container=t(e),0!==y.container.length)){if(y.container.length>1)return void y.container.each(function(){new n(this,r)});y.container[0].swiper=y,y.container.data("swiper",y),y.classNames.push("swiper-container-"+y.params.direction),y.params.freeMode&&y.classNames.push("swiper-container-free-mode"),y.support.flexbox||(y.classNames.push("swiper-container-no-flexbox"),y.params.slidesPerColumn=1),y.params.autoHeight&&y.classNames.push("swiper-container-autoheight"),(y.params.parallax||y.params.watchSlidesVisibility)&&(y.params.watchSlidesProgress=!0),["cube","coverflow"].indexOf(y.params.effect)>=0&&(y.support.transforms3d?(y.params.watchSlidesProgress=!0,y.classNames.push("swiper-container-3d")):y.params.effect="slide"),"slide"!==y.params.effect&&y.classNames.push("swiper-container-"+y.params.effect),"cube"===y.params.effect&&(y.params.resistanceRatio=0,y.params.slidesPerView=1,y.params.slidesPerColumn=1,y.params.slidesPerGroup=1,y.params.centeredSlides=!1,y.params.spaceBetween=0,y.params.virtualTranslate=!0,y.params.setWrapperSize=!1),"fade"===y.params.effect&&(y.params.slidesPerView=1,y.params.slidesPerColumn=1,y.params.slidesPerGroup=1,y.params.watchSlidesProgress=!0,y.params.spaceBetween=0,"undefined"==typeof v&&(y.params.virtualTranslate=!0)),y.params.grabCursor&&y.support.touch&&(y.params.grabCursor=!1),y.wrapper=y.container.children("."+y.params.wrapperClass),y.params.pagination&&(y.paginationContainer=t(y.params.pagination),y.params.paginationClickable&&y.paginationContainer.addClass("swiper-pagination-clickable")),y.rtl=s()&&("rtl"===y.container[0].dir.toLowerCase()||"rtl"===y.container.css("direction")),y.rtl&&y.classNames.push("swiper-container-rtl"),y.rtl&&(y.wrongRTL="-webkit-box"===y.wrapper.css("display")),y.params.slidesPerColumn>1&&y.classNames.push("swiper-container-multirow"),y.device.android&&y.classNames.push("swiper-container-android"),y.container.addClass(y.classNames.join(" ")),y.translate=0,y.progress=0,y.velocity=0,y.lockSwipeToNext=function(){y.params.allowSwipeToNext=!1},y.lockSwipeToPrev=function(){y.params.allowSwipeToPrev=!1},y.lockSwipes=function(){y.params.allowSwipeToNext=y.params.allowSwipeToPrev=!1},y.unlockSwipeToNext=function(){y.params.allowSwipeToNext=!0},y.unlockSwipeToPrev=function(){y.params.allowSwipeToPrev=!0},y.unlockSwipes=function(){y.params.allowSwipeToNext=y.params.allowSwipeToPrev=!0},y.params.grabCursor&&(y.container[0].style.cursor="move",y.container[0].style.cursor="-webkit-grab",y.container[0].style.cursor="-moz-grab",y.container[0].style.cursor="grab"),y.imagesToLoad=[],y.imagesLoaded=0,y.loadImage=function(e,t,n,i,r){function a(){r&&r()}var o;e.complete&&i?a():t?(o=new window.Image,o.onload=a,o.onerror=a,n&&(o.srcset=n),t&&(o.src=t)):a()},y.preloadImages=function(){function e(){"undefined"!=typeof y&&null!==y&&(void 0!==y.imagesLoaded&&y.imagesLoaded++,y.imagesLoaded===y.imagesToLoad.length&&(y.params.updateOnImagesReady&&y.update(),y.emit("onImagesReady",y)))}y.imagesToLoad=y.container.find("img");for(var t=0;t<y.imagesToLoad.length;t++)y.loadImage(y.imagesToLoad[t],y.imagesToLoad[t].currentSrc||y.imagesToLoad[t].getAttribute("src"),y.imagesToLoad[t].srcset||y.imagesToLoad[t].getAttribute("srcset"),!0,e)},y.autoplayTimeoutId=void 0,y.autoplaying=!1,y.autoplayPaused=!1,y.startAutoplay=function(){return"undefined"!=typeof y.autoplayTimeoutId?!1:y.params.autoplay?y.autoplaying?!1:(y.autoplaying=!0,y.emit("onAutoplayStart",y),void c()):!1},y.stopAutoplay=function(){y.autoplayTimeoutId&&(y.autoplayTimeoutId&&clearTimeout(y.autoplayTimeoutId),y.autoplaying=!1,y.autoplayTimeoutId=void 0,y.emit("onAutoplayStop",y))},y.pauseAutoplay=function(e){y.autoplayPaused||(y.autoplayTimeoutId&&clearTimeout(y.autoplayTimeoutId),y.autoplayPaused=!0,0===e?(y.autoplayPaused=!1,c()):y.wrapper.transitionEnd(function(){y&&(y.autoplayPaused=!1,y.autoplaying?c():y.stopAutoplay())}))},y.minTranslate=function(){return-y.snapGrid[0]},y.maxTranslate=function(){return-y.snapGrid[y.snapGrid.length-1]},y.updateAutoHeight=function(){var e=y.slides.eq(y.activeIndex)[0].offsetHeight;e&&y.wrapper.css("height",y.slides.eq(y.activeIndex)[0].offsetHeight+"px")},y.updateContainerSize=function(){var e,t;e="undefined"!=typeof y.params.width?y.params.width:y.container[0].clientWidth,t="undefined"!=typeof y.params.height?y.params.height:y.container[0].clientHeight,0===e&&s()||0===t&&!s()||(e=e-parseInt(y.container.css("padding-left"),10)-parseInt(y.container.css("padding-right"),10),t=t-parseInt(y.container.css("padding-top"),10)-parseInt(y.container.css("padding-bottom"),10),y.width=e,y.height=t,y.size=s()?y.width:y.height)},y.updateSlidesSize=function(){y.slides=y.wrapper.children("."+y.params.slideClass),y.snapGrid=[],y.slidesGrid=[],y.slidesSizesGrid=[];var e,t=y.params.spaceBetween,n=-y.params.slidesOffsetBefore,i=0,r=0;"string"==typeof t&&t.indexOf("%")>=0&&(t=parseFloat(t.replace("%",""))/100*y.size),y.virtualSize=-t,y.slides.css(y.rtl?{marginLeft:"",marginTop:""}:{marginRight:"",marginBottom:""});var a;y.params.slidesPerColumn>1&&(a=Math.floor(y.slides.length/y.params.slidesPerColumn)===y.slides.length/y.params.slidesPerColumn?y.slides.length:Math.ceil(y.slides.length/y.params.slidesPerColumn)*y.params.slidesPerColumn,"auto"!==y.params.slidesPerView&&"row"===y.params.slidesPerColumnFill&&(a=Math.max(a,y.params.slidesPerView*y.params.slidesPerColumn)));var o,c=y.params.slidesPerColumn,d=a/c,u=d-(y.params.slidesPerColumn*d-y.slides.length);for(e=0;e<y.slides.length;e++){o=0;var p=y.slides.eq(e);if(y.params.slidesPerColumn>1){var h,f,m;"column"===y.params.slidesPerColumnFill?(f=Math.floor(e/c),m=e-f*c,(f>u||f===u&&m===c-1)&&++m>=c&&(m=0,f++),h=f+m*a/c,p.css({"-webkit-box-ordinal-group":h,"-moz-box-ordinal-group":h,"-ms-flex-order":h,"-webkit-order":h,order:h})):(m=Math.floor(e/d),f=e-m*d),p.css({"margin-top":0!==m&&y.params.spaceBetween&&y.params.spaceBetween+"px"}).attr("data-swiper-column",f).attr("data-swiper-row",m)}"none"!==p.css("display")&&("auto"===y.params.slidesPerView?(o=s()?p.outerWidth(!0):p.outerHeight(!0),y.params.roundLengths&&(o=l(o))):(o=(y.size-(y.params.slidesPerView-1)*t)/y.params.slidesPerView,y.params.roundLengths&&(o=l(o)),s()?y.slides[e].style.width=o+"px":y.slides[e].style.height=o+"px"),y.slides[e].swiperSlideSize=o,y.slidesSizesGrid.push(o),y.params.centeredSlides?(n=n+o/2+i/2+t,0===e&&(n=n-y.size/2-t),Math.abs(n)<.001&&(n=0),r%y.params.slidesPerGroup===0&&y.snapGrid.push(n),y.slidesGrid.push(n)):(r%y.params.slidesPerGroup===0&&y.snapGrid.push(n),y.slidesGrid.push(n),n=n+o+t),y.virtualSize+=o+t,i=o,r++)}y.virtualSize=Math.max(y.virtualSize,y.size)+y.params.slidesOffsetAfter;var g;if(y.rtl&&y.wrongRTL&&("slide"===y.params.effect||"coverflow"===y.params.effect)&&y.wrapper.css({width:y.virtualSize+y.params.spaceBetween+"px"}),(!y.support.flexbox||y.params.setWrapperSize)&&y.wrapper.css(s()?{width:y.virtualSize+y.params.spaceBetween+"px"}:{height:y.virtualSize+y.params.spaceBetween+"px"}),y.params.slidesPerColumn>1&&(y.virtualSize=(o+y.params.spaceBetween)*a,y.virtualSize=Math.ceil(y.virtualSize/y.params.slidesPerColumn)-y.params.spaceBetween,y.wrapper.css({width:y.virtualSize+y.params.spaceBetween+"px"}),y.params.centeredSlides)){for(g=[],e=0;e<y.snapGrid.length;e++)y.snapGrid[e]<y.virtualSize+y.snapGrid[0]&&g.push(y.snapGrid[e]);y.snapGrid=g}if(!y.params.centeredSlides){for(g=[],e=0;e<y.snapGrid.length;e++)y.snapGrid[e]<=y.virtualSize-y.size&&g.push(y.snapGrid[e]);y.snapGrid=g,Math.floor(y.virtualSize-y.size)>Math.floor(y.snapGrid[y.snapGrid.length-1])&&y.snapGrid.push(y.virtualSize-y.size)}0===y.snapGrid.length&&(y.snapGrid=[0]),0!==y.params.spaceBetween&&y.slides.css(s()?y.rtl?{marginLeft:t+"px"}:{marginRight:t+"px"}:{marginBottom:t+"px"}),y.params.watchSlidesProgress&&y.updateSlidesOffset()},y.updateSlidesOffset=function(){for(var e=0;e<y.slides.length;e++)y.slides[e].swiperSlideOffset=s()?y.slides[e].offsetLeft:y.slides[e].offsetTop},y.updateSlidesProgress=function(e){if("undefined"==typeof e&&(e=y.translate||0),0!==y.slides.length){"undefined"==typeof y.slides[0].swiperSlideOffset&&y.updateSlidesOffset();var t=-e;y.rtl&&(t=e),y.slides.removeClass(y.params.slideVisibleClass);for(var n=0;n<y.slides.length;n++){var i=y.slides[n],r=(t-i.swiperSlideOffset)/(i.swiperSlideSize+y.params.spaceBetween);if(y.params.watchSlidesVisibility){var a=-(t-i.swiperSlideOffset),o=a+y.slidesSizesGrid[n],s=a>=0&&a<y.size||o>0&&o<=y.size||0>=a&&o>=y.size;s&&y.slides.eq(n).addClass(y.params.slideVisibleClass)}i.progress=y.rtl?-r:r}}},y.updateProgress=function(e){"undefined"==typeof e&&(e=y.translate||0);var t=y.maxTranslate()-y.minTranslate(),n=y.isBeginning,i=y.isEnd;0===t?(y.progress=0,y.isBeginning=y.isEnd=!0):(y.progress=(e-y.minTranslate())/t,y.isBeginning=y.progress<=0,y.isEnd=y.progress>=1),y.isBeginning&&!n&&y.emit("onReachBeginning",y),y.isEnd&&!i&&y.emit("onReachEnd",y),y.params.watchSlidesProgress&&y.updateSlidesProgress(e),y.emit("onProgress",y,y.progress)},y.updateActiveIndex=function(){var e,t,n,i=y.rtl?y.translate:-y.translate;for(t=0;t<y.slidesGrid.length;t++)"undefined"!=typeof y.slidesGrid[t+1]?i>=y.slidesGrid[t]&&i<y.slidesGrid[t+1]-(y.slidesGrid[t+1]-y.slidesGrid[t])/2?e=t:i>=y.slidesGrid[t]&&i<y.slidesGrid[t+1]&&(e=t+1):i>=y.slidesGrid[t]&&(e=t);(0>e||"undefined"==typeof e)&&(e=0),n=Math.floor(e/y.params.slidesPerGroup),n>=y.snapGrid.length&&(n=y.snapGrid.length-1),e!==y.activeIndex&&(y.snapIndex=n,y.previousIndex=y.activeIndex,y.activeIndex=e,y.updateClasses())},y.updateClasses=function(){y.slides.removeClass(y.params.slideActiveClass+" "+y.params.slideNextClass+" "+y.params.slidePrevClass);var e=y.slides.eq(y.activeIndex);if(e.addClass(y.params.slideActiveClass),e.next("."+y.params.slideClass).addClass(y.params.slideNextClass),e.prev("."+y.params.slideClass).addClass(y.params.slidePrevClass),y.bullets&&y.bullets.length>0){y.bullets.removeClass(y.params.bulletActiveClass);var n;y.params.loop?(n=Math.ceil(y.activeIndex-y.loopedSlides)/y.params.slidesPerGroup,n>y.slides.length-1-2*y.loopedSlides&&(n-=y.slides.length-2*y.loopedSlides),n>y.bullets.length-1&&(n-=y.bullets.length)):n="undefined"!=typeof y.snapIndex?y.snapIndex:y.activeIndex||0,y.paginationContainer.length>1?y.bullets.each(function(){t(this).index()===n&&t(this).addClass(y.params.bulletActiveClass)}):y.bullets.eq(n).addClass(y.params.bulletActiveClass)}y.params.loop||(y.params.prevButton&&(y.isBeginning?(t(y.params.prevButton).addClass(y.params.buttonDisabledClass),y.params.a11y&&y.a11y&&y.a11y.disable(t(y.params.prevButton))):(t(y.params.prevButton).removeClass(y.params.buttonDisabledClass),y.params.a11y&&y.a11y&&y.a11y.enable(t(y.params.prevButton)))),y.params.nextButton&&(y.isEnd?(t(y.params.nextButton).addClass(y.params.buttonDisabledClass),y.params.a11y&&y.a11y&&y.a11y.disable(t(y.params.nextButton))):(t(y.params.nextButton).removeClass(y.params.buttonDisabledClass),y.params.a11y&&y.a11y&&y.a11y.enable(t(y.params.nextButton)))))},y.updatePagination=function(){if(y.params.pagination&&y.paginationContainer&&y.paginationContainer.length>0){for(var e="",t=y.params.loop?Math.ceil((y.slides.length-2*y.loopedSlides)/y.params.slidesPerGroup):y.snapGrid.length,n=0;t>n;n++)e+=y.params.paginationBulletRender?y.params.paginationBulletRender(n,y.params.bulletClass):"<"+y.params.paginationElement+' class="'+y.params.bulletClass+'"></'+y.params.paginationElement+">";y.paginationContainer.html(e),y.bullets=y.paginationContainer.find("."+y.params.bulletClass),y.params.paginationClickable&&y.params.a11y&&y.a11y&&y.a11y.initPagination()}},y.update=function(e){function t(){i=Math.min(Math.max(y.translate,y.maxTranslate()),y.minTranslate()),y.setWrapperTranslate(i),y.updateActiveIndex(),y.updateClasses()}if(y.updateContainerSize(),y.updateSlidesSize(),y.updateProgress(),y.updatePagination(),y.updateClasses(),y.params.scrollbar&&y.scrollbar&&y.scrollbar.set(),e){var n,i;
y.controller&&y.controller.spline&&(y.controller.spline=void 0),y.params.freeMode?(t(),y.params.autoHeight&&y.updateAutoHeight()):(n=("auto"===y.params.slidesPerView||y.params.slidesPerView>1)&&y.isEnd&&!y.params.centeredSlides?y.slideTo(y.slides.length-1,0,!1,!0):y.slideTo(y.activeIndex,0,!1,!0),n||t())}else y.params.autoHeight&&y.updateAutoHeight()},y.onResize=function(e){y.params.breakpoints&&y.setBreakpoint();var t=y.params.allowSwipeToPrev,n=y.params.allowSwipeToNext;if(y.params.allowSwipeToPrev=y.params.allowSwipeToNext=!0,y.updateContainerSize(),y.updateSlidesSize(),("auto"===y.params.slidesPerView||y.params.freeMode||e)&&y.updatePagination(),y.params.scrollbar&&y.scrollbar&&y.scrollbar.set(),y.controller&&y.controller.spline&&(y.controller.spline=void 0),y.params.freeMode){var i=Math.min(Math.max(y.translate,y.maxTranslate()),y.minTranslate());y.setWrapperTranslate(i),y.updateActiveIndex(),y.updateClasses(),y.params.autoHeight&&y.updateAutoHeight()}else y.updateClasses(),("auto"===y.params.slidesPerView||y.params.slidesPerView>1)&&y.isEnd&&!y.params.centeredSlides?y.slideTo(y.slides.length-1,0,!1,!0):y.slideTo(y.activeIndex,0,!1,!0);y.params.allowSwipeToPrev=t,y.params.allowSwipeToNext=n};var E=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?E=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(E=["MSPointerDown","MSPointerMove","MSPointerUp"]),y.touchEvents={start:y.support.touch||!y.params.simulateTouch?"touchstart":E[0],move:y.support.touch||!y.params.simulateTouch?"touchmove":E[1],end:y.support.touch||!y.params.simulateTouch?"touchend":E[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===y.params.touchEventsTarget?y.container:y.wrapper).addClass("swiper-wp8-"+y.params.direction),y.initEvents=function(e){var n=e?"off":"on",i=e?"removeEventListener":"addEventListener",a="container"===y.params.touchEventsTarget?y.container[0]:y.wrapper[0],o=y.support.touch?a:document,s=y.params.nested?!0:!1;y.browser.ie?(a[i](y.touchEvents.start,y.onTouchStart,!1),o[i](y.touchEvents.move,y.onTouchMove,s),o[i](y.touchEvents.end,y.onTouchEnd,!1)):(y.support.touch&&(a[i](y.touchEvents.start,y.onTouchStart,!1),a[i](y.touchEvents.move,y.onTouchMove,s),a[i](y.touchEvents.end,y.onTouchEnd,!1)),!r.simulateTouch||y.device.ios||y.device.android||(a[i]("mousedown",y.onTouchStart,!1),document[i]("mousemove",y.onTouchMove,s),document[i]("mouseup",y.onTouchEnd,!1))),window[i]("resize",y.onResize),y.params.nextButton&&(t(y.params.nextButton)[n]("click",y.onClickNext),y.params.a11y&&y.a11y&&t(y.params.nextButton)[n]("keydown",y.a11y.onEnterKey)),y.params.prevButton&&(t(y.params.prevButton)[n]("click",y.onClickPrev),y.params.a11y&&y.a11y&&t(y.params.prevButton)[n]("keydown",y.a11y.onEnterKey)),y.params.pagination&&y.params.paginationClickable&&(t(y.paginationContainer)[n]("click","."+y.params.bulletClass,y.onClickIndex),y.params.a11y&&y.a11y&&t(y.paginationContainer)[n]("keydown","."+y.params.bulletClass,y.a11y.onEnterKey)),(y.params.preventClicks||y.params.preventClicksPropagation)&&a[i]("click",y.preventClicks,!0)},y.attachEvents=function(){y.initEvents()},y.detachEvents=function(){y.initEvents(!0)},y.allowClick=!0,y.preventClicks=function(e){y.allowClick||(y.params.preventClicks&&e.preventDefault(),y.params.preventClicksPropagation&&y.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))},y.onClickNext=function(e){e.preventDefault(),(!y.isEnd||y.params.loop)&&y.slideNext()},y.onClickPrev=function(e){e.preventDefault(),(!y.isBeginning||y.params.loop)&&y.slidePrev()},y.onClickIndex=function(e){e.preventDefault();var n=t(this).index()*y.params.slidesPerGroup;y.params.loop&&(n+=y.loopedSlides),y.slideTo(n)},y.updateClickedSlide=function(e){var n=d(e,"."+y.params.slideClass),i=!1;if(n)for(var r=0;r<y.slides.length;r++)y.slides[r]===n&&(i=!0);if(!n||!i)return y.clickedSlide=void 0,void(y.clickedIndex=void 0);if(y.clickedSlide=n,y.clickedIndex=t(n).index(),y.params.slideToClickedSlide&&void 0!==y.clickedIndex&&y.clickedIndex!==y.activeIndex){var a,o=y.clickedIndex;if(y.params.loop){if(y.animating)return;a=t(y.clickedSlide).attr("data-swiper-slide-index"),y.params.centeredSlides?o<y.loopedSlides-y.params.slidesPerView/2||o>y.slides.length-y.loopedSlides+y.params.slidesPerView/2?(y.fixLoop(),o=y.wrapper.children("."+y.params.slideClass+'[data-swiper-slide-index="'+a+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){y.slideTo(o)},0)):y.slideTo(o):o>y.slides.length-y.params.slidesPerView?(y.fixLoop(),o=y.wrapper.children("."+y.params.slideClass+'[data-swiper-slide-index="'+a+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){y.slideTo(o)},0)):y.slideTo(o)}else y.slideTo(o)}};var x,D,M,L,C,P,I,k,N,z,O="input, select, textarea, button",A=Date.now(),G=[];y.animating=!1,y.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var V,R;if(y.onTouchStart=function(e){if(e.originalEvent&&(e=e.originalEvent),V="touchstart"===e.type,V||!("which"in e)||3!==e.which){if(y.params.noSwiping&&d(e,"."+y.params.noSwipingClass))return void(y.allowClick=!0);if(!y.params.swipeHandler||d(e,y.params.swipeHandler)){var n=y.touches.currentX="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,i=y.touches.currentY="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY;if(!(y.device.ios&&y.params.iOSEdgeSwipeDetection&&n<=y.params.iOSEdgeSwipeThreshold)){if(x=!0,D=!1,M=!0,C=void 0,R=void 0,y.touches.startX=n,y.touches.startY=i,L=Date.now(),y.allowClick=!0,y.updateContainerSize(),y.swipeDirection=void 0,y.params.threshold>0&&(k=!1),"touchstart"!==e.type){var r=!0;t(e.target).is(O)&&(r=!1),document.activeElement&&t(document.activeElement).is(O)&&document.activeElement.blur(),r&&e.preventDefault()}y.emit("onTouchStart",y,e)}}}},y.onTouchMove=function(e){if(e.originalEvent&&(e=e.originalEvent),!(V&&"mousemove"===e.type||e.preventedByNestedSwiper)){if(y.params.onlyExternal)return y.allowClick=!1,void(x&&(y.touches.startX=y.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,y.touches.startY=y.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,L=Date.now()));if(V&&document.activeElement&&e.target===document.activeElement&&t(e.target).is(O))return D=!0,void(y.allowClick=!1);if(M&&y.emit("onTouchMove",y,e),!(e.targetTouches&&e.targetTouches.length>1)){if(y.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,y.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof C){var n=180*Math.atan2(Math.abs(y.touches.currentY-y.touches.startY),Math.abs(y.touches.currentX-y.touches.startX))/Math.PI;C=s()?n>y.params.touchAngle:90-n>y.params.touchAngle}if(C&&y.emit("onTouchMoveOpposite",y,e),"undefined"==typeof R&&y.browser.ieTouch&&(y.touches.currentX!==y.touches.startX||y.touches.currentY!==y.touches.startY)&&(R=!0),x){if(C)return void(x=!1);if(R||!y.browser.ieTouch){y.allowClick=!1,y.emit("onSliderMove",y,e),e.preventDefault(),y.params.touchMoveStopPropagation&&!y.params.nested&&e.stopPropagation(),D||(r.loop&&y.fixLoop(),I=y.getWrapperTranslate(),y.setWrapperTransition(0),y.animating&&y.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),y.params.autoplay&&y.autoplaying&&(y.params.autoplayDisableOnInteraction?y.stopAutoplay():y.pauseAutoplay()),z=!1,y.params.grabCursor&&(y.container[0].style.cursor="move",y.container[0].style.cursor="-webkit-grabbing",y.container[0].style.cursor="-moz-grabbin",y.container[0].style.cursor="grabbing")),D=!0;var i=y.touches.diff=s()?y.touches.currentX-y.touches.startX:y.touches.currentY-y.touches.startY;i*=y.params.touchRatio,y.rtl&&(i=-i),y.swipeDirection=i>0?"prev":"next",P=i+I;var a=!0;if(i>0&&P>y.minTranslate()?(a=!1,y.params.resistance&&(P=y.minTranslate()-1+Math.pow(-y.minTranslate()+I+i,y.params.resistanceRatio))):0>i&&P<y.maxTranslate()&&(a=!1,y.params.resistance&&(P=y.maxTranslate()+1-Math.pow(y.maxTranslate()-I-i,y.params.resistanceRatio))),a&&(e.preventedByNestedSwiper=!0),!y.params.allowSwipeToNext&&"next"===y.swipeDirection&&I>P&&(P=I),!y.params.allowSwipeToPrev&&"prev"===y.swipeDirection&&P>I&&(P=I),y.params.followFinger){if(y.params.threshold>0){if(!(Math.abs(i)>y.params.threshold||k))return void(P=I);if(!k)return k=!0,y.touches.startX=y.touches.currentX,y.touches.startY=y.touches.currentY,P=I,void(y.touches.diff=s()?y.touches.currentX-y.touches.startX:y.touches.currentY-y.touches.startY)}(y.params.freeMode||y.params.watchSlidesProgress)&&y.updateActiveIndex(),y.params.freeMode&&(0===G.length&&G.push({position:y.touches[s()?"startX":"startY"],time:L}),G.push({position:y.touches[s()?"currentX":"currentY"],time:(new window.Date).getTime()})),y.updateProgress(P),y.setWrapperTranslate(P)}}}}}},y.onTouchEnd=function(e){if(e.originalEvent&&(e=e.originalEvent),M&&y.emit("onTouchEnd",y,e),M=!1,x){y.params.grabCursor&&D&&x&&(y.container[0].style.cursor="move",y.container[0].style.cursor="-webkit-grab",y.container[0].style.cursor="-moz-grab",y.container[0].style.cursor="grab");var n=Date.now(),i=n-L;if(y.allowClick&&(y.updateClickedSlide(e),y.emit("onTap",y,e),300>i&&n-A>300&&(N&&clearTimeout(N),N=setTimeout(function(){y&&(y.params.paginationHide&&y.paginationContainer.length>0&&!t(e.target).hasClass(y.params.bulletClass)&&y.paginationContainer.toggleClass(y.params.paginationHiddenClass),y.emit("onClick",y,e))},300)),300>i&&300>n-A&&(N&&clearTimeout(N),y.emit("onDoubleTap",y,e))),A=Date.now(),setTimeout(function(){y&&(y.allowClick=!0)},0),!x||!D||!y.swipeDirection||0===y.touches.diff||P===I)return void(x=D=!1);x=D=!1;var r;if(r=y.params.followFinger?y.rtl?y.translate:-y.translate:-P,y.params.freeMode){if(r<-y.minTranslate())return void y.slideTo(y.activeIndex);if(r>-y.maxTranslate())return void y.slideTo(y.slides.length<y.snapGrid.length?y.snapGrid.length-1:y.slides.length-1);if(y.params.freeModeMomentum){if(G.length>1){var a=G.pop(),o=G.pop(),s=a.position-o.position,l=a.time-o.time;y.velocity=s/l,y.velocity=y.velocity/2,Math.abs(y.velocity)<y.params.freeModeMinimumVelocity&&(y.velocity=0),(l>150||(new window.Date).getTime()-a.time>300)&&(y.velocity=0)}else y.velocity=0;G.length=0;var c=1e3*y.params.freeModeMomentumRatio,d=y.velocity*c,u=y.translate+d;y.rtl&&(u=-u);var p,h=!1,f=20*Math.abs(y.velocity)*y.params.freeModeMomentumBounceRatio;if(u<y.maxTranslate())y.params.freeModeMomentumBounce?(u+y.maxTranslate()<-f&&(u=y.maxTranslate()-f),p=y.maxTranslate(),h=!0,z=!0):u=y.maxTranslate();else if(u>y.minTranslate())y.params.freeModeMomentumBounce?(u-y.minTranslate()>f&&(u=y.minTranslate()+f),p=y.minTranslate(),h=!0,z=!0):u=y.minTranslate();else if(y.params.freeModeSticky){var m,g=0;for(g=0;g<y.snapGrid.length;g+=1)if(y.snapGrid[g]>-u){m=g;break}u=Math.abs(y.snapGrid[m]-u)<Math.abs(y.snapGrid[m-1]-u)||"next"===y.swipeDirection?y.snapGrid[m]:y.snapGrid[m-1],y.rtl||(u=-u)}if(0!==y.velocity)c=Math.abs(y.rtl?(-u-y.translate)/y.velocity:(u-y.translate)/y.velocity);else if(y.params.freeModeSticky)return void y.slideReset();y.params.freeModeMomentumBounce&&h?(y.updateProgress(p),y.setWrapperTransition(c),y.setWrapperTranslate(u),y.onTransitionStart(),y.animating=!0,y.wrapper.transitionEnd(function(){y&&z&&(y.emit("onMomentumBounce",y),y.setWrapperTransition(y.params.speed),y.setWrapperTranslate(p),y.wrapper.transitionEnd(function(){y&&y.onTransitionEnd()}))})):y.velocity?(y.updateProgress(u),y.setWrapperTransition(c),y.setWrapperTranslate(u),y.onTransitionStart(),y.animating||(y.animating=!0,y.wrapper.transitionEnd(function(){y&&y.onTransitionEnd()}))):y.updateProgress(u),y.updateActiveIndex()}return void((!y.params.freeModeMomentum||i>=y.params.longSwipesMs)&&(y.updateProgress(),y.updateActiveIndex()))}var v,_=0,w=y.slidesSizesGrid[0];for(v=0;v<y.slidesGrid.length;v+=y.params.slidesPerGroup)"undefined"!=typeof y.slidesGrid[v+y.params.slidesPerGroup]?r>=y.slidesGrid[v]&&r<y.slidesGrid[v+y.params.slidesPerGroup]&&(_=v,w=y.slidesGrid[v+y.params.slidesPerGroup]-y.slidesGrid[v]):r>=y.slidesGrid[v]&&(_=v,w=y.slidesGrid[y.slidesGrid.length-1]-y.slidesGrid[y.slidesGrid.length-2]);var T=(r-y.slidesGrid[_])/w;if(i>y.params.longSwipesMs){if(!y.params.longSwipes)return void y.slideTo(y.activeIndex);"next"===y.swipeDirection&&y.slideTo(T>=y.params.longSwipesRatio?_+y.params.slidesPerGroup:_),"prev"===y.swipeDirection&&y.slideTo(T>1-y.params.longSwipesRatio?_+y.params.slidesPerGroup:_)}else{if(!y.params.shortSwipes)return void y.slideTo(y.activeIndex);"next"===y.swipeDirection&&y.slideTo(_+y.params.slidesPerGroup),"prev"===y.swipeDirection&&y.slideTo(_)}}},y._slideTo=function(e,t){return y.slideTo(e,t,!0,!0)},y.slideTo=function(e,t,n,i){"undefined"==typeof n&&(n=!0),"undefined"==typeof e&&(e=0),0>e&&(e=0),y.snapIndex=Math.floor(e/y.params.slidesPerGroup),y.snapIndex>=y.snapGrid.length&&(y.snapIndex=y.snapGrid.length-1);var r=-y.snapGrid[y.snapIndex];y.params.autoplay&&y.autoplaying&&(i||!y.params.autoplayDisableOnInteraction?y.pauseAutoplay(t):y.stopAutoplay()),y.updateProgress(r);for(var a=0;a<y.slidesGrid.length;a++)-Math.floor(100*r)>=Math.floor(100*y.slidesGrid[a])&&(e=a);return!y.params.allowSwipeToNext&&r<y.translate&&r<y.minTranslate()?!1:!y.params.allowSwipeToPrev&&r>y.translate&&r>y.maxTranslate()&&(y.activeIndex||0)!==e?!1:("undefined"==typeof t&&(t=y.params.speed),y.previousIndex=y.activeIndex||0,y.activeIndex=e,y.rtl&&-r===y.translate||!y.rtl&&r===y.translate?(y.params.autoHeight&&y.updateAutoHeight(),y.updateClasses(),"slide"!==y.params.effect&&y.setWrapperTranslate(r),!1):(y.updateClasses(),y.onTransitionStart(n),0===t?(y.setWrapperTranslate(r),y.setWrapperTransition(0),y.onTransitionEnd(n)):(y.setWrapperTranslate(r),y.setWrapperTransition(t),y.animating||(y.animating=!0,y.wrapper.transitionEnd(function(){y&&y.onTransitionEnd(n)}))),!0))},y.onTransitionStart=function(e){"undefined"==typeof e&&(e=!0),y.params.autoHeight&&y.updateAutoHeight(),y.lazy&&y.lazy.onTransitionStart(),e&&(y.emit("onTransitionStart",y),y.activeIndex!==y.previousIndex&&(y.emit("onSlideChangeStart",y),y.activeIndex>y.previousIndex?y.emit("onSlideNextStart",y):y.emit("onSlidePrevStart",y)))},y.onTransitionEnd=function(e){y.animating=!1,y.setWrapperTransition(0),"undefined"==typeof e&&(e=!0),y.lazy&&y.lazy.onTransitionEnd(),e&&(y.emit("onTransitionEnd",y),y.activeIndex!==y.previousIndex&&(y.emit("onSlideChangeEnd",y),y.activeIndex>y.previousIndex?y.emit("onSlideNextEnd",y):y.emit("onSlidePrevEnd",y))),y.params.hashnav&&y.hashnav&&y.hashnav.setHash()},y.slideNext=function(e,t,n){return y.params.loop?y.animating?!1:(y.fixLoop(),y.container[0].clientLeft,y.slideTo(y.activeIndex+y.params.slidesPerGroup,t,e,n)):y.slideTo(y.activeIndex+y.params.slidesPerGroup,t,e,n)},y._slideNext=function(e){return y.slideNext(!0,e,!0)},y.slidePrev=function(e,t,n){return y.params.loop?y.animating?!1:(y.fixLoop(),y.container[0].clientLeft,y.slideTo(y.activeIndex-1,t,e,n)):y.slideTo(y.activeIndex-1,t,e,n)},y._slidePrev=function(e){return y.slidePrev(!0,e,!0)},y.slideReset=function(e,t){return y.slideTo(y.activeIndex,t,e)},y.setWrapperTransition=function(e,t){y.wrapper.transition(e),"slide"!==y.params.effect&&y.effects[y.params.effect]&&y.effects[y.params.effect].setTransition(e),y.params.parallax&&y.parallax&&y.parallax.setTransition(e),y.params.scrollbar&&y.scrollbar&&y.scrollbar.setTransition(e),y.params.control&&y.controller&&y.controller.setTransition(e,t),y.emit("onSetTransition",y,e)},y.setWrapperTranslate=function(e,t,n){var i=0,r=0,a=0;s()?i=y.rtl?-e:e:r=e,y.params.roundLengths&&(i=l(i),r=l(r)),y.params.virtualTranslate||y.wrapper.transform(y.support.transforms3d?"translate3d("+i+"px, "+r+"px, "+a+"px)":"translate("+i+"px, "+r+"px)"),y.translate=s()?i:r;var o,c=y.maxTranslate()-y.minTranslate();o=0===c?0:(e-y.minTranslate())/c,o!==y.progress&&y.updateProgress(e),t&&y.updateActiveIndex(),"slide"!==y.params.effect&&y.effects[y.params.effect]&&y.effects[y.params.effect].setTranslate(y.translate),y.params.parallax&&y.parallax&&y.parallax.setTranslate(y.translate),y.params.scrollbar&&y.scrollbar&&y.scrollbar.setTranslate(y.translate),y.params.control&&y.controller&&y.controller.setTranslate(y.translate,n),y.emit("onSetTranslate",y,y.translate)},y.getTranslate=function(e,t){var n,i,r,a;return"undefined"==typeof t&&(t="x"),y.params.virtualTranslate?y.rtl?-y.translate:y.translate:(r=window.getComputedStyle(e,null),window.WebKitCSSMatrix?(i=r.transform||r.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),a=new window.WebKitCSSMatrix("none"===i?"":i)):(a=r.MozTransform||r.OTransform||r.MsTransform||r.msTransform||r.transform||r.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=a.toString().split(",")),"x"===t&&(i=window.WebKitCSSMatrix?a.m41:parseFloat(16===n.length?n[12]:n[4])),"y"===t&&(i=window.WebKitCSSMatrix?a.m42:parseFloat(16===n.length?n[13]:n[5])),y.rtl&&i&&(i=-i),i||0)},y.getWrapperTranslate=function(e){return"undefined"==typeof e&&(e=s()?"x":"y"),y.getTranslate(y.wrapper[0],e)},y.observers=[],y.initObservers=function(){if(y.params.observeParents)for(var e=y.container.parents(),t=0;t<e.length;t++)u(e[t]);u(y.container[0],{childList:!1}),u(y.wrapper[0],{attributes:!1})},y.disconnectObservers=function(){for(var e=0;e<y.observers.length;e++)y.observers[e].disconnect();y.observers=[]},y.createLoop=function(){var e=y.wrapper.children("."+y.params.slideClass+"."+y.params.slideDuplicateClass);angular.element(e).remove();var n=y.wrapper.children("."+y.params.slideClass);"auto"!==y.params.slidesPerView||y.params.loopedSlides||(y.params.loopedSlides=n.length),y.loopedSlides=parseInt(y.params.loopedSlides||y.params.slidesPerView,10),y.loopedSlides=y.loopedSlides+y.params.loopAdditionalSlides,y.loopedSlides>n.length&&(y.loopedSlides=n.length);var i,r,a,s=[],l=[];for(n.each(function(e,i){var r=t(this);e<y.loopedSlides&&l.push(i),e<n.length&&e>=n.length-y.loopedSlides&&s.push(i),r.attr("data-swiper-slide-index",e)}),i=0;i<l.length;i++)a=angular.element(l[i]).clone().addClass(y.params.slideDuplicateClass),a.removeAttr("ng-transclude"),a.removeAttr("ng-repeat"),r=angular.element(l[i]).scope(),a=o(a)(r),angular.element(y.wrapper).append(a);for(i=s.length-1;i>=0;i--)a=angular.element(s[i]).clone().addClass(y.params.slideDuplicateClass),a.removeAttr("ng-transclude"),a.removeAttr("ng-repeat"),r=angular.element(s[i]).scope(),a=o(a)(r),angular.element(y.wrapper).prepend(a)},y.destroyLoop=function(){y.wrapper.children("."+y.params.slideClass+"."+y.params.slideDuplicateClass).remove(),y.slides.removeAttr("data-swiper-slide-index")},y.fixLoop=function(){var e;y.activeIndex<y.loopedSlides?(e=y.slides.length-3*y.loopedSlides+y.activeIndex,e+=y.loopedSlides,y.slideTo(e,0,!1,!0)):("auto"===y.params.slidesPerView&&y.activeIndex>=2*y.loopedSlides||y.activeIndex>y.slides.length-2*y.params.slidesPerView)&&(e=-y.slides.length+y.activeIndex+y.loopedSlides,e+=y.loopedSlides,y.slideTo(e,0,!1,!0))},y.appendSlide=function(e){if(y.params.loop&&y.destroyLoop(),"object"==typeof e&&e.length)for(var t=0;t<e.length;t++)e[t]&&y.wrapper.append(e[t]);else y.wrapper.append(e);y.params.loop&&y.createLoop(),y.params.observer&&y.support.observer||y.update(!0)},y.prependSlide=function(e){y.params.loop&&y.destroyLoop();var t=y.activeIndex+1;if("object"==typeof e&&e.length){for(var n=0;n<e.length;n++)e[n]&&y.wrapper.prepend(e[n]);t=y.activeIndex+e.length}else y.wrapper.prepend(e);y.params.loop&&y.createLoop(),y.params.observer&&y.support.observer||y.update(!0),y.slideTo(t,0,!1)},y.removeSlide=function(e){y.params.loop&&(y.destroyLoop(),y.slides=y.wrapper.children("."+y.params.slideClass));var t,n=y.activeIndex;if("object"==typeof e&&e.length){for(var i=0;i<e.length;i++)t=e[i],y.slides[t]&&y.slides.eq(t).remove(),n>t&&n--;n=Math.max(n,0)}else t=e,y.slides[t]&&y.slides.eq(t).remove(),n>t&&n--,n=Math.max(n,0);y.params.loop&&y.createLoop(),y.params.observer&&y.support.observer||y.update(!0),y.params.loop?y.slideTo(n+y.loopedSlides,0,!1):y.slideTo(n,0,!1)},y.removeAllSlides=function(){for(var e=[],t=0;t<y.slides.length;t++)e.push(t);y.removeSlide(e)},y.effects={fade:{setTranslate:function(){for(var e=0;e<y.slides.length;e++){var t=y.slides.eq(e),n=t[0].swiperSlideOffset,i=-n;y.params.virtualTranslate||(i-=y.translate);var r=0;s()||(r=i,i=0);var a=y.params.fade.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);t.css({opacity:a}).transform("translate3d("+i+"px, "+r+"px, 0px)")}},setTransition:function(e){if(y.slides.transition(e),y.params.virtualTranslate&&0!==e){var t=!1;y.slides.transitionEnd(function(){if(!t&&y){t=!0,y.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n=0;n<e.length;n++)y.wrapper.trigger(e[n])}})}}},cube:{setTranslate:function(){var e,n=0;y.params.cube.shadow&&(s()?(e=y.wrapper.find(".swiper-cube-shadow"),0===e.length&&(e=t('<div class="swiper-cube-shadow"></div>'),y.wrapper.append(e)),e.css({height:y.width+"px"})):(e=y.container.find(".swiper-cube-shadow"),0===e.length&&(e=t('<div class="swiper-cube-shadow"></div>'),y.container.append(e))));for(var i=0;i<y.slides.length;i++){var r=y.slides.eq(i),a=90*i,o=Math.floor(a/360);y.rtl&&(a=-a,o=Math.floor(-a/360));var l=Math.max(Math.min(r[0].progress,1),-1),c=0,d=0,u=0;i%4===0?(c=4*-o*y.size,u=0):(i-1)%4===0?(c=0,u=4*-o*y.size):(i-2)%4===0?(c=y.size+4*o*y.size,u=y.size):(i-3)%4===0&&(c=-y.size,u=3*y.size+4*y.size*o),y.rtl&&(c=-c),s()||(d=c,c=0);var p="rotateX("+(s()?0:-a)+"deg) rotateY("+(s()?a:0)+"deg) translate3d("+c+"px, "+d+"px, "+u+"px)";if(1>=l&&l>-1&&(n=90*i+90*l,y.rtl&&(n=90*-i-90*l)),r.transform(p),y.params.cube.slideShadows){var h=r.find(s()?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),f=r.find(s()?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===h.length&&(h=t('<div class="swiper-slide-shadow-'+(s()?"left":"top")+'"></div>'),r.append(h)),0===f.length&&(f=t('<div class="swiper-slide-shadow-'+(s()?"right":"bottom")+'"></div>'),r.append(f)),r[0].progress,h.length&&(h[0].style.opacity=-r[0].progress),f.length&&(f[0].style.opacity=r[0].progress)}}if(y.wrapper.css({"-webkit-transform-origin":"50% 50% -"+y.size/2+"px","-moz-transform-origin":"50% 50% -"+y.size/2+"px","-ms-transform-origin":"50% 50% -"+y.size/2+"px","transform-origin":"50% 50% -"+y.size/2+"px"}),y.params.cube.shadow)if(s())e.transform("translate3d(0px, "+(y.width/2+y.params.cube.shadowOffset)+"px, "+-y.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+y.params.cube.shadowScale+")");else{var m=Math.abs(n)-90*Math.floor(Math.abs(n)/90),g=1.5-(Math.sin(2*m*Math.PI/360)/2+Math.cos(2*m*Math.PI/360)/2),v=y.params.cube.shadowScale,_=y.params.cube.shadowScale/g,w=y.params.cube.shadowOffset;e.transform("scale3d("+v+", 1, "+_+") translate3d(0px, "+(y.height/2+w)+"px, "+-y.height/2/_+"px) rotateX(-90deg)")}var T=y.isSafari||y.isUiWebView?-y.size/2:0;y.wrapper.transform("translate3d(0px,0,"+T+"px) rotateX("+(s()?0:n)+"deg) rotateY("+(s()?-n:0)+"deg)")},setTransition:function(e){y.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),y.params.cube.shadow&&!s()&&y.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var e=y.translate,n=s()?-e+y.width/2:-e+y.height/2,i=s()?y.params.coverflow.rotate:-y.params.coverflow.rotate,r=y.params.coverflow.depth,a=0,o=y.slides.length;o>a;a++){var l=y.slides.eq(a),c=y.slidesSizesGrid[a],d=l[0].swiperSlideOffset,u=(n-d-c/2)/c*y.params.coverflow.modifier,p=s()?i*u:0,h=s()?0:i*u,f=-r*Math.abs(u),m=s()?0:y.params.coverflow.stretch*u,g=s()?y.params.coverflow.stretch*u:0;Math.abs(g)<.001&&(g=0),Math.abs(m)<.001&&(m=0),Math.abs(f)<.001&&(f=0),Math.abs(p)<.001&&(p=0),Math.abs(h)<.001&&(h=0);var v="translate3d("+g+"px,"+m+"px,"+f+"px)  rotateX("+h+"deg) rotateY("+p+"deg)";if(l.transform(v),l[0].style.zIndex=-Math.abs(Math.round(u))+1,y.params.coverflow.slideShadows){var _=l.find(s()?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),w=l.find(s()?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===_.length&&(_=t('<div class="swiper-slide-shadow-'+(s()?"left":"top")+'"></div>'),l.append(_)),0===w.length&&(w=t('<div class="swiper-slide-shadow-'+(s()?"right":"bottom")+'"></div>'),l.append(w)),_.length&&(_[0].style.opacity=u>0?u:0),w.length&&(w[0].style.opacity=-u>0?-u:0)}}if(y.browser.ie){var T=y.wrapper[0].style;T.perspectiveOrigin=n+"px 50%"}},setTransition:function(e){y.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},y.lazy={initialImageLoaded:!1,loadImageInSlide:function(e,n){if("undefined"!=typeof e&&("undefined"==typeof n&&(n=!0),0!==y.slides.length)){var i=y.slides.eq(e),r=i.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!i.hasClass("swiper-lazy")||i.hasClass("swiper-lazy-loaded")||i.hasClass("swiper-lazy-loading")||(r=r.add(i[0])),0!==r.length&&r.each(function(){var e=t(this);e.addClass("swiper-lazy-loading");var r=e.attr("data-background"),a=e.attr("data-src"),o=e.attr("data-srcset");y.loadImage(e[0],a||r,o,!1,function(){if(r?(e.css("background-image","url("+r+")"),e.removeAttr("data-background")):(o&&(e.attr("srcset",o),e.removeAttr("data-srcset")),a&&(e.attr("src",a),e.removeAttr("data-src"))),e.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),i.find(".swiper-lazy-preloader, .preloader").remove(),y.params.loop&&n){var t=i.attr("data-swiper-slide-index");if(i.hasClass(y.params.slideDuplicateClass)){var s=y.wrapper.children('[data-swiper-slide-index="'+t+'"]:not(.'+y.params.slideDuplicateClass+")");y.lazy.loadImageInSlide(s.index(),!1)}else{var l=y.wrapper.children("."+y.params.slideDuplicateClass+'[data-swiper-slide-index="'+t+'"]');y.lazy.loadImageInSlide(l.index(),!1)}}y.emit("onLazyImageReady",y,i[0],e[0])}),y.emit("onLazyImageLoad",y,i[0],e[0])})}},load:function(){var e;if(y.params.watchSlidesVisibility)y.wrapper.children("."+y.params.slideVisibleClass).each(function(){y.lazy.loadImageInSlide(t(this).index())});else if(y.params.slidesPerView>1)for(e=y.activeIndex;e<y.activeIndex+y.params.slidesPerView;e++)y.slides[e]&&y.lazy.loadImageInSlide(e);else y.lazy.loadImageInSlide(y.activeIndex);if(y.params.lazyLoadingInPrevNext)if(y.params.slidesPerView>1){for(e=y.activeIndex+y.params.slidesPerView;e<y.activeIndex+y.params.slidesPerView+y.params.slidesPerView;e++)y.slides[e]&&y.lazy.loadImageInSlide(e);for(e=y.activeIndex-y.params.slidesPerView;e<y.activeIndex;e++)y.slides[e]&&y.lazy.loadImageInSlide(e)}else{var n=y.wrapper.children("."+y.params.slideNextClass);n.length>0&&y.lazy.loadImageInSlide(n.index());var i=y.wrapper.children("."+y.params.slidePrevClass);i.length>0&&y.lazy.loadImageInSlide(i.index())}},onTransitionStart:function(){y.params.lazyLoading&&(y.params.lazyLoadingOnTransitionStart||!y.params.lazyLoadingOnTransitionStart&&!y.lazy.initialImageLoaded)&&y.lazy.load()},onTransitionEnd:function(){y.params.lazyLoading&&!y.params.lazyLoadingOnTransitionStart&&y.lazy.load()}},y.scrollbar={isTouched:!1,setDragPosition:function(e){var t=y.scrollbar,n=s()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY,i=n-t.track.offset()[s()?"left":"top"]-t.dragSize/2,r=-y.minTranslate()*t.moveDivider,a=-y.maxTranslate()*t.moveDivider;r>i?i=r:i>a&&(i=a),i=-i/t.moveDivider,y.updateProgress(i),y.setWrapperTranslate(i,!0)},dragStart:function(e){var t=y.scrollbar;t.isTouched=!0,e.preventDefault(),e.stopPropagation(),t.setDragPosition(e),clearTimeout(t.dragTimeout),t.track.transition(0),y.params.scrollbarHide&&t.track.css("opacity",1),y.wrapper.transition(100),t.drag.transition(100),y.emit("onScrollbarDragStart",y)},dragMove:function(e){var t=y.scrollbar;t.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,t.setDragPosition(e),y.wrapper.transition(0),t.track.transition(0),t.drag.transition(0),y.emit("onScrollbarDragMove",y))},dragEnd:function(){var t=y.scrollbar;t.isTouched&&(t.isTouched=!1,y.params.scrollbarHide&&(clearTimeout(t.dragTimeout),t.dragTimeout=setTimeout(function(){t.track.css("opacity",0),t.track.transition(400)},1e3)),y.emit("onScrollbarDragEnd",y),y.params.scrollbarSnapOnRelease&&y.slideReset())},enableDraggable:function(){var e=y.scrollbar,n=y.support.touch?e.track:document;t(e.track).on(y.touchEvents.start,e.dragStart),t(n).on(y.touchEvents.move,e.dragMove),t(n).on(y.touchEvents.end,e.dragEnd)},disableDraggable:function(){var e=y.scrollbar,n=y.support.touch?e.track:document;t(e.track).off(y.touchEvents.start,e.dragStart),t(n).off(y.touchEvents.move,e.dragMove),t(n).off(y.touchEvents.end,e.dragEnd)},set:function(){if(y.params.scrollbar){var e=y.scrollbar;e.track=t(y.params.scrollbar),e.drag=e.track.find(".swiper-scrollbar-drag"),0===e.drag.length&&(e.drag=t('<div class="swiper-scrollbar-drag"></div>'),e.track.append(e.drag)),e.drag[0].style.width="",e.drag[0].style.height="",e.trackSize=s()?e.track[0].offsetWidth:e.track[0].offsetHeight,e.divider=y.size/y.virtualSize,e.moveDivider=e.divider*(e.trackSize/y.size),e.dragSize=e.trackSize*e.divider,s()?e.drag[0].style.width=e.dragSize+"px":e.drag[0].style.height=e.dragSize+"px",e.track[0].style.display=e.divider>=1?"none":"",y.params.scrollbarHide&&(e.track[0].style.opacity=0)}},setTranslate:function(){if(y.params.scrollbar){var e,t=y.scrollbar,n=(y.translate||0,t.dragSize);e=(t.trackSize-t.dragSize)*y.progress,y.rtl&&s()?(e=-e,e>0?(n=t.dragSize-e,e=0):-e+t.dragSize>t.trackSize&&(n=t.trackSize+e)):0>e?(n=t.dragSize+e,e=0):e+t.dragSize>t.trackSize&&(n=t.trackSize-e),s()?(t.drag.transform(y.support.transforms3d?"translate3d("+e+"px, 0, 0)":"translateX("+e+"px)"),t.drag[0].style.width=n+"px"):(t.drag.transform(y.support.transforms3d?"translate3d(0px, "+e+"px, 0)":"translateY("+e+"px)"),t.drag[0].style.height=n+"px"),y.params.scrollbarHide&&(clearTimeout(t.timeout),t.track[0].style.opacity=1,t.timeout=setTimeout(function(){t.track[0].style.opacity=0,t.track.transition(400)},1e3))}},setTransition:function(e){y.params.scrollbar&&y.scrollbar.drag.transition(e)}},y.controller={LinearSpline:function(e,t){this.x=e,this.y=t,this.lastIndex=e.length-1;var n,i;this.x.length,this.interpolate=function(e){return e?(i=r(this.x,e),n=i-1,(e-this.x[n])*(this.y[i]-this.y[n])/(this.x[i]-this.x[n])+this.y[n]):0};var r=function(){var e,t,n;return function(i,r){for(t=-1,e=i.length;e-t>1;)i[n=e+t>>1]<=r?t=n:e=n;return e}}()},getInterpolateFunction:function(e){y.controller.spline||(y.controller.spline=y.params.loop?new y.controller.LinearSpline(y.slidesGrid,e.slidesGrid):new y.controller.LinearSpline(y.snapGrid,e.snapGrid))},setTranslate:function(e,t){function i(t){e=t.rtl&&"horizontal"===t.params.direction?-y.translate:y.translate,"slide"===y.params.controlBy&&(y.controller.getInterpolateFunction(t),a=-y.controller.spline.interpolate(-e)),a&&"container"!==y.params.controlBy||(r=(t.maxTranslate()-t.minTranslate())/(y.maxTranslate()-y.minTranslate()),a=(e-y.minTranslate())*r+t.minTranslate()),y.params.controlInverse&&(a=t.maxTranslate()-a),t.updateProgress(a),t.setWrapperTranslate(a,!1,y),t.updateActiveIndex()}var r,a,o=y.params.control;if(y.isArray(o))for(var s=0;s<o.length;s++)o[s]!==t&&o[s]instanceof n&&i(o[s]);else o instanceof n&&t!==o&&i(o)},setTransition:function(e,t){function i(t){t.setWrapperTransition(e,y),0!==e&&(t.onTransitionStart(),t.wrapper.transitionEnd(function(){a&&(t.params.loop&&"slide"===y.params.controlBy&&t.fixLoop(),t.onTransitionEnd())}))}var r,a=y.params.control;if(y.isArray(a))for(r=0;r<a.length;r++)a[r]!==t&&a[r]instanceof n&&i(a[r]);else a instanceof n&&t!==a&&i(a)}},y.hashnav={init:function(){if(y.params.hashnav){y.hashnav.initialized=!0;var e=document.location.hash.replace("#","");if(e)for(var t=0,n=0,i=y.slides.length;i>n;n++){var r=y.slides.eq(n),a=r.attr("data-hash");
if(a===e&&!r.hasClass(y.params.slideDuplicateClass)){var o=r.index();y.slideTo(o,t,y.params.runCallbacksOnInit,!0)}}}},setHash:function(){y.hashnav.initialized&&y.params.hashnav&&(document.location.hash=y.slides.eq(y.activeIndex).attr("data-hash")||"")}},y.disableKeyboardControl=function(){y.params.keyboardControl=!1,t(document).off("keydown",p)},y.enableKeyboardControl=function(){y.params.keyboardControl=!0,t(document).on("keydown",p)},y.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},y.params.mousewheelControl){try{new window.WheelEvent("wheel"),y.mousewheel.event="wheel"}catch(H){}y.mousewheel.event||void 0===document.onmousewheel||(y.mousewheel.event="mousewheel"),y.mousewheel.event||(y.mousewheel.event="DOMMouseScroll")}y.disableMousewheelControl=function(){return y.mousewheel.event?(y.container.off(y.mousewheel.event,h),!0):!1},y.enableMousewheelControl=function(){return y.mousewheel.event?(y.container.on(y.mousewheel.event,h),!0):!1},y.parallax={setTranslate:function(){y.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){f(this,y.progress)}),y.slides.each(function(){var e=t(this);e.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=Math.min(Math.max(e[0].progress,-1),1);f(this,t)})})},setTransition:function(e){"undefined"==typeof e&&(e=y.params.speed),y.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var n=t(this),i=parseInt(n.attr("data-swiper-parallax-duration"),10)||e;0===e&&(i=0),n.transition(i)})}},y._plugins=[];for(var Y in y.plugins){var X=y.plugins[Y](y,y.params[Y]);X&&y._plugins.push(X)}return y.callPlugins=function(e){for(var t=0;t<y._plugins.length;t++)e in y._plugins[t]&&y._plugins[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},y.emitterEventListeners={},y.emit=function(e){y.params[e]&&y.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var t;if(y.emitterEventListeners[e])for(t=0;t<y.emitterEventListeners[e].length;t++)y.emitterEventListeners[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);y.callPlugins&&y.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},y.on=function(e,t){return e=m(e),y.emitterEventListeners[e]||(y.emitterEventListeners[e]=[]),y.emitterEventListeners[e].push(t),y},y.off=function(e,t){var n;if(e=m(e),"undefined"==typeof t)return y.emitterEventListeners[e]=[],y;if(y.emitterEventListeners[e]&&0!==y.emitterEventListeners[e].length){for(n=0;n<y.emitterEventListeners[e].length;n++)y.emitterEventListeners[e][n]===t&&y.emitterEventListeners[e].splice(n,1);return y}},y.once=function(e,t){e=m(e);var n=function(){t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),y.off(e,n)};return y.on(e,n),y},y.a11y={makeFocusable:function(e){return e.attr("tabIndex","0"),e},addRole:function(e,t){return e.attr("role",t),e},addLabel:function(e,t){return e.attr("aria-label",t),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(e){13===e.keyCode&&(t(e.target).is(y.params.nextButton)?(y.onClickNext(e),y.a11y.notify(y.isEnd?y.params.lastSlideMessage:y.params.nextSlideMessage)):t(e.target).is(y.params.prevButton)&&(y.onClickPrev(e),y.a11y.notify(y.isBeginning?y.params.firstSlideMessage:y.params.prevSlideMessage)),t(e.target).is("."+y.params.bulletClass)&&t(e.target)[0].click())},liveRegion:t('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var t=y.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},init:function(){if(y.params.nextButton){var e=t(y.params.nextButton);y.a11y.makeFocusable(e),y.a11y.addRole(e,"button"),y.a11y.addLabel(e,y.params.nextSlideMessage)}if(y.params.prevButton){var n=t(y.params.prevButton);y.a11y.makeFocusable(n),y.a11y.addRole(n,"button"),y.a11y.addLabel(n,y.params.prevSlideMessage)}t(y.container).append(y.a11y.liveRegion)},initPagination:function(){y.params.pagination&&y.params.paginationClickable&&y.bullets&&y.bullets.length&&y.bullets.each(function(){var e=t(this);y.a11y.makeFocusable(e),y.a11y.addRole(e,"button"),y.a11y.addLabel(e,y.params.paginationBulletMessage.replace(/{{index}}/,e.index()+1))})},destroy:function(){y.a11y.liveRegion&&y.a11y.liveRegion.length>0&&y.a11y.liveRegion.remove()}},y.init=function(){y.params.loop&&y.createLoop(),y.updateContainerSize(),y.updateSlidesSize(),y.updatePagination(),y.params.scrollbar&&y.scrollbar&&(y.scrollbar.set(),y.params.scrollbarDraggable&&y.scrollbar.enableDraggable()),"slide"!==y.params.effect&&y.effects[y.params.effect]&&(y.params.loop||y.updateProgress(),y.effects[y.params.effect].setTranslate()),y.params.loop?y.slideTo(y.params.initialSlide+y.loopedSlides,0,y.params.runCallbacksOnInit):(y.slideTo(y.params.initialSlide,0,y.params.runCallbacksOnInit),0===y.params.initialSlide&&(y.parallax&&y.params.parallax&&y.parallax.setTranslate(),y.lazy&&y.params.lazyLoading&&(y.lazy.load(),y.lazy.initialImageLoaded=!0))),y.attachEvents(),y.params.observer&&y.support.observer&&y.initObservers(),y.params.preloadImages&&!y.params.lazyLoading&&y.preloadImages(),y.params.autoplay&&y.startAutoplay(),y.params.keyboardControl&&y.enableKeyboardControl&&y.enableKeyboardControl(),y.params.mousewheelControl&&y.enableMousewheelControl&&y.enableMousewheelControl(),y.params.hashnav&&y.hashnav&&y.hashnav.init(),y.params.a11y&&y.a11y&&y.a11y.init(),y.emit("onInit",y)},y.cleanupStyles=function(){y.container.removeClass(y.classNames.join(" ")).removeAttr("style"),y.wrapper.removeAttr("style"),y.slides&&y.slides.length&&y.slides.removeClass([y.params.slideVisibleClass,y.params.slideActiveClass,y.params.slideNextClass,y.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),y.paginationContainer&&y.paginationContainer.length&&y.paginationContainer.removeClass(y.params.paginationHiddenClass),y.bullets&&y.bullets.length&&y.bullets.removeClass(y.params.bulletActiveClass),y.params.prevButton&&t(y.params.prevButton).removeClass(y.params.buttonDisabledClass),y.params.nextButton&&t(y.params.nextButton).removeClass(y.params.buttonDisabledClass),y.params.scrollbar&&y.scrollbar&&(y.scrollbar.track&&y.scrollbar.track.length&&y.scrollbar.track.removeAttr("style"),y.scrollbar.drag&&y.scrollbar.drag.length&&y.scrollbar.drag.removeAttr("style"))},y.destroy=function(e,t){y.detachEvents(),y.stopAutoplay(),y.params.scrollbar&&y.scrollbar&&y.params.scrollbarDraggable&&y.scrollbar.disableDraggable(),y.params.loop&&y.destroyLoop(),t&&y.cleanupStyles(),y.disconnectObservers(),y.params.keyboardControl&&y.disableKeyboardControl&&y.disableKeyboardControl(),y.params.mousewheelControl&&y.disableMousewheelControl&&y.disableMousewheelControl(),y.params.a11y&&y.a11y&&y.a11y.destroy(),y.emit("onDestroy"),e!==!1&&(y=null)},y.init(),y}};n.prototype={isSafari:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var e=navigator.userAgent,t=e.match(/(Android);?[\s\/]+([\d.]+)?/),n=e.match(/(iPad).*OS\s([\d_]+)/),i=e.match(/(iPod)(.*OS\s([\d_]+))?/),r=!n&&e.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:n||r||i,android:t}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){for(var e=document.createElement("div").style,t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),n=0;n<t.length;n++)if(t[n]in e)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}};for(var i=(function(){var e=function(e){var t=this,n=0;for(n=0;n<e.length;n++)t[n]=e[n];return t.length=e.length,this},t=function(t,n){var i=[],r=0;if(t&&!n&&t instanceof e)return t;if(t)if("string"==typeof t){var a,o,s=t.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){var l="div";for(0===s.indexOf("<li")&&(l="ul"),0===s.indexOf("<tr")&&(l="tbody"),(0===s.indexOf("<td")||0===s.indexOf("<th"))&&(l="tr"),0===s.indexOf("<tbody")&&(l="table"),0===s.indexOf("<option")&&(l="select"),o=document.createElement(l),o.innerHTML=t,r=0;r<o.childNodes.length;r++)i.push(o.childNodes[r])}else for(a=n||"#"!==t[0]||t.match(/[ .<>:~]/)?(n||document).querySelectorAll(t):[document.getElementById(t.split("#")[1])],r=0;r<a.length;r++)a[r]&&i.push(a[r])}else if(t.nodeType||t===window||t===document)i.push(t);else if(t.length>0&&t[0].nodeType)for(r=0;r<t.length;r++)i.push(t[r]);return new e(i)};return e.prototype={addClass:function(e){if("undefined"==typeof e)return this;for(var t=e.split(" "),n=0;n<t.length;n++)for(var i=0;i<this.length;i++)this[i].classList.add(t[n]);return this},removeClass:function(e){for(var t=e.split(" "),n=0;n<t.length;n++)for(var i=0;i<this.length;i++)this[i].classList.remove(t[n]);return this},hasClass:function(e){return this[0]?this[0].classList.contains(e):!1},toggleClass:function(e){for(var t=e.split(" "),n=0;n<t.length;n++)for(var i=0;i<this.length;i++)this[i].classList.toggle(t[n]);return this},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var n=0;n<this.length;n++)if(2===arguments.length)this[n].setAttribute(e,t);else for(var i in e)this[n][i]=e[i],this[n].setAttribute(i,e[i]);return this},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e);return this},data:function(e,t){if("undefined"==typeof t){if(this[0]){var n=this[0].getAttribute("data-"+e);return n?n:this[0].dom7ElementDataStorage&&e in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[e]:void 0}return void 0}for(var i=0;i<this.length;i++){var r=this[i];r.dom7ElementDataStorage||(r.dom7ElementDataStorage={}),r.dom7ElementDataStorage[e]=t}return this},transform:function(e){for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e}return this},on:function(e,n,i,r){function a(e){var r=e.target;if(t(r).is(n))i.call(r,e);else for(var a=t(r).parents(),o=0;o<a.length;o++)t(a[o]).is(n)&&i.call(a[o],e)}var o,s,l=e.split(" ");for(o=0;o<this.length;o++)if("function"==typeof n||n===!1)for("function"==typeof n&&(i=arguments[1],r=arguments[2]||!1),s=0;s<l.length;s++)this[o].addEventListener(l[s],i,r);else for(s=0;s<l.length;s++)this[o].dom7LiveListeners||(this[o].dom7LiveListeners=[]),this[o].dom7LiveListeners.push({listener:i,liveListener:a}),this[o].addEventListener(l[s],a,r);return this},off:function(e,t,n,i){for(var r=e.split(" "),a=0;a<r.length;a++)for(var o=0;o<this.length;o++)if("function"==typeof t||t===!1)"function"==typeof t&&(n=arguments[1],i=arguments[2]||!1),this[o].removeEventListener(r[a],n,i);else if(this[o].dom7LiveListeners)for(var s=0;s<this[o].dom7LiveListeners.length;s++)this[o].dom7LiveListeners[s].listener===n&&this[o].removeEventListener(r[a],this[o].dom7LiveListeners[s].liveListener,i);return this},once:function(e,t,n,i){function r(o){n(o),a.off(e,t,r,i)}var a=this;"function"==typeof t&&(t=!1,n=arguments[1],i=arguments[2]),a.on(e,t,r,i)},trigger:function(e,t){for(var n=0;n<this.length;n++){var i;try{i=new window.CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0})}catch(r){i=document.createEvent("Event"),i.initEvent(e,!0,!0),i.detail=t}this[n].dispatchEvent(i)}return this},transitionEnd:function(e){function t(a){if(a.target===this)for(e.call(this,a),n=0;n<i.length;n++)r.off(i[n],t)}var n,i=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],r=this;if(e)for(n=0;n<i.length;n++)r.on(i[n],t);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(e){return this.length>0?e?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var e=this[0],t=e.getBoundingClientRect(),n=document.body,i=e.clientTop||n.clientTop||0,r=e.clientLeft||n.clientLeft||0,a=window.pageYOffset||e.scrollTop,o=window.pageXOffset||e.scrollLeft;return{top:t.top+a-i,left:t.left+o-r}}return null},css:function(e,t){var n;if(1===arguments.length){if("string"!=typeof e){for(n=0;n<this.length;n++)for(var i in e)this[n].style[i]=e[i];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(n=0;n<this.length;n++)this[n].style[e]=t;return this}return this},each:function(e){for(var t=0;t<this.length;t++)e.call(this[t],t,this[t]);return this},html:function(e){if("undefined"==typeof e)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},is:function(n){if(!this[0])return!1;var i,r;if("string"==typeof n){var a=this[0];if(a===document)return n===document;if(a===window)return n===window;if(a.matches)return a.matches(n);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(n);if(a.mozMatchesSelector)return a.mozMatchesSelector(n);if(a.msMatchesSelector)return a.msMatchesSelector(n);for(i=t(n),r=0;r<i.length;r++)if(i[r]===this[0])return!0;return!1}if(n===document)return this[0]===document;if(n===window)return this[0]===window;if(n.nodeType||n instanceof e){for(i=n.nodeType?[n]:n,r=0;r<i.length;r++)if(i[r]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var e=this[0],t=0;null!==(e=e.previousSibling);)1===e.nodeType&&t++;return t}return void 0},eq:function(t){if("undefined"==typeof t)return this;var n,i=this.length;return t>i-1?new e([]):0>t?(n=i+t,new e(0>n?[]:[this[n]])):new e([this[t]])},append:function(t){var n,i;for(n=0;n<this.length;n++)if("string"==typeof t){var r=document.createElement("div");for(r.innerHTML=t;r.firstChild;)this[n].appendChild(r.firstChild)}else if(t instanceof e)for(i=0;i<t.length;i++)this[n].appendChild(t[i]);else this[n].appendChild(t);return this},prepend:function(t){var n,i;for(n=0;n<this.length;n++)if("string"==typeof t){var r=document.createElement("div");for(r.innerHTML=t,i=r.childNodes.length-1;i>=0;i--)this[n].insertBefore(r.childNodes[i],this[n].childNodes[0])}else if(t instanceof e)for(i=0;i<t.length;i++)this[n].insertBefore(t[i],this[n].childNodes[0]);else this[n].insertBefore(t,this[n].childNodes[0]);return this},insertBefore:function(e){for(var n=t(e),i=0;i<this.length;i++)if(1===n.length)n[0].parentNode.insertBefore(this[i],n[0]);else if(n.length>1)for(var r=0;r<n.length;r++)n[r].parentNode.insertBefore(this[i].cloneNode(!0),n[r])},insertAfter:function(e){for(var n=t(e),i=0;i<this.length;i++)if(1===n.length)n[0].parentNode.insertBefore(this[i],n[0].nextSibling);else if(n.length>1)for(var r=0;r<n.length;r++)n[r].parentNode.insertBefore(this[i].cloneNode(!0),n[r].nextSibling)},next:function(n){return new e(this.length>0?n?this[0].nextElementSibling&&t(this[0].nextElementSibling).is(n)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(n){var i=[],r=this[0];if(!r)return new e([]);for(;r.nextElementSibling;){var a=r.nextElementSibling;n?t(a).is(n)&&i.push(a):i.push(a),r=a}return new e(i)},prev:function(n){return new e(this.length>0?n?this[0].previousElementSibling&&t(this[0].previousElementSibling).is(n)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(n){var i=[],r=this[0];if(!r)return new e([]);for(;r.previousElementSibling;){var a=r.previousElementSibling;n?t(a).is(n)&&i.push(a):i.push(a),r=a}return new e(i)},parent:function(e){for(var n=[],i=0;i<this.length;i++)e?t(this[i].parentNode).is(e)&&n.push(this[i].parentNode):n.push(this[i].parentNode);return t(t.unique(n))},parents:function(e){for(var n=[],i=0;i<this.length;i++)for(var r=this[i].parentNode;r;)e?t(r).is(e)&&n.push(r):n.push(r),r=r.parentNode;return t(t.unique(n))},find:function(t){for(var n=[],i=0;i<this.length;i++)for(var r=this[i].querySelectorAll(t),a=0;a<r.length;a++)n.push(r[a]);return new e(n)},children:function(n){for(var i=[],r=0;r<this.length;r++)for(var a=this[r].childNodes,o=0;o<a.length;o++)n?1===a[o].nodeType&&t(a[o]).is(n)&&i.push(a[o]):1===a[o].nodeType&&i.push(a[o]);return new e(t.unique(i))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,n,i=this;for(e=0;e<arguments.length;e++){var r=t(arguments[e]);for(n=0;n<r.length;n++)i[i.length]=r[n],i.length++}return i}},t.fn=e.prototype,t.unique=function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t},t}()),r=["jQuery","Zepto","Dom7"],a=0;a<r.length;a++)window[r[a]]&&e(window[r[a]]);var o;o="undefined"==typeof i?window.Dom7||window.Zepto||window.jQuery:i,o&&("transitionEnd"in o.fn||(o.fn.transitionEnd=function(e){function t(a){if(a.target===this)for(e.call(this,a),n=0;n<i.length;n++)r.off(i[n],t)}var n,i=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],r=this;if(e)for(n=0;n<i.length;n++)r.on(i[n],t);return this}),"transform"in o.fn||(o.fn.transform=function(e){for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e}return this}),"transition"in o.fn||(o.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e}return this})),ionic.views.Swiper=n}(),function(e){e.views.Toggle=e.views.View.inherit({initialize:function(t){var n=this;this.el=t.el,this.checkbox=t.checkbox,this.track=t.track,this.handle=t.handle,this.openPercent=-1,this.onChange=t.onChange||function(){},this.triggerThreshold=t.triggerThreshold||20,this.dragStartHandler=function(e){n.dragStart(e)},this.dragHandler=function(e){n.drag(e)},this.holdHandler=function(e){n.hold(e)},this.releaseHandler=function(e){n.release(e)},this.dragStartGesture=e.onGesture("dragstart",this.dragStartHandler,this.el),this.dragGesture=e.onGesture("drag",this.dragHandler,this.el),this.dragHoldGesture=e.onGesture("hold",this.holdHandler,this.el),this.dragReleaseGesture=e.onGesture("release",this.releaseHandler,this.el)},destroy:function(){e.offGesture(this.dragStartGesture,"dragstart",this.dragStartGesture),e.offGesture(this.dragGesture,"drag",this.dragGesture),e.offGesture(this.dragHoldGesture,"hold",this.holdHandler),e.offGesture(this.dragReleaseGesture,"release",this.releaseHandler)},tap:function(){"disabled"!==this.el.getAttribute("disabled")&&this.val(!this.checkbox.checked)},dragStart:function(e){this.checkbox.disabled||(this._dragInfo={width:this.el.offsetWidth,left:this.el.offsetLeft,right:this.el.offsetLeft+this.el.offsetWidth,triggerX:this.el.offsetWidth/2,initialState:this.checkbox.checked},e.gesture.srcEvent.preventDefault(),this.hold(e))},drag:function(t){var n=this;this._dragInfo&&(t.gesture.srcEvent.preventDefault(),e.requestAnimationFrame(function(){if(n._dragInfo){var e=t.gesture.touches[0].pageX-n._dragInfo.left,i=n._dragInfo.width-n.triggerThreshold;n._dragInfo.initialState?e<n.triggerThreshold?n.setOpenPercent(0):e>n._dragInfo.triggerX&&n.setOpenPercent(100):e<n._dragInfo.triggerX?n.setOpenPercent(0):e>i&&n.setOpenPercent(100)}}))},endDrag:function(){this._dragInfo=null},hold:function(){this.el.classList.add("dragging")},release:function(e){this.el.classList.remove("dragging"),this.endDrag(e)},setOpenPercent:function(t){if(this.openPercent<0||t<this.openPercent-3||t>this.openPercent+3)if(this.openPercent=t,0===t)this.val(!1);else if(100===t)this.val(!0);else{var n=Math.round(t/100*this.track.offsetWidth-this.handle.offsetWidth);n=1>n?0:n,this.handle.style[e.CSS.TRANSFORM]="translate3d("+n+"px,0,0)"}},val:function(t){return(t===!0||t===!1)&&(""!==this.handle.style[e.CSS.TRANSFORM]&&(this.handle.style[e.CSS.TRANSFORM]=""),this.checkbox.checked=t,this.openPercent=t?100:0,this.onChange&&this.onChange()),this.checkbox.checked}})}(ionic)}(),define("ionic",["angular"],function(global){return function(){var ret;return ret||global.ionic}}(this)),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(a,b,c){function d(a,b){return M(new(M(function(){},{prototype:a})),b)}function e(a){return L(arguments,function(b){b!==a&&L(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function f(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function g(a){if(Object.keys)return Object.keys(a);var c=[];return b.forEach(a,function(a,b){c.push(b)}),c}function h(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;for(d=0>d?Math.ceil(d):Math.floor(d),0>d&&(d+=c);c>d;d++)if(d in a&&a[d]===b)return d;return-1}function i(a,b,c,d){var e,i=f(c,d),j={},k=[];for(var l in i)if(i[l].params&&(e=g(i[l].params),e.length))for(var m in e)h(k,e[m])>=0||(k.push(e[m]),j[e[m]]=a[e[m]]);return M({},j,b)}function j(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function k(a,b){var c={};return L(a,function(a){c[a]=b[a]}),c}function l(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var d in a)-1==h(c,d)&&(b[d]=a[d]);return b}function m(a,b){var c=K(a),d=c?[]:{};return L(a,function(a,e){b(a,e)&&(d[c?d.length:e]=a)}),d}function n(a,b){var c=K(a)?[]:{};return L(a,function(a,d){c[d]=b(a,d)}),c}function o(a,b){var d=1,f=2,i={},j=[],k=i,m=M(a.when(i),{$$promises:i,$$values:i});this.study=function(i){function n(a,c){if(s[c]!==f){if(r.push(c),s[c]===d)throw r.splice(0,h(r,c)),new Error("Cyclic dependency: "+r.join(" -> "));if(s[c]=d,I(a))q.push(c,[function(){return b.get(a)}],j);else{var e=b.annotate(a);L(e,function(a){a!==c&&i.hasOwnProperty(a)&&n(i[a],a)}),q.push(c,a,e)}r.pop(),s[c]=f}}function o(a){return J(a)&&a.then&&a.$$promises}if(!J(i))throw new Error("'invocables' must be an object");var p=g(i||{}),q=[],r=[],s={};return L(i,n),i=r=s=null,function(d,f,g){function h(){--u||(v||e(t,f.$$values),r.$$values=t,r.$$promises=r.$$promises||!0,delete r.$$inheritedValues,n.resolve(t))}function i(a){r.$$failure=a,n.reject(a)}function j(c,e,f){function j(a){l.reject(a),i(a)}function k(){if(!G(r.$$failure))try{l.resolve(b.invoke(e,g,t)),l.promise.then(function(a){t[c]=a,h()},j)}catch(a){j(a)}}var l=a.defer(),m=0;L(f,function(a){s.hasOwnProperty(a)&&!d.hasOwnProperty(a)&&(m++,s[a].then(function(b){t[a]=b,--m||k()},j))}),m||k(),s[c]=l.promise}if(o(d)&&g===c&&(g=f,f=d,d=null),d){if(!J(d))throw new Error("'locals' must be an object")}else d=k;if(f){if(!o(f))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else f=m;var n=a.defer(),r=n.promise,s=r.$$promises={},t=M({},d),u=1+q.length/3,v=!1;if(G(f.$$failure))return i(f.$$failure),r;f.$$inheritedValues&&e(t,l(f.$$inheritedValues,p)),M(s,f.$$promises),f.$$values?(v=e(t,l(f.$$values,p)),r.$$inheritedValues=l(f.$$values,p),h()):(f.$$inheritedValues&&(r.$$inheritedValues=l(f.$$inheritedValues,p)),f.then(h,i));for(var w=0,x=q.length;x>w;w+=3)d.hasOwnProperty(q[w])?h():j(q[w],q[w+1],q[w+2]);return r}},this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}function p(a,b,c){this.fromConfig=function(a,b,c){return G(a.template)?this.fromString(a.template,b):G(a.templateUrl)?this.fromUrl(a.templateUrl,b):G(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return H(a)?a(b):a},this.fromUrl=function(c,d){return H(c)&&(c=c(d)),null==c?null:a.get(c,{cache:b,headers:{Accept:"text/html"}}).then(function(a){return a.data})},this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}function q(a,b,e){function f(b,c,d,e){if(q.push(b),o[b])return o[b];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(p[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");return p[b]=new O.Param(b,c,d,e),p[b]}function g(a,b,c){var d=["",""],e=a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!b)return e;switch(c){case!1:d=["(",")"];break;case!0:d=["?(",")?"];break;default:d=["("+c+"|",")?"]}return e+d[0]+b+d[1]}function h(c,e){var f,g,h,i,j;return f=c[2]||c[3],j=b.params[f],h=a.substring(m,c.index),g=e?c[4]:c[4]||("*"==c[1]?".*":null),i=O.type(g||"string")||d(O.type("string"),{pattern:new RegExp(g)}),{id:f,regexp:g,segment:h,type:i,cfg:j}}b=M({params:{}},J(b)?b:{});var i,j=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,k=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l="^",m=0,n=this.segments=[],o=e?e.params:{},p=this.params=e?e.params.$$new():new O.ParamSet,q=[];this.source=a;for(var r,s,t;(i=j.exec(a))&&(r=h(i,!1),!(r.segment.indexOf("?")>=0));)s=f(r.id,r.type,r.cfg,"path"),l+=g(r.segment,s.type.pattern.source,s.squash),n.push(r.segment),m=j.lastIndex;t=a.substring(m);var u=t.indexOf("?");if(u>=0){var v=this.sourceSearch=t.substring(u);if(t=t.substring(0,u),this.sourcePath=a.substring(0,m+u),v.length>0)for(m=0;i=k.exec(v);)r=h(i,!0),s=f(r.id,r.type,r.cfg,"search"),m=j.lastIndex}else this.sourcePath=a,this.sourceSearch="";l+=g(t)+(b.strict===!1?"/?":"")+"$",n.push(t),this.regexp=new RegExp(l,b.caseInsensitive?"i":c),this.prefix=n[0],this.$$paramNames=q}function r(a){M(this,a)}function s(){function a(a){return null!=a?a.toString().replace(/\//g,"%2F"):a}function e(a){return null!=a?a.toString().replace(/%2F/g,"/"):a}function f(a){return this.pattern.test(a)}function i(){return{strict:t,caseInsensitive:p}}function j(a){return H(a)||K(a)&&H(a[a.length-1])}function k(){for(;x.length;){var a=x.shift();if(a.pattern)throw new Error("You cannot override a type's .pattern at runtime.");b.extend(v[a.name],o.invoke(a.def))}}function l(a){M(this,a||{})}O=this;var o,p=!1,t=!0,u=!1,v={},w=!0,x=[],y={string:{encode:a,decode:e,is:f,pattern:/[^\/]*/},"int":{encode:a,decode:function(a){return parseInt(a,10)},is:function(a){return G(a)&&this.decode(a.toString())===a},pattern:/\d+/},bool:{encode:function(a){return a?1:0},decode:function(a){return 0!==parseInt(a,10)},is:function(a){return a===!0||a===!1},pattern:/0|1/},date:{encode:function(a){return this.is(a)?[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"):c},decode:function(a){if(this.is(a))return a;var b=this.capture.exec(a);return b?new Date(b[1],b[2]-1,b[3]):c},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:b.toJson,decode:b.fromJson,is:b.isObject,equals:b.equals,pattern:/[^\/]*/},any:{encode:b.identity,decode:b.identity,is:b.identity,equals:b.equals,pattern:/.*/}};s.$$getDefaultValue=function(a){if(!j(a.value))return a.value;if(!o)throw new Error("Injectable functions cannot be called at configuration time");return o.invoke(a.value)},this.caseInsensitive=function(a){return G(a)&&(p=a),p},this.strictMode=function(a){return G(a)&&(t=a),t},this.defaultSquashPolicy=function(a){if(!G(a))return u;if(a!==!0&&a!==!1&&!I(a))throw new Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return u=a,a},this.compile=function(a,b){return new q(a,M(i(),b))},this.isMatcher=function(a){if(!J(a))return!1;var b=!0;return L(q.prototype,function(c,d){H(c)&&(b=b&&G(a[d])&&H(a[d]))}),b},this.type=function(a,b,c){if(!G(b))return v[a];if(v.hasOwnProperty(a))throw new Error("A type named '"+a+"' has already been defined.");return v[a]=new r(M({name:a},b)),c&&(x.push({name:a,def:c}),w||k()),this},L(y,function(a,b){v[b]=new r(M({name:b},a))}),v=d(v,{}),this.$get=["$injector",function(a){return o=a,w=!1,k(),L(y,function(a,b){v[b]||(v[b]=new r(a))}),this}],this.Param=function(a,b,d,e){function f(a){var b=J(a)?g(a):[],c=-1===h(b,"value")&&-1===h(b,"type")&&-1===h(b,"squash")&&-1===h(b,"array");return c&&(a={value:a}),a.$$fn=j(a.value)?a.value:function(){return a.value},a}function i(b,c,d){if(b.type&&c)throw new Error("Param '"+a+"' has two type configurations.");return c?c:b.type?b.type instanceof r?b.type:new r(b.type):"config"===d?v.any:v.string}function k(){var b={array:"search"===e?"auto":!1},c=a.match(/\[\]$/)?{array:!0}:{};return M(b,c,d).array}function l(a,b){var c=a.squash;if(!b||c===!1)return!1;if(!G(c)||null==c)return u;if(c===!0||I(c))return c;throw new Error("Invalid squash policy: '"+c+"'. Valid policies: false, true, or arbitrary string")}function p(a,b,d,e){var f,g,i=[{from:"",to:d||b?c:""},{from:null,to:d||b?c:""}];return f=K(a.replace)?a.replace:[],I(e)&&f.push({from:e,to:c}),g=n(f,function(a){return a.from}),m(i,function(a){return-1===h(g,a.from)}).concat(f)}function q(){if(!o)throw new Error("Injectable functions cannot be called at configuration time");return o.invoke(d.$$fn)}function s(a){function b(a){return function(b){return b.from===a}}function c(a){var c=n(m(w.replace,b(a)),function(a){return a.to});return c.length?c[0]:a}return a=c(a),G(a)?w.type.decode(a):q()}function t(){return"{Param:"+a+" "+b+" squash: '"+z+"' optional: "+y+"}"}var w=this;d=f(d),b=i(d,b,e);var x=k();b=x?b.$asArray(x,"search"===e):b,"string"!==b.name||x||"path"!==e||d.value!==c||(d.value="");var y=d.value!==c,z=l(d,y),A=p(d,x,y,z);M(this,{id:a,type:b,location:e,array:x,squash:z,replace:A,isOptional:y,value:s,dynamic:c,config:d,toString:t})},l.prototype={$$new:function(){return d(this,M(new l,{$$parent:this}))},$$keys:function(){for(var a=[],b=[],c=this,d=g(l.prototype);c;)b.push(c),c=c.$$parent;return b.reverse(),L(b,function(b){L(g(b),function(b){-1===h(a,b)&&-1===h(d,b)&&a.push(b)})}),a},$$values:function(a){var b={},c=this;return L(c.$$keys(),function(d){b[d]=c[d].value(a&&a[d])}),b},$$equals:function(a,b){var c=!0,d=this;return L(d.$$keys(),function(e){var f=a&&a[e],g=b&&b[e];d[e].type.equals(f,g)||(c=!1)}),c},$$validates:function(a){var b,c,d,e=!0,f=this;return L(this.$$keys(),function(g){d=f[g],c=a[g],b=!c&&d.isOptional,e=e&&(b||!!d.type.is(c))}),e},$$parent:c},this.ParamSet=l}function t(a,d){function e(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\(.)/g,"$1"):""}function f(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]
})}function g(a,b,c){if(!c)return!1;var d=a.invoke(b,b,{$match:c});return G(d)?d:!0}function h(d,e,f,g){function h(a,b,c){return"/"===p?a:b?p.slice(0,-1)+a:c?p.slice(1)+a:a}function m(a){function b(a){var b=a(f,d);return b?(I(b)&&d.replace().url(b),!0):!1}if(!a||!a.defaultPrevented){var e=o&&d.url()===o;if(o=c,e)return!0;var g,h=j.length;for(g=0;h>g;g++)if(b(j[g]))return;k&&b(k)}}function n(){return i=i||e.$on("$locationChangeSuccess",m)}var o,p=g.baseHref(),q=d.url();return l||n(),{sync:function(){m()},listen:function(){return n()},update:function(a){return a?void(q=d.url()):void(d.url()!==q&&(d.url(q),d.replace()))},push:function(a,b,e){d.url(a.format(b||{})),o=e&&e.$$avoidResync?d.url():c,e&&e.replace&&d.replace()},href:function(c,e,f){if(!c.validates(e))return null;var g=a.html5Mode();b.isObject(g)&&(g=g.enabled);var i=c.format(e);if(f=f||{},g||null===i||(i="#"+a.hashPrefix()+i),i=h(i,g,f.absolute),!f.absolute||!i)return i;var j=!g&&i?"/":"",k=d.port();return k=80===k||443===k?"":":"+k,[d.protocol(),"://",d.host(),k,j,i].join("")}}}var i,j=[],k=null,l=!1;this.rule=function(a){if(!H(a))throw new Error("'rule' must be a function");return j.push(a),this},this.otherwise=function(a){if(I(a)){var b=a;a=function(){return b}}else if(!H(a))throw new Error("'rule' must be a function");return k=a,this},this.when=function(a,b){var c,h=I(b);if(I(a)&&(a=d.compile(a)),!h&&!H(b)&&!K(b))throw new Error("invalid 'handler' in when()");var i={matcher:function(a,b){return h&&(c=d.compile(b),b=["$match",function(a){return c.format(a)}]),M(function(c,d){return g(c,b,a.exec(d.path(),d.search()))},{prefix:I(a.prefix)?a.prefix:""})},regex:function(a,b){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return h&&(c=b,b=["$match",function(a){return f(c,a)}]),M(function(c,d){return g(c,b,a.exec(d.path()))},{prefix:e(a)})}},j={matcher:d.isMatcher(a),regex:a instanceof RegExp};for(var k in j)if(j[k])return this.rule(i[k](a,b));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(a){a===c&&(a=!0),l=a},this.$get=h,h.$inject=["$location","$rootScope","$injector","$browser"]}function u(a,e){function f(a){return 0===a.indexOf(".")||0===a.indexOf("^")}function l(a,b){if(!a)return c;var d=I(a),e=d?a:a.name,g=f(e);if(g){if(!b)throw new Error("No reference point given for path '"+e+"'");b=l(b);for(var h=e.split("."),i=0,j=h.length,k=b;j>i;i++)if(""!==h[i]||0!==i){if("^"!==h[i])break;if(!k.parent)throw new Error("Path '"+e+"' not valid for state '"+b.name+"'");k=k.parent}else k=b;h=h.slice(i).join("."),e=k.name+(k.name&&h?".":"")+h}var m=y[e];return!m||!d&&(d||m!==a&&m.self!==a)?c:m}function m(a,b){z[a]||(z[a]=[]),z[a].push(b)}function o(a){for(var b=z[a]||[];b.length;)p(b.shift())}function p(b){b=d(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!I(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(y.hasOwnProperty(c))throw new Error("State '"+c+"'' is already defined");var e=-1!==c.indexOf(".")?c.substring(0,c.lastIndexOf(".")):I(b.parent)?b.parent:J(b.parent)&&I(b.parent.name)?b.parent.name:"";if(e&&!y[e])return m(e,b.self);for(var f in B)H(B[f])&&(b[f]=B[f](b,B.$delegates[f]));return y[c]=b,!b[A]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){x.$current.navigable==b&&j(a,c)||x.transitionTo(b,a,{inherit:!0,location:!1})}]),o(c),b}function q(a){return a.indexOf("*")>-1}function r(a){var b=a.split("."),c=x.$current.name.split(".");if("**"===b[0]&&(c=c.slice(h(c,b[1])),c.unshift("**")),"**"===b[b.length-1]&&(c.splice(h(c,b[b.length-2])+1,Number.MAX_VALUE),c.push("**")),b.length!=c.length)return!1;for(var d=0,e=b.length;e>d;d++)"*"===b[d]&&(c[d]="*");return c.join("")===b.join("")}function s(a,b){return I(a)&&!G(b)?B[a]:H(b)&&I(a)?(B[a]&&!B.$delegates[a]&&(B.$delegates[a]=B[a]),B[a]=b,this):this}function t(a,b){return J(a)?b=a:b.name=a,p(b),this}function u(a,e,f,h,m,o,p){function s(b,c,d,f){var g=a.$broadcast("$stateNotFound",b,c,d);if(g.defaultPrevented)return p.update(),B;if(!g.retry)return null;if(f.$retry)return p.update(),C;var h=x.transition=e.when(g.retry);return h.then(function(){return h!==x.transition?u:(b.options.$retry=!0,x.transitionTo(b.to,b.toParams,b.options))},function(){return B}),p.update(),h}function t(a,c,d,g,i,j){var l=d?c:k(a.params.$$keys(),c),n={$stateParams:l};i.resolve=m.resolve(a.resolve,n,i.resolve,a);var o=[i.resolve.then(function(a){i.globals=a})];return g&&o.push(g),L(a.views,function(c,d){var e=c.resolve&&c.resolve!==a.resolve?c.resolve:{};e.$template=[function(){return f.load(d,{view:c,locals:n,params:l,notify:j.notify})||""}],o.push(m.resolve(e,n,i.resolve,a).then(function(f){if(H(c.controllerProvider)||K(c.controllerProvider)){var g=b.extend({},e,n);f.$$controller=h.invoke(c.controllerProvider,null,g)}else f.$$controller=c.controller;f.$$state=a,f.$$controllerAs=c.controllerAs,i[d]=f}))}),e.all(o).then(function(){return i})}var u=e.reject(new Error("transition superseded")),z=e.reject(new Error("transition prevented")),B=e.reject(new Error("transition aborted")),C=e.reject(new Error("transition failed"));return w.locals={resolve:null,globals:{$stateParams:{}}},x={params:{},current:w.self,$current:w,transition:null},x.reload=function(){return x.transitionTo(x.current,o,{reload:!0,inherit:!1,notify:!0})},x.go=function(a,b,c){return x.transitionTo(a,b,M({inherit:!0,relative:x.$current},c))},x.transitionTo=function(b,c,f){c=c||{},f=M({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var g,j=x.$current,m=x.params,n=j.path,q=l(b,f.relative);if(!G(q)){var r={to:b,toParams:c,options:f},y=s(r,j.self,m,f);if(y)return y;if(b=r.to,c=r.toParams,f=r.options,q=l(b,f.relative),!G(q)){if(!f.relative)throw new Error("No such state '"+b+"'");throw new Error("Could not resolve '"+b+"' from state '"+f.relative+"'")}}if(q[A])throw new Error("Cannot transition to abstract state '"+b+"'");if(f.inherit&&(c=i(o,c||{},x.$current,q)),!q.params.$$validates(c))return C;c=q.params.$$values(c),b=q;var B=b.path,D=0,E=B[D],F=w.locals,H=[];if(!f.reload)for(;E&&E===n[D]&&E.ownParams.$$equals(c,m);)F=H[D]=E.locals,D++,E=B[D];if(v(b,j,F,f))return b.self.reloadOnSearch!==!1&&p.update(),x.transition=null,e.when(x.current);if(c=k(b.params.$$keys(),c||{}),f.notify&&a.$broadcast("$stateChangeStart",b.self,c,j.self,m).defaultPrevented)return p.update(),z;for(var I=e.when(F),J=D;J<B.length;J++,E=B[J])F=H[J]=d(F),I=t(E,c,E===b,I,F,f);var K=x.transition=I.then(function(){var d,e,g;if(x.transition!==K)return u;for(d=n.length-1;d>=D;d--)g=n[d],g.self.onExit&&h.invoke(g.self.onExit,g.self,g.locals.globals),g.locals=null;for(d=D;d<B.length;d++)e=B[d],e.locals=H[d],e.self.onEnter&&h.invoke(e.self.onEnter,e.self,e.locals.globals);return x.transition!==K?u:(x.$current=b,x.current=b.self,x.params=c,N(x.params,o),x.transition=null,f.location&&b.navigable&&p.push(b.navigable.url,b.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===f.location}),f.notify&&a.$broadcast("$stateChangeSuccess",b.self,c,j.self,m),p.update(!0),x.current)},function(d){return x.transition!==K?u:(x.transition=null,g=a.$broadcast("$stateChangeError",b.self,c,j.self,m,d),g.defaultPrevented||p.update(),e.reject(d))});return K},x.is=function(a,b,d){d=M({relative:x.$current},d||{});var e=l(a,d.relative);return G(e)?x.$current!==e?!1:b?j(e.params.$$values(b),o):!0:c},x.includes=function(a,b,d){if(d=M({relative:x.$current},d||{}),I(a)&&q(a)){if(!r(a))return!1;a=x.$current.name}var e=l(a,d.relative);return G(e)?G(x.$current.includes[e.name])?b?j(e.params.$$values(b),o,g(b)):!0:!1:c},x.href=function(a,b,d){d=M({lossy:!0,inherit:!0,absolute:!1,relative:x.$current},d||{});var e=l(a,d.relative);if(!G(e))return null;d.inherit&&(b=i(o,b||{},x.$current,e));var f=e&&d.lossy?e.navigable:e;return f&&f.url!==c&&null!==f.url?p.href(f.url,k(e.params.$$keys(),b||{}),{absolute:d.absolute}):null},x.get=function(a,b){if(0===arguments.length)return n(g(y),function(a){return y[a].self});var c=l(a,b||x.$current);return c&&c.self?c.self:null},x}function v(a,b,c,d){return a!==b||(c!==b.locals||d.reload)&&a.self.reloadOnSearch!==!1?void 0:!0}var w,x,y={},z={},A="abstract",B={parent:function(a){if(G(a.parent)&&a.parent)return l(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?l(b[1]):w},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=M({},a.parent.data,a.data)),a.data},url:function(a){var b=a.url,c={params:a.params||{}};if(I(b))return"^"==b.charAt(0)?e.compile(b.substring(1),c):(a.parent.navigable||w).url.concat(b,c);if(!b||e.isMatcher(b))return b;throw new Error("Invalid url '"+b+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new O.ParamSet;return L(a.params||{},function(a,c){b[c]||(b[c]=new O.Param(c,null,a,"config"))}),b},params:function(a){return a.parent&&a.parent.params?M(a.parent.params.$$new(),a.ownParams):new O.ParamSet},views:function(a){var b={};return L(G(a.views)?a.views:{"":a},function(c,d){d.indexOf("@")<0&&(d+="@"+a.parent.name),b[d]=c}),b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?M({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};w=p({name:"",url:"^",views:null,"abstract":!0}),w.navigable=null,this.decorator=s,this.state=t,this.$get=u,u.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function v(){function a(a,b){return{load:function(c,d){var e,f={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return d=M(f,d),d.view&&(e=b.fromConfig(d.view,d.params,d.locals)),e&&d.notify&&a.$broadcast("$viewContentLoading",d),e}}}this.$get=a,a.$inject=["$rootScope","$templateFactory"]}function w(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){c(function(){a[0].scrollIntoView()},0,!1)}}]}function x(a,c,d,e){function f(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(b){return null}}}function g(a,b){var c=function(){return{enter:function(a,b,c){b.after(a),c()},leave:function(a,b){a.remove(),b()}}};if(j)return{enter:function(a,b,c){var d=j.enter(a,null,b,c);d&&d.then&&d.then(c)},leave:function(a,b){var c=j.leave(a,b);c&&c.then&&c.then(b)}};if(i){var d=i&&i(b,a);return{enter:function(a,b,c){d.enter(a,null,b),c()},leave:function(a,b){d.leave(a),b()}}}return c()}var h=f(),i=h("$animator"),j=h("$animate"),k={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,f,h){return function(c,f,i){function j(){l&&(l.remove(),l=null),n&&(n.$destroy(),n=null),m&&(r.leave(m,function(){l=null}),l=m,m=null)}function k(g){var k,l=z(c,i,f,e),s=l&&a.$current&&a.$current.locals[l];if(g||s!==o){k=c.$new(),o=a.$current.locals[l];var t=h(k,function(a){r.enter(a,f,function(){n&&n.$emit("$viewContentAnimationEnded"),(b.isDefined(q)&&!q||c.$eval(q))&&d(a)}),j()});m=t,n=k,n.$emit("$viewContentLoaded"),n.$eval(p)}}var l,m,n,o,p=i.onload||"",q=i.autoscroll,r=g(i,c);c.$on("$stateChangeSuccess",function(){k(!1)}),c.$on("$viewContentLoading",function(){k(!1)}),k(!0)}}};return k}function y(a,b,c,d){return{restrict:"ECA",priority:-400,compile:function(e){var f=e.html();return function(e,g,h){var i=c.$current,j=z(e,h,g,d),k=i&&i.locals[j];if(k){g.data("$uiView",{name:j,state:k.$$state}),g.html(k.$template?k.$template:f);var l=a(g.contents());if(k.$$controller){k.$scope=e;var m=b(k.$$controller,k);k.$$controllerAs&&(e[k.$$controllerAs]=m),g.data("$ngControllerController",m),g.children().data("$ngControllerController",m)}l(e)}}}}}function z(a,b,c,d){var e=d(b.uiView||b.name||"")(a),f=c.inheritedData("$uiView");return e.indexOf("@")>=0?e:e+"@"+(f?f.state.name:"")}function A(a,b){var c,d=a.match(/^\s*({[^}]*})\s*$/);if(d&&(a=b+"("+d[1]+")"),c=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!c||4!==c.length)throw new Error("Invalid state ref '"+a+"'");return{state:c[1],paramExpr:c[3]||null}}function B(a){var b=a.parent().inheritedData("$uiView");return b&&b.state&&b.state.name?b.state:void 0}function C(a,c){var d=["location","inherit","reload"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(e,f,g,h){var i=A(g.uiSref,a.current.name),j=null,k=B(f)||a.$current,l=null,m="A"===f.prop("tagName"),n="FORM"===f[0].nodeName,o=n?"action":"href",p=!0,q={relative:k,inherit:!0},r=e.$eval(g.uiSrefOpts)||{};b.forEach(d,function(a){a in r&&(q[a]=r[a])});var s=function(c){if(c&&(j=b.copy(c)),p){l=a.href(i.state,j,q);var d=h[1]||h[0];return d&&d.$$setStateInfo(i.state,j),null===l?(p=!1,!1):void g.$set(o,l)}};i.paramExpr&&(e.$watch(i.paramExpr,function(a){a!==j&&s(a)},!0),j=b.copy(e.$eval(i.paramExpr))),s(),n||f.bind("click",function(b){var d=b.which||b.button;if(!(d>1||b.ctrlKey||b.metaKey||b.shiftKey||f.attr("target"))){var e=c(function(){a.go(i.state,j,q)});b.preventDefault();var g=m&&!l?1:0;b.preventDefault=function(){g--<=0&&c.cancel(e)}}})}}}function D(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs",function(b,d,e){function f(){g()?d.addClass(j):d.removeClass(j)}function g(){return"undefined"!=typeof e.uiSrefActiveEq?h&&a.is(h.name,i):h&&a.includes(h.name,i)}var h,i,j;j=c(e.uiSrefActiveEq||e.uiSrefActive||"",!1)(b),this.$$setStateInfo=function(b,c){h=a.get(b,B(d)),i=c,f()},b.$on("$stateChangeSuccess",f)}]}}function E(a){var b=function(b){return a.is(b)};return b.$stateful=!0,b}function F(a){var b=function(b){return a.includes(b)};return b.$stateful=!0,b}var G=b.isDefined,H=b.isFunction,I=b.isString,J=b.isObject,K=b.isArray,L=b.forEach,M=b.extend,N=b.copy;b.module("ui.router.util",["ng"]),b.module("ui.router.router",["ui.router.util"]),b.module("ui.router.state",["ui.router.router","ui.router.util"]),b.module("ui.router",["ui.router.state"]),b.module("ui.router.compat",["ui.router"]),o.$inject=["$q","$injector"],b.module("ui.router.util").service("$resolve",o),p.$inject=["$http","$templateCache","$injector"],b.module("ui.router.util").service("$templateFactory",p);var O;q.prototype.concat=function(a,b){var c={caseInsensitive:O.caseInsensitive(),strict:O.strictMode(),squash:O.defaultSquashPolicy()};return new q(this.sourcePath+a+this.sourceSearch,M(c,b),this)},q.prototype.toString=function(){return this.source},q.prototype.exec=function(a,b){function c(a){function b(a){return a.split("").reverse().join("")}function c(a){return a.replace(/\\-/,"-")}var d=b(a).split(/-(?!\\)/),e=n(d,b);return n(e,c).reverse()}var d=this.regexp.exec(a);if(!d)return null;b=b||{};var e,f,g,h=this.parameters(),i=h.length,j=this.segments.length-1,k={};if(j!==d.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(e=0;j>e;e++){g=h[e];var l=this.params[g],m=d[e+1];for(f=0;f<l.replace;f++)l.replace[f].from===m&&(m=l.replace[f].to);m&&l.array===!0&&(m=c(m)),k[g]=l.value(m)}for(;i>e;e++)g=h[e],k[g]=this.params[g].value(b[g]);return k},q.prototype.parameters=function(a){return G(a)?this.params[a]||null:this.$$paramNames},q.prototype.validates=function(a){return this.params.$$validates(a)},q.prototype.format=function(a){function b(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})}a=a||{};var c=this.segments,d=this.parameters(),e=this.params;if(!this.validates(a))return null;var f,g=!1,h=c.length-1,i=d.length,j=c[0];for(f=0;i>f;f++){var k=h>f,l=d[f],m=e[l],o=m.value(a[l]),p=m.isOptional&&m.type.equals(m.value(),o),q=p?m.squash:!1,r=m.type.encode(o);if(k){var s=c[f+1];if(q===!1)null!=r&&(j+=K(r)?n(r,b).join("-"):encodeURIComponent(r)),j+=s;else if(q===!0){var t=j.match(/\/$/)?/\/?(.*)/:/(.*)/;j+=s.match(t)[1]}else I(q)&&(j+=q+s)}else{if(null==r||p&&q!==!1)continue;K(r)||(r=[r]),r=n(r,encodeURIComponent).join("&"+l+"="),j+=(g?"&":"?")+(l+"="+r),g=!0}}return j},r.prototype.is=function(){return!0},r.prototype.encode=function(a){return a},r.prototype.decode=function(a){return a},r.prototype.equals=function(a,b){return a==b},r.prototype.$subPattern=function(){var a=this.pattern.toString();return a.substr(1,a.length-2)},r.prototype.pattern=/.*/,r.prototype.toString=function(){return"{Type:"+this.name+"}"},r.prototype.$asArray=function(a,b){function d(a,b){function d(a,b){return function(){return a[b].apply(a,arguments)}}function e(a){return K(a)?a:G(a)?[a]:[]}function f(a){switch(a.length){case 0:return c;case 1:return"auto"===b?a[0]:a;default:return a}}function g(a){return!a}function h(a,b){return function(c){c=e(c);var d=n(c,a);return b===!0?0===m(d,g).length:f(d)}}function i(a){return function(b,c){var d=e(b),f=e(c);if(d.length!==f.length)return!1;for(var g=0;g<d.length;g++)if(!a(d[g],f[g]))return!1;return!0}}this.encode=h(d(a,"encode")),this.decode=h(d(a,"decode")),this.is=h(d(a,"is"),!0),this.equals=i(d(a,"equals")),this.pattern=a.pattern,this.$arrayMode=b}if(!a)return this;if("auto"===a&&!b)throw new Error("'auto' array mode is for query parameters only");return new d(this,a)},b.module("ui.router.util").provider("$urlMatcherFactory",s),b.module("ui.router.util").run(["$urlMatcherFactory",function(){}]),t.$inject=["$locationProvider","$urlMatcherFactoryProvider"],b.module("ui.router.router").provider("$urlRouter",t),u.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],b.module("ui.router.state").value("$stateParams",{}).provider("$state",u),v.$inject=[],b.module("ui.router.state").provider("$view",v),b.module("ui.router.state").provider("$uiViewScroll",w),x.$inject=["$state","$injector","$uiViewScroll","$interpolate"],y.$inject=["$compile","$controller","$state","$interpolate"],b.module("ui.router.state").directive("uiView",x),b.module("ui.router.state").directive("uiView",y),C.$inject=["$state","$timeout"],D.$inject=["$state","$stateParams","$interpolate"],b.module("ui.router.state").directive("uiSref",C).directive("uiSrefActive",D).directive("uiSrefActiveEq",D),E.$inject=["$state"],F.$inject=["$state"],b.module("ui.router.state").filter("isState",E).filter("includedByState",F)}(window,window.angular),define("uiRouter",["angular"],function(){}),define("config",["app","ionic"],function(){return angular.module("app.config",["ionic"]).config(function($ionicConfigProvider){$ionicConfigProvider.templates.maxPrefetch(0),$ionicConfigProvider.views.maxCache(5),$ionicConfigProvider.platform.ios.tabs.style("standard"),$ionicConfigProvider.platform.ios.tabs.position("bottom"),$ionicConfigProvider.platform.android.tabs.style("standard"),$ionicConfigProvider.platform.android.tabs.position("bottom"),$ionicConfigProvider.platform.ios.navBar.alignTitle("center"),$ionicConfigProvider.platform.android.navBar.alignTitle("center"),$ionicConfigProvider.platform.ios.backButton.previousTitleText(" ").icon("ion-ios-arrow-thin-left"),$ionicConfigProvider.platform.android.backButton.previousTitleText(" ").icon("ion-android-arrow-back"),$ionicConfigProvider.platform.ios.views.transition("ios"),$ionicConfigProvider.platform.android.views.transition("android"),$ionicConfigProvider.backButton.previousTitleText(!1),$ionicConfigProvider.scrolling.jsScrolling(!0)})}),define("mainServices",[],function(){"use strict";var service=function($state,$ionicLoading,$http,$q,$ionicPopup){var comm=this;this.showLoading=function(){$ionicLoading.show({animation:"fade-in",showBackdrop:!1,showDelay:0,template:'<ion-spinner class="loading-img" icon="ios"></ion-spinner><p class="loading-text">正在加载...<p>'})},this.hideLoading=function(){$ionicLoading.hide()},this.curState=function(){return $state.current.name.substring(0,$state.current.name.indexOf("."))},this.getRndNum=function(n){for(var rnd="",i=0;n>i;i++)rnd+=Math.floor(10*Math.random());return rnd},this.getNowDate=function(){var d=new Date;return d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate()},this.yzNumber=function(tmp){var reg=/^[0-9]+$/;return reg.test(tmp)?!0:!1},this.yzPositiveNumber=function(tmp){var reg=/^(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$/;return reg.test(tmp)?!0:!1},this.yzChina=function(tmp){var reg=/^[\u4e00-\u9fa5]+$/;return reg.test(tmp)?!0:!1},this.substringPhone=function(p){var p_s="";return null!=p&&""!=p&&p.length>=11&&(p_s=p.substring(0,3)+"****"+p.substring(7,11)),p_s},this.yzIdCard=function(tmp){var reg=/^(\d{15}|\d{18}|\d{17}(\d|X|x)|([A-Z]{1,2}|\d)\d{6}\([A-Z0-9]\))$/;return reg.test(tmp)?!0:!1},this.yzPhone=function(tmp){var reg=/^1[9|8|7|6|5|4|3][0-9]\d{8}$/;return reg.test(tmp)?!0:!1},this.yzTelPhone=function(tmp){var reg=/^\d{3}-\d{8}|\d{4}-\d{7}$/,reg2=/^\d{3}\d{8}|\d{4}-\d{7}$/;return reg.test(tmp)||reg2.test(tmp)?!0:!1},this.yzEmail=function(tmp){var reg=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return reg.test(tmp)?!0:!1},this.yzLogPass=function(tmp){var reg=/\b(^[a-zA-Z0-9]{6,18}$)\b/;return reg.test(tmp)?!0:!1},this.splitStr=function(str,zifu){var strs=new Array;return strs=str.split(zifu)},this.isNull=function(obj){return null==obj||void 0==obj||""==obj||"undefined"==typeof obj||"null"==typeof obj?!0:!1},this.get=function(url,isHide,func){var that=this,d=$q.defer(),promise=d.promise;comm.hideLoading(),"undefined"==typeof isHide&&(isHide=!0),isHide&&comm.showLoading();var fnc;return promise.success=function(fn){return fnc=fn,promise},promise.error=function(fn){return promise.then(null,fn),promise},$http.get(url,{},{timeout:12e3}).success(function(data){d.resolve(data),isHide&&comm.hideLoading(),null!=func&&void 0!=func&&(fnc=func),promise.then(fnc)}).error(function(error){if(d.reject(error),isHide){comm.hideLoading();var alertPopup=$ionicPopup.alert({title:"提示",template:'<p style="text-align:center;">数据读取异常，请检查您的网络！</p>',buttons:[{text:"重新加载"}]});alertPopup.then(function(){alertPopup.close(),null!=func&&void 0!=func&&(fnc=func),that.get(url,isHide,fnc)})}}),promise},this.post=function(url,data,isHide,func){var that=this,d=$q.defer(),promise=d.promise;comm.hideLoading(),"undefined"==typeof isHide&&(isHide=!0),isHide&&comm.showLoading();var fnc;return promise.success=function(fn){return fnc=fn,promise},promise.error=function(fn){return promise.then(null,fn),promise},$http.post(url,data,{timeout:12e3}).success(function(data){d.resolve(data),isHide&&comm.hideLoading(),null!=func&&void 0!=func&&(fnc=func),promise.then(fnc)}).error(function(error){d.reject(error),isHide&&(comm.hideLoading(),alertPopup=$ionicPopup.alert({title:"提示",template:'<p style="text-align:center;">数据读取异常，请检查您的网络！</p>',buttons:[{text:"重新加载"}]}),alertPopup.then(function(){alertPopup.close(),null!=func&&void 0!=func&&(fnc=func),that.post(url,data,isHide,fnc)}))}),promise},this.postNew=function(url,data,isHide,func){var that=this,d=$q.defer(),promise=d.promise;comm.hideLoading(),"undefined"==typeof isHide&&(isHide=!0),isHide&&comm.showLoading();var fnc;promise.success=function(fn){return fnc=fn,promise},promise.error=function(fn){return promise.then(null,fn),promise};var postCfg={headers:{"Content-Type":"application/json;charset=UTF-8"},transformRequest:function(data){return JSON.stringify(data)},timeout:12e3};return $http.post(url,data,postCfg).success(function(data){d.resolve(data),isHide&&comm.hideLoading(),null!=func&&void 0!=func&&(fnc=func),promise.then(fnc)}).error(function(error){d.reject(error),isHide&&(comm.hideLoading(),alertPopup=$ionicPopup.alert({title:"提示",template:'<p style="text-align:center;">数据读取异常，请检查您的网络！</p>',buttons:[{text:"重新加载"}]}),alertPopup.then(function(){alertPopup.close(),null!=func&&void 0!=func&&(fnc=func),that.postNew(url,data,isHide,fnc)}))}),promise},this.getHttpOrlocalProPic=function(pic){return null!=pic&&""!=pic?pic.indexOf("http://")<0&&pic.indexOf("https://")<0?pic=domain3+pic:pic.indexOf("http://")>-1&&(pic=pic.replace(/http/,"https")):pic="img/pro_pic_default.png",pic},this.getHttpOrlocalHeadPic=function(pic){return null!=pic&&""!=pic?pic.indexOf("http://")<0&&pic.indexOf("https://")<0?pic=domain3+pic:pic.indexOf("http://")>-1&&(pic=pic.replace(/http/,"https")):pic="img/head_pic_sys.jpg",pic},this.getTimeNo_0=function(t){return null!=t&&""!=t&&t.indexOf(".")>-1&&(t=t.substring(0,t.indexOf("."))),t},this.trim=function(str){return str.replace(/(^\s*)|(\s*$)/g,"")},this.subStringTitle=function(tmp,num){return null!=tmp&&""!=tmp&&tmp.length>num&&(tmp=tmp.substring(0,num)+"..."),tmp},this.yzChinaOrEnglish=function(tmp){var reg=/^[A-Za-z\u4e00-\u9fa5]+$/;return reg.test(tmp)?!0:!1},this.getSexStr=function(sex){var s="保密";return 1==sex?s="男":2==sex&&(s="女"),s},this.flagPlatform=function(){var flag=2;return isiOS?flag=4:isAndroid&&(flag=3),flag},this.getShowlevel=function(leval){return"1"==leval?leval="列兵":"2"==leval?leval="上等兵":"3"==leval?leval="士官":"4"==leval?leval="尉官":"5"==leval?leval="校官":"6"==leval?leval="少将":"7"==leval?leval="中将":"8"==leval&&(leval="上将"),leval},this.getQueryString=function(name){new RegExp("(^|&)"+name+"=([^&]*)(&|$)");try{var uri=window.location.href;if(null!=uri&&""!=uri){var ary=uri.split("?");if(null!=ary&&2==ary.length){var t=ary[1];if(-1!=t.indexOf("=")){for(var params=t.split("&"),i=0;i<params.length;i++){var curPar=params[i].split("=");if(curPar[0]==name)return curPar[1]}return""}return""}return""}return""}catch(e){return""}},this.getUrlString=function(str,name){try{var uri=str;if(null!=uri&&""!=uri){var ary=uri.split("?");if(null!=ary&&2==ary.length){var t=ary[1];if(-1!=t.indexOf("=")){for(var params=t.split("&"),i=0;i<params.length;i++){var curPar=params[i].split("=");if(curPar[0]==name)return curPar[1]}return""}return""}return""}return""}catch(e){return""}},this.getServerTimeMilliseconds=function(){var url=domain2+"date/getServerTime.do",xmlHttp=new XMLHttpRequest;if(xmlHttp.open("post",url,!1),xmlHttp.setRequestHeader("Content-Type","application/json;charset=UTF-8"),xmlHttp.send(),4==xmlHttp.readyState&&200==xmlHttp.status){var jsonRet=JSON.parse(xmlHttp.responseText);return jsonRet.milliseconds}return 0},this.getServerTimeMillisecondsJianNow=function(){var snTime=store.getExp("serverClientTimeCha");if(null==snTime||""==snTime){var sTime=comm.getServerTimeMilliseconds(),publicParse=new Date,nTime=Date.UTC(publicParse.getFullYear(),publicParse.getMonth(),publicParse.getDate(),publicParse.getHours(),publicParse.getMinutes(),publicParse.getSeconds())-288e5;snTime=sTime-nTime,store.setExp("serverClientTimeCha",snTime,60)}return parseInt(snTime)},this.updateServerTimeMillisecondsJianNow=function(){var snTime=store.getExp("serverClientTimeUpdate");if(null==snTime||""==snTime){var sTime=comm.getServerTimeMilliseconds(),publicParse=new Date,nTime=Date.UTC(publicParse.getFullYear(),publicParse.getMonth(),publicParse.getDate(),publicParse.getHours(),publicParse.getMinutes(),publicParse.getSeconds())-288e5;snTime=sTime-nTime,store.setExp("serverClientTimeUpdate",snTime,30)}return parseInt(snTime)},this.userLogin=function(str){function setupWebViewJavascriptBridge(callback){if(window.WebViewJavascriptBridge)return callback(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(callback);window.WVJBCallbacks=[callback];var WVJBIframe=document.createElement("iframe");WVJBIframe.style.display="none",WVJBIframe.src="wvjbscheme://__BRIDGE_LOADED__",document.documentElement.appendChild(WVJBIframe),setTimeout(function(){document.documentElement.removeChild(WVJBIframe)},0)}try{isiOS?(document.documentElement.style.webkitTouchCallout="none",setupWebViewJavascriptBridge(function(){WebViewJavascriptBridge.callHandler("userLoginBridge",{phoneNumber:str},function(){})})):isAndroid&&window.jsAndroid.userLogin(str)}catch(e){alert(e.message)}},this.userLogout=function(str){function setupWebViewJavascriptBridge(callback){if(window.WebViewJavascriptBridge)return callback(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(callback);window.WVJBCallbacks=[callback];var WVJBIframe=document.createElement("iframe");WVJBIframe.style.display="none",WVJBIframe.src="wvjbscheme://__BRIDGE_LOADED__",document.documentElement.appendChild(WVJBIframe),setTimeout(function(){document.documentElement.removeChild(WVJBIframe)},0)}try{isiOS?(document.documentElement.style.webkitTouchCallout="none",setupWebViewJavascriptBridge(function(){WebViewJavascriptBridge.callHandler("userLoginout",{phoneNumber:str},function(){})})):isAndroid&&window.jsAndroid.userLogout(str)}catch(e){alert(e.message)}},this.iosBrowerPay=function(url){function setupWebViewJavascriptBridge(callback){if(window.WebViewJavascriptBridge)return callback(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(callback);window.WVJBCallbacks=[callback];var WVJBIframe=document.createElement("iframe");WVJBIframe.style.display="none",WVJBIframe.src="wvjbscheme://__BRIDGE_LOADED__",document.documentElement.appendChild(WVJBIframe),setTimeout(function(){document.documentElement.removeChild(WVJBIframe)},0)}isiOS?(document.documentElement.style.webkitTouchCallout="none",setupWebViewJavascriptBridge(function(){WebViewJavascriptBridge.callHandler("testObjcCallbackSafari",{url:url},function(){})})):isAndroid?window.jsAndroid.jumpToBrowser(url):skip(url)},this.nativePay=function(sid,content){function setupWebViewJavascriptBridge(callback){if(window.WebViewJavascriptBridge)return callback(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(callback);window.WVJBCallbacks=[callback];var WVJBIframe=document.createElement("iframe");WVJBIframe.style.display="none",WVJBIframe.src="wvjbscheme://__BRIDGE_LOADED__",document.documentElement.appendChild(WVJBIframe),setTimeout(function(){document.documentElement.removeChild(WVJBIframe)},0)}try{isiOS?(document.documentElement.style.webkitTouchCallout="none",setupWebViewJavascriptBridge(function(){WebViewJavascriptBridge.callHandler("testObjcCallbackSafari",{sid:sid,content:content},function(){})})):isAndroid&&window.jsAndroid.nativePay(sid,content)}catch(e){alert(e.message)}},this.WeixinAppShare=function(par,invitationCode){var url=basePath+"getShareInfoNew.jsp";$http.post(url,{t:"2,3,4,9"}).success(function(jsonObj){function setupWebViewJavascriptBridge(callback){if(window.WebViewJavascriptBridge)return callback(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(callback);window.WVJBCallbacks=[callback];var WVJBIframe=document.createElement("iframe");WVJBIframe.style.display="none",WVJBIframe.src="wvjbscheme://__BRIDGE_LOADED__",document.documentElement.appendChild(WVJBIframe),setTimeout(function(){document.documentElement.removeChild(WVJBIframe)},0)}var pic=jsonObj[0].content,title=jsonObj[1].content,content="",app_link=jsonObj[3].content;if(title.length>50&&(title=title.substring(0,50)+"..."),comm.isNull(invitationCode)||(content+="我的邀请码是：",content+=invitationCode,content+="。",app_link+="?invitationCode=",app_link+=invitationCode),content+=jsonObj[2].content,isiOS)document.documentElement.style.webkitTouchCallout="none",setupWebViewJavascriptBridge(function(){WebViewJavascriptBridge.callHandler("share",{share:par,link:app_link,title:title,pic:pic,content:content},function(){})});else if(isAndroid){var JSONObj={title:title,link:app_link,pic:pic,content:content},JSONObjStr=JSON.stringify(JSONObj);window.jsAndroid.share(JSONObjStr,par)}})},this.WeixinShare=function(par,title,content){$http.post(basePath+"getShareInfoNew.jsp",{t:"2,1"}).success(function(jsonObj){function setupWebViewJavascriptBridge(callback){if(window.WebViewJavascriptBridge)return callback(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(callback);window.WVJBCallbacks=[callback];var WVJBIframe=document.createElement("iframe");WVJBIframe.style.display="none",WVJBIframe.src="wvjbscheme://__BRIDGE_LOADED__",document.documentElement.appendChild(WVJBIframe),setTimeout(function(){document.documentElement.removeChild(WVJBIframe)},0)}var pic=jsonObj[1].content,link_=jsonObj[0].content;if(title.length>50&&(title=title.substring(0,50)+"..."),isiOS)document.documentElement.style.webkitTouchCallout="none",setupWebViewJavascriptBridge(function(){WebViewJavascriptBridge.callHandler("share",{share:par,link:link_,title:title,pic:pic,content:content},function(){})
});else if(isAndroid){var JSONObj={link:link_,title:title,pic:pic,content:content},JSONObjStr=JSON.stringify(JSONObj);window.jsAndroid.share(JSONObjStr,par)}})},this.goodsWeixinShare=function(par,dataObj){dataObj=JSON.parse(dataObj);var title="真的就花了"+dataObj.num+"块钱，快来膜拜一下！",pic=dataObj.pic,content="就花了"+dataObj.num+"块钱，就中了 "+dataObj.pname;$http.post(basePath+"getShareInfoNew.jsp",{t:"1"}).success(function(jsonObj){function setupWebViewJavascriptBridge(callback){if(window.WebViewJavascriptBridge)return callback(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(callback);window.WVJBCallbacks=[callback];var WVJBIframe=document.createElement("iframe");WVJBIframe.style.display="none",WVJBIframe.src="wvjbscheme://__BRIDGE_LOADED__",document.documentElement.appendChild(WVJBIframe),setTimeout(function(){document.documentElement.removeChild(WVJBIframe)},0)}var link_=jsonObj[0].content;if(title.length>50&&(title=title.substring(0,50)+"..."),isiOS)document.documentElement.style.webkitTouchCallout="none",setupWebViewJavascriptBridge(function(){WebViewJavascriptBridge.callHandler("share",{share:par,link:link_,title:title,pic:pic,content:content},function(){})});else if(isAndroid){var JSONObj={link:link_,title:title,pic:pic,content:content},JSONObjStr=JSON.stringify(JSONObj);window.jsAndroid.share(JSONObjStr,par)}})},this.goodsActWeixinShare=function(par,dataObj){dataObj=JSON.parse(dataObj);var title="一元行幸运大转盘来袭",pic=dataObj.pic,content="一元行幸运大转盘活动来袭，抽中了 "+dataObj.pname;$http.post(basePath+"getShareInfoNew.jsp",{t:"1"}).success(function(jsonObj){function setupWebViewJavascriptBridge(callback){if(window.WebViewJavascriptBridge)return callback(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(callback);window.WVJBCallbacks=[callback];var WVJBIframe=document.createElement("iframe");WVJBIframe.style.display="none",WVJBIframe.src="wvjbscheme://__BRIDGE_LOADED__",document.documentElement.appendChild(WVJBIframe),setTimeout(function(){document.documentElement.removeChild(WVJBIframe)},0)}var link_=jsonObj[0].content;if(title.length>50&&(title=title.substring(0,50)+"..."),isiOS)document.documentElement.style.webkitTouchCallout="none",setupWebViewJavascriptBridge(function(){WebViewJavascriptBridge.callHandler("share",{share:par,link:link_,title:title,pic:pic,content:content},function(){})});else if(isAndroid){var JSONObj={link:link_,title:title,pic:pic,content:content},JSONObjStr=JSON.stringify(JSONObj);window.jsAndroid.share(JSONObjStr,par)}})},this.snatchShare=function(par,money,typesName,catalogueName){var title="一元行红包大派送来袭",pic="https://resource.1yuanxing.com/images/vouchers/share_snatch.gif",content="哈哈，在一元行红包大派送中，我抽中了"+money+"元"+typesName+catalogueName;$http.post(basePath+"getShareInfoNew.jsp",{t:"1"}).success(function(jsonObj){function setupWebViewJavascriptBridge(callback){if(window.WebViewJavascriptBridge)return callback(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(callback);window.WVJBCallbacks=[callback];var WVJBIframe=document.createElement("iframe");WVJBIframe.style.display="none",WVJBIframe.src="wvjbscheme://__BRIDGE_LOADED__",document.documentElement.appendChild(WVJBIframe),setTimeout(function(){document.documentElement.removeChild(WVJBIframe)},0)}var link_=jsonObj[0].content;if(isiOS)document.documentElement.style.webkitTouchCallout="none",setupWebViewJavascriptBridge(function(){WebViewJavascriptBridge.callHandler("share",{share:par,link:link_,title:title,pic:pic,content:content},function(){})});else if(isAndroid){var JSONObj={link:link_,title:title,pic:pic,content:content},JSONObjStr=JSON.stringify(JSONObj);window.jsAndroid.share(JSONObjStr,par)}})},this.getAppVersion=function(){function setupWebViewJavascriptBridge(callback){if(window.WebViewJavascriptBridge)return callback(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(callback);window.WVJBCallbacks=[callback];var WVJBIframe=document.createElement("iframe");WVJBIframe.style.display="none",WVJBIframe.src="wvjbscheme://__BRIDGE_LOADED__",document.documentElement.appendChild(WVJBIframe),setTimeout(function(){document.documentElement.removeChild(WVJBIframe)},0)}try{isiOS?(document.documentElement.style.webkitTouchCallout="none",setupWebViewJavascriptBridge(function(){WebViewJavascriptBridge.callHandler("versionBridge",{foo:"bar"},function(){})})):isAndroid&&window.jsAndroid.getAppVersion()}catch(e){setAppVersion()}},this.onelogQq=function(){function setupWebViewJavascriptBridge(callback){if(window.WebViewJavascriptBridge)return callback(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(callback);window.WVJBCallbacks=[callback];var WVJBIframe=document.createElement("iframe");WVJBIframe.style.display="none",WVJBIframe.src="wvjbscheme://__BRIDGE_LOADED__",document.documentElement.appendChild(WVJBIframe),setTimeout(function(){document.documentElement.removeChild(WVJBIframe)},0)}try{isiOS?(document.documentElement.style.webkitTouchCallout="none",setupWebViewJavascriptBridge(function(){WebViewJavascriptBridge.callHandler("qqBridge",{foo:"bar"},function(){})})):isAndroid&&window.jsAndroid.qqLogin()}catch(e){alert(e.message)}},this.onelogWeixin=function(){function setupWebViewJavascriptBridge(callback){if(window.WebViewJavascriptBridge)return callback(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(callback);window.WVJBCallbacks=[callback];var WVJBIframe=document.createElement("iframe");WVJBIframe.style.display="none",WVJBIframe.src="wvjbscheme://__BRIDGE_LOADED__",document.documentElement.appendChild(WVJBIframe),setTimeout(function(){document.documentElement.removeChild(WVJBIframe)},0)}isiOS?(document.documentElement.style.webkitTouchCallout="none",setupWebViewJavascriptBridge(function(){WebViewJavascriptBridge.callHandler("weixinBridge",{foo:"bar"},function(){})})):isAndroid&&window.jsAndroid.wxLogin()}};return service.$inject=["$state","$ionicLoading","$http","$q","$ionicPopup"],service}),define("factoryServices",[],function(){"use strict";var service=function($http,$rootScope){return{checkLogin:function(backUrl,logUrl,toUrl){localStorage.removeItem("backUrlLogin");var u=localStorage.getItem("uid_local");null==u||""==u||"undefined"==typeof u?(localStorage.setItem("backUrlLogin",backUrl),skip(logUrl)):skip(toUrl)},firstCheckLogin:function(){var u=localStorage.getItem("uid_local"),clientTime=localStorage.getItem("clientTime");if(null!=u&&""!=u&&"undefined"!=typeof u){var publicParse=new Date,nowDate=Date.UTC(publicParse.getFullYear(),publicParse.getMonth(),publicParse.getDate(),publicParse.getHours(),publicParse.getMinutes(),publicParse.getSeconds())-288e5;if(nowDate-parseInt(clientTime)>1296e6)return localStorage.removeItem("uid_local"),void localStorage.removeItem("clientTime");var url=basePath+"checkUser.jsp",dataJson={u:u};$http.post(url,dataJson).success(function(subRetJson){var code=subRetJson.code;if(200!=code)localStorage.removeItem("uid_local"),localStorage.removeItem("clientTime");else{localStorage.setItem("clientTime",nowDate);var dataJson={u:u},url=basePath+"getCartNum.jsp";$http.post(url,dataJson).success(function(num){var reg=/^[0-9]*$/;reg.test(num)||($rootScope.cartNumber=0==num?0:num)})}})}},getCardNum:function(){var u=localStorage.getItem("uid_local");if(null!=u&&""!=u){var dataJson={u:u},url=basePath+"getCartNum.jsp";$http.post(url,dataJson).success(function(num){var reg=/^[0-9]*$/;reg.test(num)||($rootScope.cartNumber=0==num?0:num)})}},hideOrShowAppContent:function(){if($rootScope.center={},$rootScope.mob={shengming:!1,classify:!1,prJfBt:!0,cardexplain:!1,onelog:!0,balancePaid:!0,jifenPaid:!0,repairBill:!1},isiOS){var url=basePath+"getUtil.jsp";$http.post(url,{}).success(function(JSONObjRet){var showShengming=JSONObjRet.showShengming;"1"==showShengming?$rootScope.mob.shengming=!0:"2"==showShengming&&($rootScope.mob.shengming=!1);var balancePaid=JSONObjRet.balancePaid;"1"==balancePaid?$rootScope.mob.balancePaid=!0:"2"==balancePaid&&($rootScope.mob.balancePaid=!1);var chongZhi=JSONObjRet.chongZhi;"1"==chongZhi?($rootScope.mob.prJfBt=!0,$rootScope.mob.cardexplain=!0,$rootScope.mob.classify=!0):"2"==chongZhi&&($rootScope.mob.prJfBt=!1,$rootScope.mob.cardexplain=!1,$rootScope.mob.classify=!1);var quickLogin=JSONObjRet.QuickLogin;"1"==quickLogin?$rootScope.mob.onelog=!0:"2"==quickLogin&&($rootScope.mob.onelog=!1);var showjifenpay=JSONObjRet.showjifenpay;"1"==showjifenpay?$rootScope.mob.jifenPaid=!0:"2"==showjifenpay&&($rootScope.mob.jifenPaid=!1);var repairBill=JSONObjRet.repairBill;return"1"==repairBill?$rootScope.mob.repairBill=!0:"2"==repairBill&&($rootScope.mob.repairBill=!1),1})}else if(isAndroid){var url=basePath+"getUtil.jsp";return $http.post(url,{}).success(function(JSONObjRet){var showjifenpayAndroid=JSONObjRet.showjifenpayAndroid;"1"==showjifenpayAndroid?$rootScope.mob.jifenPaid=!0:"2"==showjifenpayAndroid&&($rootScope.mob.jifenPaid=!1);var repairBill=JSONObjRet.repairBill;"1"==repairBill?$rootScope.mob.repairBill=!0:"2"==repairBill&&($rootScope.mob.repairBill=!1)}),$rootScope.mob.prJfBt=!0,$rootScope.mob.cardexplain=!0,$rootScope.mob.classify=!0,1}}}};return service.$inject=["$http","$rootScope"],service}),define("timePickerService",[],function(){"use strict";var service=function(){var _this=this;_this.globalId=0,_this.format=function(date,fmt){var o={"M+":date.getMonth()+1,"d+":date.getDate(),"h+":date.getHours(),"m+":date.getMinutes(),"s+":date.getSeconds(),"q+":Math.floor((date.getMonth()+3)/3),S:date.getMilliseconds()};/(y+)/.test(fmt)&&(fmt=fmt.replace(RegExp.$1,(date.getFullYear()+"").substr(4-RegExp.$1.length)));for(var k in o)new RegExp("("+k+")").test(fmt)&&(fmt=fmt.replace(RegExp.$1,1==RegExp.$1.length?o[k]:("00"+o[k]).substr((""+o[k]).length)));return fmt}};return service.$inject=[],service}),define("services",["app","config","mainServices","factoryServices","timePickerService"],function(){var services=(require("config"),angular.module("app.services",["app.config","ngResource"]));return services.service("$timePickerService",require("timePickerService")),services.factory("$factoryServices",require("factoryServices")),services.service("$mainServices",require("mainServices")),services}),define("baseController",[],function(){function ctrl($scope,$ionicHistory,$mainServices,$location,$rootScope,$ionicTabsDelegate,$ionicScrollDelegate,$state,$ionicModal,$timeout,$ionicViewSwitcher){$scope.canLoadMore={code:!1,nowPageMore:0},$scope.host=$mainServices.curState(),$scope.left=.7*parseInt(window.screen.availWidth),$scope.top=parseInt(window.screen.availHeight)-30,$scope.width=parseInt(window.screen.availWidth),$scope.height=parseInt(window.screen.availHeight)-50,$scope.modalFlag=1,$scope.goBack=function(){var url=$state.current.name;null==$ionicHistory.backView()||url==$ionicHistory.backView().stateName?(0==url.indexOf("index.")?(skip("#/index/index"),$rootScope.hideTabs="",$ionicTabsDelegate.select(0)):0==url.indexOf("product.")?(skip("#/product/productlist"),$rootScope.hideTabs="",$ionicTabsDelegate.select(1)):0==url.indexOf("activite.")?(skip("#/activite/newPublishList"),$rootScope.hideTabs="",$ionicTabsDelegate.select(2)):0==url.indexOf("cart.")?(skip("#/cart/cart"),$rootScope.hideTabs="",$ionicTabsDelegate.select(3)):0==url.indexOf("mine.")&&(skip("#/mine/myIndex"),$rootScope.hideTabs="",$ionicTabsDelegate.select(4)),$ionicViewSwitcher.nextDirection("back"),$timeout(function(){$ionicHistory.clearHistory(),$ionicHistory.clearCache()},10)):$ionicHistory.goBack()},$scope.onelogQq=function(){localStorage.removeItem("openid"),localStorage.removeItem("type"),$mainServices.onelogQq()},$scope.onelogWeixin=function(){localStorage.removeItem("openid"),localStorage.removeItem("type"),$mainServices.onelogWeixin()},$scope.skip=function(url){skip(url)},window.androidGoBack=function(){if("/index/index"!=$location.path()&&"/product/productlist"!=$location.path()&&"/activite/newPublishList"!=$location.path()&&"/cart/cart"!=$location.path()&&"/mine/myIndex"!=$location.path()&&"/index/payFinish"!=$location.path()&&"/cart/payFinish"!=$location.path()&&"/mine/payFinish"!=$location.path()&&"/product/payFinish"!=$location.path()&&"/activite/payFinish"!=$location.path()){var url=$state.current.name;null==$ionicHistory.backView()||url==$ionicHistory.backView().stateName?(0==url.indexOf("index.")?skip("#/index/index"):0==url.indexOf("product.")?skip("#/product/productlist"):0==url.indexOf("activite.")?skip("#/activite/newPublishList"):0==url.indexOf("cart.")?skip("#/cart/cart"):0==url.indexOf("mine.")&&skip("#/mine/myIndex"),$ionicViewSwitcher.nextDirection("back"),$timeout(function(){$ionicHistory.clearHistory(),$ionicHistory.clearCache()},10)):$ionicHistory.goBack()}""!=alertPopup&&alertPopup.close()},window.closeInfoDialog=function(){$(".gDia").remove()},window.jumpWinGoods=function(){$(".gDia").remove(),skip("#/"+$scope.host+"/winGoods/1")},$rootScope.updateVersion=function(){$mainServices.iosBrowerPay(isiOS?"https://itunes.apple.com/cn/app/yi-yuan-xing/id1110690278?mt=8":"https://resource.1yuanxing.com/1yx_h5/archive/1yuanxing.apk")},$scope.tabPoint=function(){if("/index/index"==$location.path()||"/product/productlist"==$location.path()||"/activite/newPublishList"==$location.path()||"/cart/cart"==$location.path()||"/mine/myIndex"==$location.path()){var u=localStorage.getItem("uid_local");if($rootScope.tabPoint=!1,$rootScope.linkPoint=!1,null!=u&&""!=u&&"undefined"!=typeof u){var url=domain2+"vouchers/checkVouchersInfo.do",dataJson={user:{userID:u,sh:1},page:{currentPage:1,pageNumber:5}};$mainServices.postNew(url,dataJson,!1).success(function(JSONObj){if("success"==JSONObj.ret){var JSON_list=JSONObj.obtainRecords;null!=JSON_list&&JSON_list.length>0&&($rootScope.tabPoint=!0,"/mine/myIndex"==$location.path()&&($rootScope.linkPoint=!0))}})}}},$scope.closeRootModal=function(){$scope.modalFlag=1,$scope.modalRoot.remove()},$scope.getNoticeInfo=function(nid){var url=domain2+"news/gainNewsInfo.do",dataJson={nid:nid};$mainServices.postNew(url,dataJson,!0).success(function(JSONObj){if("success"==JSONObj.ret){var news=JSONObj.news,content=news.content;$scope.rntitle=news.ntitle,$scope.rproDetail=content}else alert(JSONObj.message)})},window.showWinInfoDialog=function(json){if("string"==typeof json)var json=JSON.parse(json);if(1==json.flag||"1"==json.flag)1==$scope.modalFlag&&$ionicModal.fromTemplateUrl("templates/mine/noticeModal.html",{scope:$scope,animation:"slide-in-up"}).then(function(modal){$scope.modalRoot=modal,$scope.modalRoot.show(),$scope.modalFlag=2,$scope.getNoticeInfo(json.nid)});else if(2!=json.flag&&"2"!=json.flag){if($(".winInfoDia").length>0)return;var htmlPubTankuang="<div class='gDia winInfoDia'><div class='outter-dialog'><div class='inner-dialog'><img class='img-winInfo' src='img/bg_winInfo.png'><div class='box-winInfo'><h5>获得商品</h5><p class='ellipsis2'>(第"+json.pterm+"期)"+json.ptitle+"</p><img class='btn-winInfo' onclick='jumpWinGoods()' src='img/btn_winInfo.png'></div></div></div><div class='btn-close' onclick='closeInfoDialog()'><img src='img/btn_close.png'></div></div>";$("body").append(htmlPubTankuang);var ImgObj=new Image;ImgObj.src="img/bg_winInfo.png",ImgObj.onload=function(){var ih=parseInt($(".winInfoDia").height()),gh=parseInt($(".winInfoDia .inner-dialog").height());$(".winInfoDia .outter-dialog").css("margin-top",(ih-gh)/2)}}}}return ctrl.$inject=["$scope","$ionicHistory","$mainServices","$location","$rootScope","$ionicTabsDelegate","$ionicScrollDelegate","$state","$ionicModal","$timeout","$ionicViewSwitcher"],ctrl}),define("indexController",[],function(){function ctrl($scope,$mainServices,$factoryServices,$controller,$ionicSlideBoxDelegate,$timeout,$interval,$ionicScrollDelegate,$ionicPopup,$ionicHistory,$location,$q,$rootScope){function touchStart(){clearInterval(touchInter),$timeout.cancel(moveTimer)}function touchMove(){moveFlag=!0,clearInterval(touchInter),$timeout.cancel(moveTimer)}function touchEnd(event){clearInterval(touchInter),1==moveFlag&&(touchInter=setInterval(function(){$scope.showToTop=$ionicScrollDelegate.getScrollPosition().top>540?!0:!1,lastPos==$ionicScrollDelegate.getScrollPosition().top&&(event.preventDefault(),event.stopPropagation(),clearInterval(touchInter),moveTimer=$timeout(function(){moveFlag=!1},301)),lastPos=$ionicScrollDelegate.getScrollPosition().top},100))}function intervalCancel(){try{$interval.cancel($scope.jjjx[0].daojishi),$interval.cancel($scope.jjjx[1].daojishi),$interval.cancel($scope.jjjx[2].daojishi),$interval.cancel($scope.jjjx[3].daojishi)}catch(e){}GetRTimeMobilePublicProduct(0,$scope.jjjx[0].publictimelast,$scope.jjjx[0].nowtime),GetRTimeMobilePublicProduct(1,$scope.jjjx[1].publictimelast,$scope.jjjx[1].nowtime),GetRTimeMobilePublicProduct(2,$scope.jjjx[2].publictimelast,$scope.jjjx[2].nowtime),GetRTimeMobilePublicProduct(3,$scope.jjjx[3].publictimelast,$scope.jjjx[3].nowtime)}function GetRTimeMobilePublicProduct(i,public_time,nowtime){var publicParse=new Date(Date.parse(public_time.replace(/-/g,"/"))),EndTime=Date.UTC(publicParse.getFullYear(),publicParse.getMonth(),publicParse.getDate(),publicParse.getHours(),publicParse.getMinutes(),publicParse.getSeconds())-288e5,t=EndTime-nowtime,time=60;$scope.jjjx[i].daojishi=$interval(function(){t>0?($scope.jjjx[i].producturl="2"==$scope.jjjx[i].ptype?"newbieDetail?type=1":"newproductdetail?type=1",$scope.jjjx[i].daojishiSpan=!1,$scope.daojishi[i].mm=Math.floor(t/1e3/60%60)+"",$scope.daojishi[i].ss=Math.floor(t/1e3%60)+"",$scope.daojishi[i].s_m_100=t+"",$scope.daojishi[i].s_m_100=$scope.daojishi[i].s_m_100.substr($scope.daojishi[i].s_m_100.length-3,2),1==$scope.daojishi[i].mm.length&&($scope.daojishi[i].mm="0"+$scope.daojishi[i].mm),1==$scope.daojishi[i].ss.length&&($scope.daojishi[i].ss="0"+$scope.daojishi[i].ss),$scope.daojishiDiv=!0,t-=time):($scope.jjjx[i].producturl="2"==$scope.jjjx[i].ptype?"newbieDetail?type=2":"newproductdetail?type=2",$scope.jjjx[i].daojishiSpan=!0,$scope.daojishi[i].mm="00",$scope.daojishi[i].ss="00",$scope.daojishi[i].s_m_100="00",$scope.daojishiDiv=!0,$interval.cancel($scope.jjjx[i].daojishi))},time)}function getIndexPublicSx(isHide){dfour=$q.defer(),promisefour=dfour.promise;var url=basePath+"getProPublic.jsp";$mainServices.post(url,{},isHide).success(function(JSON_list){if($scope.prodjslist=JSON_list,$scope.prodjslist.length>0){for(var i=0;i<$scope.prodjslist.length;i++)$scope.jjjx[i].ptitle=$scope.prodjslist[i].ptitle,$scope.jjjx[i].pic=$mainServices.getHttpOrlocalProPic($scope.prodjslist[i].pic),$scope.jjjx[i].pterm_pub=$scope.prodjslist[i].pterm,$scope.jjjx[i].pid_pub=$scope.prodjslist[i].pid,$scope.jjjx[i].publictimelast=$mainServices.getTimeNo_0($scope.prodjslist[i].publictimelast),$scope.jjjx[i].nowtime=$scope.prodjslist[i].presentTime,$scope.jjjx[i].ptype=$scope.prodjslist[i].ptype,$scope.jjjx[i].producturl="2"==$scope.jjjx[i].ptype?"newbieDetail?type=1":"newproductdetail?type=1";localStorage.setItem("indexAnnouncementData",JSON.stringify($scope.jjjx))}intervalCancel(),dfour.resolve()}).error(function(){dfour.resolve()})}function getIndexBannerSx(isHide){if(0==$scope.bannerList.length){var url=basePath+"getBanner.jsp";$mainServices.post(url,{},isHide).success(function(JSON_list){if(JSON_list.length>=2){$scope.bannerListFlag=!0;for(var i=0;i<JSON_list.length;i++){var title=JSON_list[i].title,pic=JSON_list[i].pic,link=JSON_list[i].linkapp;pic=$mainServices.getHttpOrlocalProPic(pic),$scope.bannerList.push({title:title,pic:pic,link:link})}$ionicSlideBoxDelegate.update(),localStorage.setItem("indexBannerData",JSON.stringify(JSON_list))}else $scope.bannerListFlag=!1})}}function getShareSx(isHide){if(""==$scope.app_ewm){var url=basePath+"getShareInfo.jsp";$mainServices.post(url,{t:5},isHide).success(function(JSON_list){$scope.app_ewm=JSON_list[0].content})}}function selectRecentFive(flag){$mainServices.postNew(domain2+"productTerm/selectRecentFive.do",{userID:u,platform:2},!1).success(function(subRetJson){if("success"==subRetJson.ret){for(var i=0;i<subRetJson.data.length;i++)$scope.arr.push({pid:subRetJson.data[i].pid,pterm:subRetJson.data[i].pterm,ptitle:subRetJson.data[i].ptitle,num:subRetJson.data[i].num,nickname:subRetJson.data[i].nickname,ptype:subRetJson.data[i].ptype});if($scope.animateFlag)return;"first"==flag?$timeout(function(){loadRecentFive()},1e3):push()}}).error(function(){$timeout(function(){$scope.animateFlag||selectRecentFive(flag)},3e3)})}function loadRecentFive(){angular.element(".loop-m").append("<p>恭喜<span>"+$scope.arr[0].nickname+"</span>参与"+$scope.arr[0].num+"人次获得了"+$scope.arr[0].ptitle+"</p>"),$scope.gobalUrl="2"==$scope.arr[0].ptype?"#/index/newbieDetail?type=2&pid="+$scope.arr[0].pid+"&pterm="+$scope.arr[0].pterm:"#/index/newproductdetail?type=2&pid="+$scope.arr[0].pid+"&pterm="+$scope.arr[0].pterm,animate()}function push(){$timeout(function(){if(!$scope.animateFlag){if($scope.arr.length<=1)return void selectRecentFive();$(".loop-m").append('<p style="top:24px;">恭喜<span>'+$scope.arr[1].nickname+"</span>参与"+$scope.arr[1].num+"人次获得了"+$scope.arr[1].ptitle+"</p>"),$(".loop-m p").eq(1).animate({top:"0px"},1e3),$(".loop-m p").eq(0).animate({top:"-48px"},1e3,function(){$scope.gobalUrl="2"==$scope.arr[1].ptype?"#/index/newbieDetail?type=2&pid="+$scope.arr[1].pid+"&pterm="+$scope.arr[1].pterm:"#/index/newproductdetail?type=2&pid="+$scope.arr[1].pid+"&pterm="+$scope.arr[1].pterm,$(".loop-m p").eq(0).remove(),$scope.arr.splice(0,1),animate()})}},3e3)}function animate(){$timeout(function(){$scope.animateFlag||($(".loop-m p").eq(0).css("left","0px"),delta=0,$timeout(function(){$(".loop-m p").eq(0).width()>lmW?($interval.cancel(timer),timer=$interval(rolling,80)):push()},1e3))},3e3)}$scope.daojishiDiv=!1,$scope.daojishi=[{mm:"00",ss:"00",s_m_100:"00"},{mm:"00",ss:"00",s_m_100:"00"},{mm:"00",ss:"00",s_m_100:"00"},{mm:"00",ss:"00",s_m_100:"00"}],$scope.jjjx=[{producturl:"newproductdetail?type=1",daojishiSpan:!1,daojishi:"",ptitle:"",pic:"",pterm_pub:"",pid_pub:"",publictimelast:"",nowtime:""},{producturl:"newproductdetail?type=1",daojishiSpan:!1,daojishi:"",ptitle:"",pic:"",pterm_pub:"",pid_pub:"",publictimelast:"",nowtime:""},{producturl:"newproductdetail?type=1",daojishiSpan:!1,daojishi:"",ptitle:"",pic:"",pterm_pub:"",pid_pub:"",publictimelast:"",nowtime:""},{producturl:"newproductdetail?type=1",daojishiSpan:!1,daojishi:"",ptitle:"",pic:"",pterm_pub:"",pid_pub:"",publictimelast:"",nowtime:""}],$scope.rqtjList=[],$scope.bannerList=[],$scope.bannerListFlag=!1,$scope.prodjslist=[],$scope.app_ewm="",$scope.navFourLi=["cur","","",""],$scope.arrowPx=["",""],$scope.showToTop=!1;var base=$controller("baseController",{$scope:$scope}),dfour=$q.defer(),promisefour=dfour.promise;window.shareCallBackFn=function(){showTankuangOneBtn("分享成功！"),$("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove()})},window.ikonw=function(){$("#diaIntr,#diaIntr1").hide(),$rootScope.hideTabs=""},$rootScope.closeHuiyiDialog=function(){$("#huiyiDialog,#huiyiDialog .outter-dialog").hide()},$rootScope.closeDialog=function(){$("#firstDialog,#firstDialog .outter-dialog").hide();var uid_local=localStorage.getItem("uid_local");if(!$mainServices.isNull(uid_local)){var newbieArray=localStorage.getItem("newbieArray"),newbieFlag=!0;if(""!=newbieArray&&null!=newbieArray){newbieArray=JSON.parse(newbieArray);for(var i=0;i<newbieArray.length;i++)if(uid_local==newbieArray[i]){newbieFlag=!1;break}}else newbieArray=[];newbieFlag&&$mainServices.postNew(domain2+"orderDetailPeople/sprogJudge.do",{userID:uid_local,platform:2},!1).success(function(subRetJson){"success"==subRetJson.result?$timeout(function(){newbieArray.push(uid_local),localStorage.setItem("newbieArray",JSON.stringify(newbieArray)),$("#diaIntr,#diaIntr1").show();var getTop=$("#iconNewbie")[0].getBoundingClientRect().top;$("#diaIntr1").css($scope.width/709*300<getTop?{left:$("#iconNewbie")[0].getBoundingClientRect().left-25,top:getTop-2}:{left:$("#iconNewbie")[0].getBoundingClientRect().left-25,top:$scope.width/709*300-5+getTop-2})},1e3):newbieArray.push(uid_local)})}},$(".zlxss").show(),localStorage.getItem("uid_local")?($(".img-get").attr({src:"img/33.png"}),$(".img-get").css({width:"85%"}),$(".btn-close").hide()):($(".img-get").attr({src:"img/44.png"}),$(".btn-close").show()),$rootScope.jumpPage=function(){$(".gDia").hide();var uid_local=localStorage.getItem("uid_local");uid_local?$rootScope.closeDialog():$location.path("index/moneyget")};var u=localStorage.getItem("uid_local");if(-1==domain.indexOf("ios.1yuanxing"))if($mainServices.isNull(u))$mainServices.getNowDate()==localStorage.getItem("getNowDate")||$mainServices.postNew(domain2+"giftRelative/selectGiftLink.do",{userID:"",platform:2},!1).success(function(subRetJson){if("success"==subRetJson.ret&&null!=subRetJson.data&&""!=subRetJson.data.image){u?$rootScope.fDialogImg="../../img/fanxianapp.png":($rootScope.fDialogImg=domain3+subRetJson.data.image,$rootScope.fDialogUrl=subRetJson.data.link);var ImgObj=new Image;ImgObj.src=$rootScope.fDialogImg,ImgObj.onload=function(){$("#firstDialog").show(),$("#firstDialog .outter-dialog").show();var ih=parseInt(window.screen.availHeight),gh=parseInt($("#firstDialog .outter-dialog").height());$("#firstDialog .outter-dialog").css("margin-top",(ih-gh)/2)},localStorage.setItem("getNowDate",$mainServices.getNowDate())}});else if($mainServices.userLogin(u.substring(u.indexOf("_")+1,u.indexOf("."))),$mainServices.postNew(domain2+"giftRelative/selectGiftLink.do",{userID:u,platform:2},!1).success(function(subRetJson){if("success"==subRetJson.ret){if(""!=subRetJson.data.image&&null!=subRetJson.data){u?$rootScope.fDialogImg="../../img/fanxianapp.png":($rootScope.fDialogImg=domain3+subRetJson.data.image,$rootScope.fDialogUrl=subRetJson.data.link);var ImgObj=new Image;ImgObj.src=$rootScope.fDialogImg,ImgObj.onload=function(){$("#firstDialog").show(),$("#firstDialog .outter-dialog").show();var ih=parseInt($("#firstDialog").height()),gh=parseInt($("#firstDialog .outter-dialog").height());$("#firstDialog .outter-dialog").css("margin-top",(ih-gh)/2)}}}else{var newbieArray=localStorage.getItem("newbieArray"),newbieFlag=!0;if(""!=newbieArray&&null!=newbieArray){newbieArray=JSON.parse(newbieArray);for(var i=0;i<newbieArray.length;i++)if(u==newbieArray[i]){newbieFlag=!1;break}}else newbieArray=[];newbieFlag&&$mainServices.postNew(domain2+"orderDetailPeople/sprogJudge.do",{userID:u,platform:2},!1).success(function(subRetJson){"success"==subRetJson.result?$timeout(function(){newbieArray.push(u),localStorage.setItem("newbieArray",JSON.stringify(newbieArray)),$("#diaIntr,#diaIntr1").show();var getTop=$("#iconNewbie")[0].getBoundingClientRect().top;$("#diaIntr1").css($scope.width/709*300<getTop?{left:$("#iconNewbie")[0].getBoundingClientRect().left-25,top:getTop-2}:{left:$("#iconNewbie")[0].getBoundingClientRect().left-25,top:$scope.width/709*300-5+getTop-2})},1e3):newbieArray.push(u)})}}),$mainServices.getNowDate()!=localStorage.getItem("getNowDate")){$rootScope.fDialogImg="../../img/fanxianapp.png";var ImgObj=new Image;ImgObj.src=$rootScope.fDialogImg,ImgObj.onload=function(){$("#firstDialog").show(),$("#firstDialog .outter-dialog").show();var ih=parseInt(window.screen.availHeight),gh=parseInt($("#firstDialog .outter-dialog").height());$("#firstDialog .outter-dialog").css("margin-top",(ih-gh)/2)},localStorage.setItem("getNowDate",$mainServices.getNowDate())}$scope.indexRecord=function(){var indexBannerData=localStorage.getItem("indexBannerData");if(null!=indexBannerData&&""!=indexBannerData){indexBannerData=JSON.parse(indexBannerData),$scope.bannerListFlag=!0;for(var i=0;i<indexBannerData.length;i++){var link=indexBannerData[i].linkapp;$scope.bannerList.push({title:"",pic:"",link:link})}$timeout(function(){for(var j=0;j<indexBannerData.length;j++){var pic=indexBannerData[j].pic,title=indexBannerData[j].title;$scope.bannerList[j].title=title,$scope.bannerList[j].pic=$mainServices.getHttpOrlocalProPic(pic)}$ionicSlideBoxDelegate.update()},500)}else $scope.bannerListFlag=!1;var indexAnnouncementData=localStorage.getItem("indexAnnouncementData");if(null!=indexAnnouncementData&&""!=indexAnnouncementData){dfour=$q.defer(),promisefour=dfour.promise,indexAnnouncementData=JSON.parse(indexAnnouncementData),$scope.prodjslist=indexAnnouncementData;for(var i=0;i<indexAnnouncementData.length;i++)$scope.jjjx[i].ptitle=indexAnnouncementData[i].ptitle,$scope.jjjx[i].pic=indexAnnouncementData[i].pic,$scope.jjjx[i].pterm_pub=indexAnnouncementData[i].pterm,$scope.jjjx[i].pid_pub=indexAnnouncementData[i].pid,$scope.jjjx[i].publictimelast=indexAnnouncementData[i].publictimelast,$scope.jjjx[i].nowtime=indexAnnouncementData[i].nowtime,$scope.jjjx[i].producturl="2"==$scope.jjjx[i].ptype?"newbieDetail?type=1":"newproductdetail?type=1";intervalCancel(),dfour.resolve()}var indexProListData=localStorage.getItem("indexProListData");if(null!=indexProListData&&""!=indexProListData){indexProListData=JSON.parse(indexProListData);var JSON_list=indexProListData.prolist,pageCount=parseInt(indexProListData.pageCount),recount=parseInt(indexProListData.recount);$scope.canLoadMore.nowPageMore=parseInt(indexProListData.showPage),$scope.canLoadMore.code=!1;for(var i=0;i<JSON_list.length;i++){var pid=JSON_list[i].pid,pic=JSON_list[i].pic,price=JSON_list[i].price,total_time=JSON_list[i].total_time,finish_time=JSON_list[i].finish_time,ptitle=JSON_list[i].ptitle,now_term=JSON_list[i].now_term;pic=$mainServices.getHttpOrlocalProPic(pic);var shengyu_time=parseInt(total_time)-parseInt(finish_time),baifenbi=parseFloat(finish_time/total_time);baifenbi=100*baifenbi.toFixed(2)+"%";for(var isRepeat=0,j=0;j<$scope.rqtjList.length;j++)$scope.rqtjList[j].pid==pid&&(isRepeat=1,$scope.rqtjList[j].baifenbi=baifenbi,$scope.rqtjList[j].finish_time=finish_time,$scope.rqtjList[j].total_time=total_time,$scope.rqtjList[j].shengyu_time=shengyu_time,$scope.rqtjList[j].now_term=now_term);0==isRepeat&&$scope.rqtjList.push({flag:1,pid:pid,pic:pic,price:price,baifenbi:baifenbi,finish_time:finish_time,total_time:total_time,shengyu_time:shengyu_time,ptitle:ptitle,now_term:now_term})}$ionicScrollDelegate.resize(),$scope.canLoadMore.code=$scope.canLoadMore.nowPageMore==pageCount||0>=recount?!1:!0}},$scope.indexRecord();var moveTimer,lastPos=0,moveFlag=!1,touchInter=null;$scope.pauseScroll=function(event){1==moveFlag&&(event.preventDefault(),event.stopPropagation(),moveFlag=!1,clearInterval(touchInter))},document.addEventListener("touchstart",touchStart,!1),document.addEventListener("touchmove",touchMove,!1),document.addEventListener("touchend",touchEnd,!1);var url=basePath+"getIndex.jsp";$mainServices.post(url,{t:5},!0).success(function(JSONObjRet){function getIndexPublic(){if($scope.prodjslist.length>0){for(var i=0;i<$scope.prodjslist.length;i++)$scope.jjjx[i].ptitle=$scope.prodjslist[i].ptitle,$scope.jjjx[i].pic=$mainServices.getHttpOrlocalProPic($scope.prodjslist[i].pic),$scope.jjjx[i].pterm_pub=$scope.prodjslist[i].pterm,$scope.jjjx[i].pid_pub=$scope.prodjslist[i].pid,$scope.jjjx[i].publictimelast=$mainServices.getTimeNo_0($scope.prodjslist[i].publictimelast),$scope.jjjx[i].nowtime=milliseconds,$scope.jjjx[i].ptype=$scope.prodjslist[i].ptype,$scope.jjjx[i].producturl="2"==$scope.jjjx[i].ptype?"newbieDetail?type=1":"newproductdetail?type=1";$ionicScrollDelegate.resize(),localStorage.setItem("indexAnnouncementData",JSON.stringify($scope.jjjx))}intervalCancel(),dfour.resolve()}function getIndexBanner(){if($scope.bannerList=[],bannerlist.length>=2){$scope.bannerListFlag=!0;for(var i=0;i<bannerlist.length;i++){var link=bannerlist[i].linkapp;$scope.bannerList.push({title:"",pic:"",link:link})}$timeout(function(){for(var j=0;j<bannerlist.length;j++){var pic=bannerlist[j].pic,title=bannerlist[j].title;$scope.bannerList[j].title=title,$scope.bannerList[j].pic=$mainServices.getHttpOrlocalProPic(pic)}$ionicSlideBoxDelegate.update(),$ionicScrollDelegate.resize()},500),localStorage.setItem("indexBannerData",JSON.stringify(bannerlist))}else $scope.bannerListFlag=!1
}var milliseconds=JSONObjRet.milliseconds,bannerlist=JSONObjRet.bannerlist;$scope.prodjslist=JSONObjRet.prodjslist;var profxpiclist=JSONObjRet.profxpiclist;getIndexPublic(),$scope.getIndexProTjSx("first"),getIndexBanner(),$scope.app_ewm=profxpiclist[0].content}),$scope.getIndexProTjSx=function(t,obj,val,idx){"undefined"!=typeof obj&&(obj=obj.toElement,3==val&&(obj=obj.parentNode));var isHide=!1;2==t&&(isHide=!0),"more"!=t?$scope.canLoadMore.nowPageMore=1:$scope.canLoadMore.nowPageMore++;var url=basePath+"getProduct.jsp",dataJson={toPage:$scope.canLoadMore.nowPageMore};if(2==t&&($scope.navFourLi=["","","",""],$scope.navFourLi[idx]="cur",$scope.arrowPx=3==val?""==$scope.arrowPx[0]?["imph",""]:["","imph"]:["",""],$scope.canLoadMore.code=!1),2==t){var px=val;3==px&&"imph"==$scope.arrowPx[1]&&(px=2),dataJson.px=px}else{for(var px,i=0;4>i;i++)if("cur"==$scope.navFourLi[i]){px=i;break}2==px?px=4:3==px&&"imph"==$scope.arrowPx[1]?px=2:1==px?px=0:0==px&&(px=1),dataJson.px=px}$mainServices.post(url,dataJson,isHide).success(function(JSONObjRet){("more"!=t||1==$scope.canLoadMore.nowPageMore)&&($scope.rqtjList=[]);var JSON_list=JSONObjRet.prolist,pageCount=parseInt(JSONObjRet.pageCount),recount=parseInt(JSONObjRet.recount);if($scope.canLoadMore.nowPageMore=parseInt(JSONObjRet.showPage),$scope.canLoadMore.code=!1,JSON_list.length>0){for(var i=0;i<JSON_list.length;i++){var pid=JSON_list[i].pid,pic=JSON_list[i].pic,price=JSON_list[i].price,total_time=JSON_list[i].total_time,finish_time=JSON_list[i].finish_time,now_term=JSON_list[i].now_term,ptitle=JSON_list[i].ptitle;pic=$mainServices.getHttpOrlocalProPic(pic);var shengyu_time=parseInt(total_time)-parseInt(finish_time),baifenbi=parseFloat(finish_time/total_time);baifenbi=100*baifenbi.toFixed(2)+"%";for(var isRepeat=0,j=0;j<$scope.rqtjList.length;j++)$scope.rqtjList[j].pid==pid&&(isRepeat=1,$scope.rqtjList[j].baifenbi=baifenbi,$scope.rqtjList[j].finish_time=finish_time,$scope.rqtjList[j].total_time=total_time,$scope.rqtjList[j].shengyu_time=shengyu_time,$scope.rqtjList[j].now_term=now_term);0==isRepeat&&$scope.rqtjList.push({flag:1,pid:pid,pic:pic,price:price,baifenbi:baifenbi,finish_time:finish_time,total_time:total_time,shengyu_time:shengyu_time,now_term:now_term,ptitle:ptitle})}("refresh"==t&&1==px||"first"==t||2==t&&1==px)&&localStorage.setItem("indexProListData",JSON.stringify(JSONObjRet))}$ionicScrollDelegate.resize(),$scope.canLoadMore.code=$scope.canLoadMore.nowPageMore==pageCount||0>=recount?!1:!0,"more"==t?$scope.$broadcast("scroll.infiniteScrollComplete"):"refresh"==t&&$scope.$broadcast("scroll.refreshComplete")})},$scope.buyRecord=function(){$factoryServices.checkLogin("#/index/index","#/index/log","#/index/buyRecord/0")},$scope.recharge=function(){$factoryServices.checkLogin("#/index/index","#/index/log","#/index/recharge")},$scope.sendIntegral=function(){$factoryServices.checkLogin("#/index/index","#/index/log","#/index/integral")},$scope.luckDraw=function(){$factoryServices.checkLogin("#/index/index","#/index/log","#/index/luckDraw")},$scope.getVoucher=function(){var u=localStorage.getItem("uid_local");null==u||""==u||"undefined"==typeof u?skip("#/index/log"):$mainServices.postNew("https://api.592huiyi.com/vouchers/selectFeedbackVoucher",{userID:u},!0).success(function(JSONObjRet){if("success"==JSONObjRet.ret){$("#huiyiDialog,#huiyiDialog .outter-dialog").show(),$rootScope.huiyiMessage=JSONObjRet.message,$rootScope.huiyiImgList=JSONObjRet.list,$rootScope.huiyiRule=JSONObjRet.rule,$rootScope.huiyiStatus=JSONObjRet.status;var ImgObj=new Image;ImgObj.src=JSONObjRet.list[JSONObjRet.list.length-1],ImgObj.onload=function(){var ih=parseInt($("#huiyiDialog").height()),gh=parseInt($("#huiyiDialog .outter-dialog").height());$("#huiyiDialog .outter-dialog").css("margin-top",(ih-gh)/2)}}else alert(JSONObjRet.message)})},$rootScope.goHuiyi=function(){$mainServices.iosBrowerPay("https://www.592huiyi.com/openHuiyi.html"),$rootScope.closeHuiyiDialog()},$rootScope.uploadHuiyi=function(){$mainServices.iosBrowerPay("https://www.592huiyi.com/app_download.html"),$rootScope.closeHuiyiDialog()},$scope.toTop=function(){$ionicScrollDelegate.scrollTop(0),$scope.showToTop=!1},$scope.bannerSkip=function(linkapp){"undefined"!=typeof linkapp&&null!=linkapp&&""!=linkapp&&(linkapp.indexOf("http://")<0&&linkapp.indexOf("https://")<0?/^\#.*$/g.test(linkapp)&&skip(linkapp):$mainServices.iosBrowerPay(linkapp))},$scope.share=function(){$scope.invitationCode=localStorage.getItem("invitationCode");var u=localStorage.getItem("uid_local");if(null!=u&&""!=u&&"undefined"!=typeof u){var url=basePath+"getUserYqm.jsp",dataJson={u:u};$mainServices.post(url,dataJson,!1).success(function(JSON_list){$scope.invitationCode=JSON_list.yqm,$mainServices.isNull($scope.invitationCode)?$scope.invitationCodeShow=!1:($scope.invitationCodeShow=!0,localStorage.setItem("invitationCode",$scope.invitationCode))})}else $scope.invitationCodeShow=!1;var myPopup=$ionicPopup.show({templateUrl:"templates/mine/shareTemplate.html",scope:$scope,title:"扫码下载一元行官方app",buttons:[{text:"关闭"}]});myPopup.then(function(){}),$scope.WeixinAppShare=function(type){$mainServices.WeixinAppShare(type,$scope.invitationCode),$timeout(function(){myPopup.close()},1e3)}},$scope.doRefresh=function(){getIndexPublicSx(!1),$scope.getIndexProTjSx("refresh"),getIndexBannerSx(!1),getShareSx(!1),0==$rootScope.checkFlag&&($rootScope.checkFlag=$factoryServices.hideOrShowAppContent(),$factoryServices.firstCheckLogin())},$scope.loadMore=function(){$scope.getIndexProTjSx("more")},$scope.tabPoint();var isFirst=1;$scope.$on("$stateChangeSuccess",function(){"/index/index"!=$location.path()&&($q.all([promisefour]).then(function(){$interval.cancel($scope.jjjx[0].daojishi),$interval.cancel($scope.jjjx[1].daojishi),$interval.cancel($scope.jjjx[2].daojishi),$interval.cancel($scope.jjjx[3].daojishi)}),$interval.cancel(timer),$scope.animateFlag=!0,document.removeEventListener("touchstart",touchStart,!1),document.removeEventListener("touchmove",touchMove,!1),document.removeEventListener("touchend",touchEnd,!1)),1==isFirst&&(isFirst=2,$scope.$on("$ionicView.beforeEnter",function(){intervalCancel(),getIndexPublicSx(!1),$scope.getIndexProTjSx("first"),getIndexBannerSx(!1),getShareSx(!1),$timeout(function(){$scope.animateFlag=!1,animate()},1e3),document.addEventListener("touchstart",touchStart,!1),document.addEventListener("touchmove",touchMove,!1),document.addEventListener("touchend",touchEnd,!1),0==$rootScope.checkFlag?($rootScope.checkFlag=UserService.hideOrShowAppContent(),$factoryServices.firstCheckLogin()):$factoryServices.getCardNum(),$scope.tabPoint(),base=$controller("baseController",{$scope:$scope});var uid_local=localStorage.getItem("uid_local");if(!$mainServices.isNull(uid_local)){var newbieArray=localStorage.getItem("newbieArray"),newbieFlag=!0;if(""!=newbieArray&&null!=newbieArray){newbieArray=JSON.parse(newbieArray);for(var i=0;i<newbieArray.length;i++)if(uid_local==newbieArray[i]){newbieFlag=!1;break}}else newbieArray=[];newbieFlag&&$mainServices.postNew(domain2+"orderDetailPeople/sprogJudge.do",{userID:uid_local,platform:2},!1).success(function(subRetJson){"success"==subRetJson.result?$timeout(function(){newbieArray.push(uid_local),localStorage.setItem("newbieArray",JSON.stringify(newbieArray)),$("#diaIntr,#diaIntr1").show();var getTop=$("#iconNewbie")[0].getBoundingClientRect().top;$("#diaIntr1").css($scope.width/709*300<getTop?{left:$("#iconNewbie")[0].getBoundingClientRect().left-25,top:getTop-2}:{left:$("#iconNewbie")[0].getBoundingClientRect().left-25,top:$scope.width/709*300-5+getTop-2})},1e3):newbieArray.push(uid_local)})}}))}),selectRecentFive("first"),$scope.arr=[];var timer,delta=0;$scope.gobalUrl="",$scope.animateFlag=!1,$scope.gobalLink=function(){""!=$scope.gobalUrl&&skip($scope.gobalUrl)};var lmW=$(".loop-m").width(),rolling=function(){delta-=2,$(".loop-m p").eq(0).css("left",delta),$(".loop-m p").eq(0).width()+delta<lmW&&($interval.cancel(timer),push())};$scope.addCart=function(pid,num,src,event,index){event.preventDefault();var u=localStorage.getItem("uid_local");if(null==u||""==u)return localStorage.setItem("backUrlLogin","#"+$ionicHistory.currentView().url),void $location.path("/"+$scope.host+"/log");(null==num||""==num||0==num)&&(num=1);var listAry=[{pid:pid,num:num,selected:1}],url=basePath+"getUserShoppingRecord.jsp",dataJson={platform:2,u:u,list:JSON.stringify(listAry)},flyer=angular.element('<img class="u-flyer" src="'+src+'">');event=event.toElement;var imgobj=angular.element(event).parent().parent().parent().find(".m-tj-pic img"),d1=$q.defer(),promise1=d1.promise,d2=$q.defer(),promise2=d2.promise;flyer.fly({start:{left:imgobj.offset().left,top:imgobj.offset().top},end:{left:$scope.left,top:$scope.top,width:0,height:0},onEnd:function(){this.destory(),d1.resolve()}}),(1==$scope.rqtjList[index].flag||"1"==$scope.rqtjList[index].flag)&&$mainServices.post(url,dataJson,!1).success(function(jsonObj){if(null!=jsonObj&&void 0!=jsonObj||""!=jsonObj)if("ok"!=jsonObj.judge)alert("操作失败，请稍后重试"),d2.reject();else{$scope.rqtjList[index].flag=2;var u=localStorage.getItem("uid_local");if(null!=u&&""!=u){var dataJson={u:u},url=basePath+"getCartNum.jsp";$mainServices.post(url,dataJson,!1).success(function(num){var reg=/^[0-9]*$/;reg.test(num)||d2.resolve(num)})}}else d2.reject()}),$q.all([promise1,promise2]).then(function(v){$rootScope.cartNumber=0==v[1]?0:v[1]})}}return ctrl.$inject=["$scope","$mainServices","$factoryServices","$controller","$ionicSlideBoxDelegate","$timeout","$interval","$ionicScrollDelegate","$ionicPopup","$ionicHistory","$location","$q","$rootScope","$ionicTabsDelegate","$ionicActionSheet"],ctrl}),define("rechargeController",[],function(){function ctrl($scope,$controller,$mainServices,$rootScope,$ionicTabsDelegate,$timeout){$scope.getPayList=[],$scope.wxzz=!0,$scope.user={balance:"",summoney:""};var u=($controller("baseController",{$scope:$scope}),localStorage.getItem("uid_local"));if($mainServices.isNull(u))return void alert("请先登录。");var url_user=basePath+"getUser.jsp",dataJson_user={t:14,u:u};$mainServices.post(url_user,dataJson_user,!0).success(function(JSON_list_user){var balance="";JSON_list_user.length>0&&(balance=JSON_list_user[0].balance+""),$scope.user.balance=balance}),window.setAppVersion=function(str1,str2){null==str1&&(str1=""),null==str2&&(str2="");var url=basePath+"getPayMode.jsp";$mainServices.post(url,{sysVersion:str1,resVersion:str2,platform:$mainServices.flagPlatform(),type:"recharge",u:localStorage.getItem("uid_local")},!0).success(function(dataJson){if(!$mainServices.isNull(dataJson))for(var len=dataJson.mode.length,i=0;len>i;i++)isiOS?"0"!=dataJson.mode[i].show&&$scope.getPayList.push(dataJson.mode[i]):isAndroid&&"1"!=dataJson.mode[i].show&&$scope.getPayList.push(dataJson.mode[i])})},$mainServices.getAppVersion(),$scope.exchange=function(obj){"undefined"!=typeof obj&&(obj=obj.toElement),$(obj).addClass("cur").siblings().removeClass("cur"),$scope.user.summoney=""},$scope.focusInput=function(obj){"undefined"!=typeof obj&&(obj=obj.srcElement),$(obj).parent().addClass("cur").siblings().removeClass("cur")},$scope.changePayStyle=function(val){"4"==val?($scope.wxzz=!1,0==$(".radios div.cur").length&&($scope.user.summoney="")):$scope.wxzz=!0},$scope.subBtn=function(){if($mainServices.isNull(u))return void alert("请先登录。");var summoney=0,summoneyText=$scope.user.summoney;if($(".radios div.cur").length>0){var index=$(".radios div.cur").index();if(4!=index)summoney=$(".radios div.cur").attr("data-val");else{if(""==summoneyText||$mainServices.isNull(summoneyText)||parseFloat(summoneyText)<1||!$mainServices.yzNumber(summoneyText))return void alert("请选择或输入正确的充值金额。");summoney=summoneyText}}if(""==summoney||0==summoney)return void alert("请选择或输入充值金额。");var paystyle=$("[name='paystyle']:checked").val();if("undefined"==typeof paystyle||null==paystyle||""==paystyle)return void alert("请选择支付方式。");var html_loading="<div class='onLoadingDiv-class' id='onLoadingDiv'><div id='loadingBg'><div id='loadingtext' class='zjz'><p>数据提交中...</p></div></div></div>";$("html").append(html_loading),$timeout(function(){var url=basePath+"rechargeForm.jsp",dataJson={u:u,paystyle:paystyle,summoney:summoney,platform:$mainServices.flagPlatform()};$mainServices.post(url,dataJson,!0).success(function(dataJsonRet){var code=dataJsonRet.code;if($(".onLoadingDiv-class").remove(),200==code){var onumber_db=dataJsonRet.onumber,paystyle_db=(dataJsonRet.paymoney,dataJsonRet.paystyle),skipUrl_db=dataJsonRet.redirectUrl;if(localStorage.setItem("local-o",onumber_db),""!=paystyle_db)if(""!=skipUrl_db)$mainServices.iosBrowerPay(skipUrl_db),setTimeout(function(){showTankuang("是否完成支付？"),$("#querenBtnRollback").attr("id","querenBtnRollback222"),$("#querenBtnRollback222").attr("onclick","closeTankuang();skip('#/"+$scope.host+"/payFinish')")},2e3);else{var isNativePay=$("[name='paystyle']:checked").attr("attr-type");if(1==isNativePay||"1"==isNativePay){if(9==paystyle_db||"9"==paystyle_db)var signDataStr="merchant="+dataJsonRet.merchant+"&orderId="+dataJsonRet.orderId+"&key=pDvdkozMmDiwKvxz3KejPjip1OgWlyRI",signData=hex_md5(signDataStr).toLowerCase(),content=JSON.stringify({orderId:dataJsonRet.orderId,appId:dataJsonRet.appId,signData:signData,merchant:dataJsonRet.merchant});else if(10==paystyle_db||"10"==paystyle_db)var content=dataJsonRet.token_id;setTimeout(function(){showTankuang("是否完成支付？"),$("#querenBtnRollback").attr("id","querenBtnRollback222"),$("#querenBtnRollback222").attr("onclick","closeTankuang();skip('#/"+$scope.host+"/payFinish')")},3e3),$mainServices.nativePay(paystyle_db,content)}else alert(dataJsonRet.message)}else alert("提交失败。")}else alert(dataJsonRet.message)}).error(function(){$(".onLoadingDiv-class").remove(),alert("数据提交失败，请重新充值！")})},1e3)}}return ctrl.$inject=["$scope","$controller","$mainServices","$rootScope","$ionicTabsDelegate","$timeout"],ctrl}),define("guideController",[],function(){function ctrl($scope,$controller,$mainServices){$scope.myVal="";var url=($controller("baseController",{$scope:$scope}),basePath+"getRule.jsp"),dataJson={type:1};$mainServices.post(url,dataJson,!0).success(function(jsonObj){null!=jsonObj&&($scope.myVal=jsonObj.rule)})}return ctrl.$inject=["$scope","$controller","$mainServices","$rootScope","$ionicTabsDelegate","$timeout"],ctrl}),define("integralController",[],function(){function ctrl($scope,$controller,$mainServices,$timeout,$q,$ionicScrollDelegate,$rootScope,$ionicTabsDelegate){function playGame(){angular.element(".tb .tb-btn").addClass("btn-gray"),playFlag=!1,$mainServices.postNew(domain2+"sign/signAction.do",{userID:u},!1).success(function(JSONObjRet){result=JSONObjRet.data,"success"==JSONObjRet.ret?(cycle=0,flag=!1,EndIndex=Math.floor(8*Math.random()+1),EndCycle=1,d1=$q.defer(),promise1=d1.promise,d2=$q.defer(),promise2=d2.promise,Time=setInterval(Star,Speed),setTimeout(function(){flag=!0,pnum=dealNumber(JSONObjRet.data.sortNo)},3e3),$mainServices.postNew(domain2+"sign/signCallBack.do",{userID:u},!1).success(function(JSONObjRet){"success"==JSONObjRet.ret?d2.resolve(JSONObjRet):(alert("请求失败，请重新请求"),d2.reject())}),$q.all([promise1,promise2]).then(function(v){var JSONObjRet=v[1];$scope.signInfo.signCount=JSONObjRet.data.signCount,$scope.signInfo.continuationCount=JSONObjRet.data.continuationCount,$scope.signInfo.amount=JSONObjRet.data.amount,$scope.signInfo.integral=JSONObjRet.integral,angular.element(".tb .tb-btn p").html("已打卡"),$scope.diaResult=!0,$scope.dia=0==result.integration?{signCount:JSONObjRet.data.signCount,integration:result.integration,flag:0}:{signCount:JSONObjRet.data.signCount,integration:result.integration,flag:1},$timeout(function(){$("#signResult").css("top",(parseInt(window.screen.availHeight)-$("#signResult").height())/2)})})):(angular.element(".tb .tb-btn").removeClass("btn-gray"),playFlag=!1,alert("请求失败，请重新请求"))})}function Star(){0==flag&&(5==quick&&(clearInterval(Time),Speed=50,Time=setInterval(Star,Speed)),cycle==EndCycle+1&&index==EndIndex&&(clearInterval(Time),Speed=300,Time=setInterval(Star,Speed))),index>=arr.length&&(index=0,cycle++),1==flag&&index==parseInt(pnum-1)&&(quick=0,clearInterval(Time),d1.resolve()),$(tb.rows[arr[index][0]].cells[arr[index][1]]).addClass("add"),prevIndex=index>0?index-1:arr.length-1,$(tb.rows[arr[prevIndex][0]].cells[arr[prevIndex][1]]).removeClass("add"),index++,quick++}function getSide(m,n){for(var arr=[],i=0;m>i;i++){arr.push([]);for(var j=0;n>j;j++)arr[i][j]=i*n+j}for(var resultArr=[],tempX=0,tempY=0,direction="Along",count=0;tempX>=0&&n>tempX&&tempY>=0&&m>tempY&&m*n>count;)if(count++,resultArr.push([tempY,tempX]),"Along"==direction)tempX==n-1?tempY++:tempX++,tempX==n-1&&tempY==m-1&&(direction="Inverse");else if(0==tempX?tempY--:tempX--,0==tempX&&0==tempY)break;return resultArr}function dealNumber(count){return count=parseInt(count),1==count?count=5:2==count?count=6:3==count?count=7:5==count?count=8:count>5&&(count=9-count),count}$scope.signInfo={signCount:0,continuationCount:0,amount:0,summony:0,integration:0,integral:0,url:""},$scope.diaResult=!1,$scope.dia={signCount:0,integration:0,flag:0},$scope.myText="";var Time,pnum,result=($controller("baseController",{$scope:$scope}),{}),index=0,prevIndex=0,Speed=300,arr=getSide(3,3),EndIndex=0,tb=$(".tb")[0],cycle=0,EndCycle=0,flag=!1,quick=0,playFlag=!0,getFlag=!0,u=localStorage.getItem("uid_local");$mainServices.postNew(domain2+"sign/welcome.do",{userID:u},!0).success(function(JSONObjRet){if("success"==JSONObjRet.ret){for(var str="",len=JSONObjRet.data.signIntegrationInfo.length,num=-1,i=0;len>i;i++){var j=7-i;num++,num%3==0?(str+=0==i?"<tr>":"</tr><tr>",str+='<td><img class="init-show" src="'+domain2+JSONObjRet.data.signIntegrationInfo[j].img+'"/><img class="load-show" src="'+domain2+JSONObjRet.data.signIntegrationInfo[j].imgSelected+'"/><p>'+JSONObjRet.data.signIntegrationInfo[j].name+"</p></td>"):(4==i&&(1==JSONObjRet.signStatus?(str+='<td class="tb-btn btn-gray">已打卡</td>',playFlag=!1):(str+='<td class="tb-btn" ng-click="play()">点我打卡</td>',playFlag=!0),num++),str+='<td><img class="init-show" src="'+domain2+JSONObjRet.data.signIntegrationInfo[j].img+'"/><img class="load-show" src="'+domain2+JSONObjRet.data.signIntegrationInfo[j].imgSelected+'"/><p>'+JSONObjRet.data.signIntegrationInfo[j].name+"</p></td>")}$scope.myText=str,""!=JSONObjRet.data.signInfo&&($scope.signInfo.signCount=JSONObjRet.data.signInfo.signCount,$scope.signInfo.continuationCount=JSONObjRet.data.signInfo.continuationCount,$scope.signInfo.amount=JSONObjRet.data.signInfo.amount),$scope.signInfo.integral=JSONObjRet.integral,$ionicScrollDelegate.resize(),$mainServices.postNew(domain2+"signRecord/signRecordAction.do",{userID:u},!0).success(function(JSONObjRet){"success"==JSONObjRet.ret?($scope.signInfo.summony=JSONObjRet.data.summony,""!=JSONObjRet.data.imgsrc&&null!=JSONObjRet.data.imgsrc&&($scope.signInfo.url=domain2+JSONObjRet.data.imgsrc,angular.element(".img-voucher img").css("width","100%")),1==JSONObjRet.data.isok?($scope.signInfo.integration=JSONObjRet.data.integration,angular.element("#updateFont").html("已"),getFlag=!1):2==JSONObjRet.data.isok?(angular.element("#isGetJf").html(JSONObjRet.data.message),getFlag=!1):($scope.signInfo.integration=JSONObjRet.data.integration,getFlag=!0),$ionicScrollDelegate.resize()):alert("请求失败，请重新刷新页面")})}else alert("请求失败，请重新刷新页面")}),$scope.$on("$destroy",function(){$scope.diaResult=!1}),$scope.goIndex=function(){$rootScope.hideTabs="",$ionicTabsDelegate.select(0)},$scope.closeTankuang=function(){$scope.diaResult=!1},$scope.play=function(){1==playFlag&&playGame()};var d1,promise1,d2,promise2;$scope.clickRece=function(){1==getFlag&&(getFlag=!1,$mainServices.postNew(domain2+"signRecord/pullSignAction.do",{userID:u},!1).success(function(JSONObjRet){"success"==JSONObjRet.ret?"success"==JSONObjRet.data.message?(alert("领取成功！"),angular.element("#updateFont").html("已"),angular.element(".img-voucher img").attr("src",domain2+JSONObjRet.data.imgSrc)):alert("当月已领取，请下月再来。"):(getFlag=!0,alert("请求失败，请重新领取！"))}))}}return ctrl.$inject=["$scope","$controller","$mainServices","$timeout","$q","$ionicScrollDelegate","$rootScope","$ionicTabsDelegate"],ctrl}),define("buyRecordController",[],function(){function ctrl($scope,$controller,$mainServices,$ionicScrollDelegate,$ionicPopup,$timeout){$scope.isbuyOnRecordShow=!0,$scope.isbuyAnnouncedShow=!0,$scope.myOnText="",$scope.myAnnouncedText="",$scope.tab=[{tabClass:"czmx",isShow:!0},{tabClass:"",isShow:!1}],$scope.canLoadMoreOn={code:!1,nowPageMore:0},$scope.canLoadMoreAnnounced={code:!1,nowPageMore:0},$scope.shareArr=[];var gIndex,u=($controller("baseController",{$scope:$scope}),localStorage.getItem("uid_local")),buyRecordType=localStorage.getItem("buyRecordType");null==buyRecordType&&(localStorage.setItem("buyRecordType",1),buyRecordType="1"),window.shareCallBackFn=function(type){var url_share=domain2+"shareRecord/insertShareRecord.do",dataJson_share={productId:$scope.shareArr[gIndex].pid,productTerm:$scope.shareArr[gIndex].pterm,userId:u,productName:$scope.shareArr[gIndex].pname,platform:2,shareResource:type};showTankuangOneBtn("分享成功！"),$("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove()}),$mainServices.postNew(url_share,dataJson_share,!1).success(function(){})},$scope.tabAc=function(t){0==t?($scope.tab=[{tabClass:"czmx",isShow:!0},{tabClass:"",isShow:!1}],localStorage.setItem("buyRecordType",1),$scope.myOnText="",$scope.canLoadMoreOn={code:!1,nowPageMore:0},$scope.getBuyOnRecord("first")):1==t&&($scope.tab=[{tabClass:"",isShow:!1},{tabClass:"czmx",isShow:!0}],localStorage.setItem("buyRecordType",2),$scope.myAnnouncedText="",$scope.canLoadMoreAnnounced={code:!1,nowPageMore:0},$scope.getAnnouncedRecord("first"))},$scope.setAdd=function(pid,pterm,source){skip("1"==source||1==source?"#/"+$scope.host+"/userVirtualAddrSubmit/"+pid+"/"+pterm:"#/"+$scope.host+"/userAddressSel/"+pid+"/"+pterm)},$scope.setHuigou=function(pid,pterm,radid){showTankuang("确认转让吗，操作后不可更改。"),$("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove();var u=localStorage.getItem("uid_local"),url=basePath+"setHuigou.jsp",dataJson={pid:pid,pterm:pterm,u:u,platform:2};$mainServices.post(url,dataJson,!0).success(function(JSONObjRet){var code=JSONObjRet.code,message=JSONObjRet.message;alert(message),200==code&&$("#"+radid).find("a:lt(2)").remove()})})},$scope.setShaidan=function(pid,pterm){skip("#/"+$scope.host+"/shaidan?pid="+pid+"&pterm="+pterm)},$scope.seeLogistics=function(pid,pterm){skip("#/"+$scope.host+"/logistics/"+pid+"/"+pterm)},$scope.setShouhuo=function(pid,pterm,radid){showTankuang("确认收货吗，操作后不可更改。"),$("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove();var u=localStorage.getItem("uid_local"),url=basePath+"setShouhuo.jsp",dataJson={pid:pid,pterm:pterm,u:u,platform:2};$mainServices.post(url,dataJson,!0).success(function(JSONObjRet){var code=JSONObjRet.code,message=JSONObjRet.message;alert(message),200==code&&$("#"+radid).find("a").eq(0).remove()})})},$scope.share=function(index){var myPopup=$ionicPopup.show({templateUrl:"templates/mine/shareGoodsTemplate.html",scope:$scope,title:"分享给好友",buttons:[{text:"关闭"}]});myPopup.then(function(){}),$scope.WeixinAppShare=function(type){gIndex=index,$mainServices.goodsWeixinShare(type,JSON.stringify($scope.shareArr[index])),$timeout(function(){myPopup.close()},1e3)}},$scope.getBuyOnRecord=function(more){var nowPageMore=$scope.canLoadMoreOn.nowPageMore;"more"!=more?(nowPageMore=1,$scope.myOnText=""):nowPageMore++;var isHide=!1;"first"==more&&(isHide=!0);var url=basePath+"accountPeopleDetail.jsp",dataJson={toPage:nowPageMore,u:u,type:0};$mainServices.post(url,dataJson,isHide).success(function(JSONObjRet){var JSON_list=JSONObjRet.odlist,pageCount=parseInt(JSONObjRet.pageCount),recount=parseInt(JSONObjRet.recount),showPage=parseInt(JSONObjRet.showPage);if($scope.canLoadMoreOn.nowPageMore=showPage,0>=recount?($scope.isbuyOnRecordShow=!1,$scope.canLoadMoreOn.code=!1):$scope.isbuyOnRecordShow=!0,JSON_list.length>0)for(var i=0;i<JSON_list.length;i++){var pid=JSON_list[i].pid,pterm=JSON_list[i].pterm,renci=JSON_list[i].renci,publictime=JSON_list[i].publictime,total_time=(JSON_list[i].now_term,JSON_list[i].total_time),finish_time=JSON_list[i].finish_time,ptitle=JSON_list[i].ptitle,price=JSON_list[i].price,pic=JSON_list[i].pic;pic=$mainServices.getHttpOrlocalProPic(pic);var shengyu_time=parseInt(total_time)-parseInt(finish_time),baifenbi=parseFloat(finish_time/total_time);if(baifenbi=100*baifenbi.toFixed(2)+"%",ptitle="(第"+pterm+"期)"+ptitle,""==publictime){var tmp='<div class="borderbottom1 shadowless pad0 disable-user-behavior"> <a href="javascript:skip(\'#/'+$scope.host+"/buyRecordDetail/"+pid+"/"+pterm+'\')"><div class="gmjl"><div style="float:left;position:relative"> <img class="imgwh" src="'+pic+'" /><p style="left:0;bottom:0;border-radius:0 0 5px 5px" class="yjx">未揭晓</p></div><div class="gmjl_jt"><p class="ellipsis2"><em style="font-size:14px" class="xbt">'+ptitle+'</em></p><div class="pRate"><div class="Progress-bar"><p class="jz">价值：￥'+price+'</p><p style="margin-bottom:0;line-height:20px;color:#9b9b9b;">您已参与：<em class="ng-binding">'+renci+'人次</em></p><p class="u-progress"><span class="pgbar" style="width:'+baifenbi+';"><span class="pging"></span></span></p><ul class="Pro-bar-li"><li class="P-bar01"><em>'+finish_time+'</em>已参与</li><li class="P-bar02"><em>'+total_time+'</em>总需人次</li><li class="P-bar03"><em>'+shengyu_time+"</em>剩余</li></ul></div></div></div></div></a> </div>";$scope.myOnText+=tmp}}$ionicScrollDelegate.resize(),$scope.canLoadMoreOn.code=showPage>=pageCount||0>=recount?!1:!0,"more"==more?$scope.$broadcast("scroll.infiniteScrollComplete"):"first"!=more&&$scope.$broadcast("scroll.refreshComplete")})},$scope.getAnnouncedRecord=function(more){var nowPageMore=$scope.canLoadMoreAnnounced.nowPageMore;"more"!=more?(nowPageMore=1,$scope.myAnnouncedText=""):nowPageMore++;var isHide=!1;"first"==more&&(isHide=!0);var url=basePath+"accountPeopleDetail.jsp",dataJson={toPage:nowPageMore,u:u,type:1};$mainServices.post(url,dataJson,isHide).success(function(JSONObjRet){var JSON_list=JSONObjRet.odlist,pageCount=parseInt(JSONObjRet.pageCount),recount=parseInt(JSONObjRet.recount),showPage=parseInt(JSONObjRet.showPage);if($scope.canLoadMoreAnnounced.nowPageMore=showPage,0>=recount?($scope.isbuyAnnouncedShow=!1,$scope.canLoadMoreAnnounced.code=!1):$scope.isbuyAnnouncedShow=!0,JSON_list.length>0)for(var i=0;i<JSON_list.length;i++){var pid=JSON_list[i].pid,pterm=JSON_list[i].pterm,renci=JSON_list[i].renci,publictime=JSON_list[i].publictime,total_time=(JSON_list[i].now_term,JSON_list[i].total_time),finish_time=JSON_list[i].finish_time,ptitle=JSON_list[i].ptitle,price=JSON_list[i].price,pic=JSON_list[i].pic;pic=$mainServices.getHttpOrlocalProPic(pic);var baifenbi=(parseInt(total_time)-parseInt(finish_time),parseFloat(finish_time/total_time));baifenbi=100*baifenbi.toFixed(2)+"%";var totitle=ptitle;ptitle="(第"+pterm+"期)"+ptitle;var nickname_huodezhe=(JSON_list[i].winnerid,JSON_list[i].winnernickname),winnerusername=JSON_list[i].winnerusername;""==nickname_huodezhe&&(nickname_huodezhe=$mainServices.substringPhone(winnerusername));var iswinnerid=JSON_list[i].iswinnerid;if(null!=publictime&&""!=publictime){var publicParse=new Date(Date.parse($mainServices.getTimeNo_0(publictime).replace(/-/g,"/"))),pubTime=Date.UTC(publicParse.getFullYear(),publicParse.getMonth(),publicParse.getDate(),publicParse.getHours(),publicParse.getMinutes(),publicParse.getSeconds())-288e5,nowTime=JSONObjRet.presentTime;if(pubTime>nowTime){var tmp='<div class="borderbottom1 shadowless pad0  disable-user-behavior"><a href="javascript:skip(\'#/'+$scope.host+"/buyRecordDetail/"+pid+"/"+pterm+'\')"><div class="gmjl"><div style="float:left;position:relative"> <img class="imgwh" src="'+pic+'" /><p style="left:0;bottom:0;border-radius:0 0 5px 5px"  class="yjx">正在揭晓</p></div><div class="gmjl_jt"><p class="ellipsis2"><em style="font-size:14px" class="xbt">'+ptitle+'</em></p><div class="pRate"><div class="Progress-bar"><p class="jz">价值：￥'+price+'</p><p style="margin-bottom: 0;line-height:20px;color:#9b9b9b;">您已参与：<em class="ng-binding">'+renci+'人次</em></p><p class="u-progress"><span class="pgbar" style="width:100%;"><span class="pging"></span></span></p><ul class="Pro-bar-li"><li class="P-bar01"><em>'+total_time+'</em>已参与</li><li class="P-bar02"><em>'+total_time+'</em>总需人次</li><li class="P-bar03"><em>0</em>剩余</li></ul></div></div></div></div></a></div>';$scope.myAnnouncedText+=tmp}else{var luckynumber=JSON_list[i].luckynumber,tmp3='<div class="borderbottom1 shadowless pad0  disable-user-behavior"><a href="javascript:skip(\'#/'+$scope.host+"/buyRecordDetail/"+pid+"/"+pterm+'\')"><div class="gmjl"><div style="float:left;position:relative"> <img class="imgwh" src="'+pic+'" /><p style="left:0;bottom:0;border-radius:0 0 5px 5px"  class="yjx">已揭晓</p></div><div class="gmjl_jt"><p class="ellipsis2"><em style="font-size:14px" class="xbt">'+ptitle+'</em></p><div style="color:#666666; font-size:12px;"><p style="margin-bottom: 0;line-height:20px">您已参与：<em class="ng-binding">'+renci+"人次</em></p>";if(""!=nickname_huodezhe&&(tmp3+='<p style="margin-bottom: 0;line-height:20px">获得者：<em class="ng-binding hdz">'+nickname_huodezhe+"</em></p>"),""!=luckynumber&&(tmp3+='<p style="margin-bottom: 0;line-height:20px">幸运元行码：<em class="ng-binding hdz">'+luckynumber+"</em></p>"),tmp3+='<p style="margin-bottom: 0;line-height:20px">揭晓时间：<em class="ng-binding">'+$mainServices.getTimeNo_0(publictime)+"</em></p></div></div></div></a>","1"==iswinnerid){var ostatus=JSON_list[i].ostatus,addressstatus=JSON_list[i].addressstatus,share_status=JSON_list[i].share_status,logisticsStatus=JSON_list[i].logisticsStatus,source=JSON_list[i].source;$scope.shareArr.push({pid:pid,pterm:pterm,u:u,num:renci,pname:totitle,pic:pic});var ranid="win_"+pid+"_"+pterm+"_"+parseInt(100*Math.random()),linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setAdd('+pid+","+pterm+","+source+')">确认发货</a><a ng-click="setHuigou('+pid+","+pterm+",'"+ranid+'\')">转让</a><a ng-click="setShaidan('+pid+","+pterm+')">去晒单</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>';"1"==share_status&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setAdd('+pid+","+pterm+","+source+')">确认发货</a><a ng-click="setHuigou('+pid+","+pterm+",'"+ranid+'\')">转让</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>'),"3"==ostatus&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShaidan('+pid+","+pterm+')">去晒单</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>',"1"==share_status&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>')),"1"==addressstatus&&("1"==ostatus&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShaidan('+pid+","+pterm+')">去晒单</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>',"1"==share_status&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>')),"2"==ostatus&&("0"==logisticsStatus?(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShouhuo('+pid+","+pterm+",'"+ranid+'\')">确认收货</a><a ng-click="setShaidan('+pid+","+pterm+')">去晒单</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>',"1"==share_status&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShouhuo('+pid+","+pterm+",'"+ranid+'\')">确认收货</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>')):(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShouhuo('+pid+","+pterm+",'"+ranid+'\')">确认收货</a><a ng-click="setShaidan('+pid+","+pterm+')">去晒单</a><a ng-click="seeLogistics('+pid+","+pterm+')">查看物流</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>',"1"==share_status&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShouhuo('+pid+","+pterm+",'"+ranid+'\')">确认收货</a><a ng-click="seeLogistics('+pid+","+pterm+')">查看物流</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>'))),"4"==ostatus&&("0"==logisticsStatus?(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShaidan('+pid+","+pterm+')">去晒单</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>',"1"==share_status&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>')):(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShaidan('+pid+","+pterm+')">去晒单</a><a ng-click="seeLogistics('+pid+","+pterm+')">查看物流</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>',"1"==share_status&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="seeLogistics('+pid+","+pterm+')">查看物流</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>')))),tmp3+=linkStr
}tmp3+=" </div>",$scope.myAnnouncedText+=tmp3}}}$ionicScrollDelegate.resize(),$scope.canLoadMoreAnnounced.code=showPage>=pageCount||0>=recount?!1:!0,"more"==more?$scope.$broadcast("scroll.infiniteScrollComplete"):"first"!=more&&$scope.$broadcast("scroll.refreshComplete")})},"1"==buyRecordType?($scope.tab=[{tabClass:"czmx",isShow:!0},{tabClass:"",isShow:!1}],$scope.getBuyOnRecord("first")):($scope.tab=[{tabClass:"",isShow:!1},{tabClass:"czmx",isShow:!0}],$scope.getAnnouncedRecord("first")),$scope.loadOnMore=function(){$scope.getBuyOnRecord("more")},$scope.loadAnnouncedMore=function(){$scope.getAnnouncedRecord("more")},$scope.doRefresh=function(){var buyRecordType=localStorage.getItem("buyRecordType");1==buyRecordType||"1"==buyRecordType?$scope.getBuyOnRecord("refresh"):$scope.getAnnouncedRecord("refresh")}}return ctrl.$inject=["$scope","$controller","$mainServices","$ionicScrollDelegate","$ionicPopup","$timeout","$stateParams"],ctrl}),define("buyRecordTwoController",[],function(){function ctrl($scope,$controller,$mainServices,$ionicScrollDelegate,$ionicPopup,$timeout){function getBuyRecord(more){var nowPageMore=$scope.canLoadMore.nowPageMore;"more"!=more?(nowPageMore=1,$scope.myText=""):nowPageMore++;var isHide=!1;"first"==more&&(isHide=!0);var url=basePath+"buyRecord.jsp",dataJson={toPage:nowPageMore,u:u,hd:hd};$mainServices.post(url,dataJson,isHide).success(function(JSONObjRet){var JSON_list=JSONObjRet.odlist,pageCount=parseInt(JSONObjRet.pageCount),recount=parseInt(JSONObjRet.recount),showPage=parseInt(JSONObjRet.showPage);$scope.canLoadMore.nowPageMore=showPage;var num=0;if(0>=recount?($scope.isbuyRecordShow=!1,$scope.canLoadMore.code=!1):$scope.isbuyRecordShow=!0,JSON_list.length>0)for(var i=0;i<JSON_list.length;i++){var pid=JSON_list[i].pid,pterm=JSON_list[i].pterm,renci=JSON_list[i].renci,publictime=JSON_list[i].publictime,nickname_huodezhe=(JSON_list[i].winnerid,JSON_list[i].winnernickname),winnerusername=JSON_list[i].winnerusername;""==nickname_huodezhe&&(nickname_huodezhe=$mainServices.substringPhone(winnerusername));var total_time=(JSON_list[i].now_term,JSON_list[i].total_time),finish_time=JSON_list[i].finish_time,ptitle=JSON_list[i].ptitle,totitle=ptitle,price=JSON_list[i].price,pic=JSON_list[i].pic;pic=$mainServices.getHttpOrlocalProPic(pic);var shengyu_time=parseInt(total_time)-parseInt(finish_time),baifenbi=parseFloat(finish_time/total_time);baifenbi=100*baifenbi.toFixed(2)+"%",ptitle="(第"+pterm+"期)"+$mainServices.subStringTitle(ptitle,20);var iswinnerid=JSON_list[i].iswinnerid;if(null!=publictime&&""!=publictime){var publicParse=new Date(Date.parse($mainServices.getTimeNo_0(publictime).replace(/-/g,"/"))),pubTime=Date.UTC(publicParse.getFullYear(),publicParse.getMonth(),publicParse.getDate(),publicParse.getHours(),publicParse.getMinutes(),publicParse.getSeconds())-288e5,nowTime=JSONObjRet.presentTime;if(pubTime>nowTime){var tmp2='<div class="borderbottom1 shadowless pad0  disable-user-behavior"> <a href="javascript:skip(\'#/'+$scope.host+"/buyRecordDetail/"+pid+"/"+pterm+'\')"><div class="gmjl"><div style="float:left;position:relative"> <img class="imgwh" src="'+pic+'" /><p style="left:0;bottom:0;border-radius:0 0 5px 5px"  class="yjx">正在揭晓</p></div><div class="gmjl_jt"><p class="orange1"><em class="fontsize16 ng-binding xbt">'+ptitle+'</em></p><div class="pRate"><div class="Progress-bar" id="29422"><p class="jz">价值：￥'+price+'</p><p style="margin-bottom: 0;line-height:20px;color:#9b9b9b;">您已参与：<em class="ng-binding">'+renci+'人次</em></p><p class="u-progress"><span class="pgbar" style="width:100%;"><span class="pging"></span></span></p><ul class="Pro-bar-li"><li class="P-bar01"><em>'+total_time+'</em>已参与</li><li class="P-bar02"><em>'+total_time+'</em>总需人次</li><li class="P-bar03"><em>0</em>剩余</li></ul></div><a class="add " codeid="29422" href="javascript:;"><s></s></a></div></div></div></a> </div>';if("1"==hd)continue;$scope.myText+=tmp2}else{var tmp3='<div class="borderbottom1 shadowless pad0  disable-user-behavior"> <a href="javascript:skip(\'#/'+$scope.host+"/buyRecordDetail/"+pid+"/"+pterm+'\')"><div class="gmjl"><div style="float:left;position:relative"> <img class="imgwh" src="'+pic+'" /><p style="left:0;bottom:0;border-radius:0 0 5px 5px"  class="yjx">已揭晓</p></div><div class="gmjl_jt"><p class="orange1"><em class="fontsize16 ng-binding xbt">'+ptitle+'</em></p><div style="color:#666666; font-size:12px;"><p style="margin-bottom: 0;line-height:20px">您已参与：<em class="ng-binding">'+renci+'人次</em></p><p style="margin-bottom: 0;line-height:20px">获得者：<em class="ng-binding hdz">'+nickname_huodezhe+'</em></p><p style="margin-bottom: 0;line-height:20px">揭晓时间：<em class="ng-binding">'+$mainServices.getTimeNo_0(publictime)+"</em></p></div></div></div></a>";if("1"==iswinnerid){var ostatus=JSON_list[i].ostatus,addressstatus=JSON_list[i].addressstatus,share_status=JSON_list[i].share_status,logisticsStatus=JSON_list[i].logisticsStatus,source=JSON_list[i].source;$scope.shareArr.push({pid:pid,pterm:pterm,u:u,num:renci,pname:totitle,pic:pic});var ranid="win_"+pid+"_"+pterm+"_"+parseInt(100*Math.random()),linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setAdd('+pid+","+pterm+","+source+')">确认发货</a><a ng-click="setHuigou('+pid+","+pterm+",'"+ranid+'\')">转让</a><a ng-click="setShaidan('+pid+","+pterm+')">去晒单</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>';"1"==share_status&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setAdd('+pid+","+pterm+","+source+')">确认发货</a><a ng-click="setHuigou('+pid+","+pterm+",'"+ranid+'\')">转让</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>'),"3"==ostatus&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShaidan('+pid+","+pterm+')">去晒单</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>',"1"==share_status&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>')),"1"==addressstatus&&("1"==ostatus&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShaidan('+pid+","+pterm+')">去晒单</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>',"1"==share_status&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>')),"2"==ostatus&&("0"==logisticsStatus?(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShouhuo('+pid+","+pterm+",'"+ranid+'\')">确认收货</a><a ng-click="setShaidan('+pid+","+pterm+')">去晒单</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>',"1"==share_status&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShouhuo('+pid+","+pterm+",'"+ranid+'\')">确认收货</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>')):(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShouhuo('+pid+","+pterm+",'"+ranid+'\')">确认收货</a><a ng-click="setShaidan('+pid+","+pterm+')">去晒单</a><a ng-click="seeLogistics('+pid+","+pterm+')">查看物流</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>',"1"==share_status&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShouhuo('+pid+","+pterm+",'"+ranid+'\')">确认收货</a><a ng-click="seeLogistics('+pid+","+pterm+')">查看物流</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>'))),"4"==ostatus&&("0"==logisticsStatus?(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShaidan('+pid+","+pterm+')">去晒单</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>',"1"==share_status&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>')):(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShaidan('+pid+","+pterm+')">去晒单</a><a ng-click="seeLogistics('+pid+","+pterm+')">查看物流</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>',"1"==share_status&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="seeLogistics('+pid+","+pterm+')">查看物流</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>')))),tmp3+=linkStr}tmp3+=" </div>",$scope.myText+=tmp3}}else{var tmp1='<div class="borderbottom1 shadowless pad0  disable-user-behavior"> <a href="javascript:skip(\'#/'+$scope.host+"/buyRecordDetail/"+pid+"/"+pterm+'\')"><div class="gmjl"><div style="float:left;position:relative"> <img class="imgwh" src="'+pic+'" /><p style="left:0;bottom:0;border-radius:0 0 5px 5px" class="yjx">未揭晓</p></div><div class="gmjl_jt"><p class="orange1"><em class="fontsize16 ng-binding xbt">'+ptitle+'</em></p><div class="pRate"><div class="Progress-bar" id="29422"><p class="jz">价值：￥'+price+'</p><p style="margin-bottom: 0;line-height:20px;color:#9b9b9b;">您已参与：<em class="ng-binding">'+renci+'人次</em></p><p class="u-progress"><span class="pgbar" style="width:'+baifenbi+';"><span class="pging"></span></span></p><ul class="Pro-bar-li"><li class="P-bar01"><em>'+finish_time+'</em>已参与</li><li class="P-bar02"><em>'+total_time+'</em>总需人次</li><li class="P-bar03"><em>'+shengyu_time+'</em>剩余</li></ul></div><a class="add " codeid="29422" href="javascript:;"><s></s></a></div></div></div></a> </div>';if("1"==hd)continue;$scope.myText+=tmp1}num++}$ionicScrollDelegate.resize(),$scope.canLoadMore.code=showPage>=pageCount||0>=recount?!1:!0,"more"==more?$scope.$broadcast("scroll.infiniteScrollComplete"):"first"!=more&&$scope.$broadcast("scroll.refreshComplete")})}$scope.isbuyRecordShow=!0,$scope.myText="",$scope.user={title:"购买记录"},$scope.shareArr=[];var hd=($controller("baseController",{$scope:$scope}),$mainServices.getQueryString("hd")),u=localStorage.getItem("uid_local");"1"==hd?$scope.user.title="获得的商品":hd="0";var gIndex;window.shareCallBackFn=function(type){var url_share=domain2+"shareRecord/insertShareRecord.do",dataJson_share={productId:$scope.shareArr[gIndex].pid,productTerm:$scope.shareArr[gIndex].pterm,userId:u,productName:$scope.shareArr[gIndex].pname,platform:2,shareResource:type};showTankuangOneBtn("分享成功！"),$("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove()}),$mainServices.postNew(url_share,dataJson_share,!1).success(function(){})},$scope.setAdd=function(pid,pterm,source){skip("1"==source||1==source?"#/"+$scope.host+"/userVirtualAddrSubmit/"+pid+"/"+pterm:"#/"+$scope.host+"/userAddressSel/"+pid+"/"+pterm)},$scope.setHuigou=function(pid,pterm,radid){showTankuang("确认转让吗，操作后不可更改。"),$("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove();var u=localStorage.getItem("uid_local"),url=basePath+"setHuigou.jsp",dataJson={pid:pid,pterm:pterm,u:u,platform:2};$mainServices.post(url,dataJson,!0).success(function(JSONObjRet){var code=JSONObjRet.code,message=JSONObjRet.message;alert(message),200==code&&$("#"+radid).find("a:lt(2)").remove()})})},$scope.setShaidan=function(pid,pterm){skip("#/"+$scope.host+"/shaidan?pid="+pid+"&pterm="+pterm)},$scope.seeLogistics=function(pid,pterm){skip("#/"+$scope.host+"/logistics/"+pid+"/"+pterm)},$scope.setShouhuo=function(pid,pterm,radid){showTankuang("确认收货吗，操作后不可更改。"),$("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove();var u=localStorage.getItem("uid_local"),url=basePath+"setShouhuo.jsp",dataJson={pid:pid,pterm:pterm,u:u,platform:2};$mainServices.post(url,dataJson,!0).success(function(JSONObjRet){var code=JSONObjRet.code,message=JSONObjRet.message;alert(message),200==code&&$("#"+radid).find("a").eq(0).remove()})})},$scope.share=function(index){var myPopup=$ionicPopup.show({templateUrl:"templates/mine/shareGoodsTemplate.html",scope:$scope,title:"分享给好友",buttons:[{text:"关闭"}]});myPopup.then(function(){}),$scope.WeixinAppShare=function(type){gIndex=index,$mainServices.goodsWeixinShare(type,JSON.stringify($scope.shareArr[index])),$timeout(function(){myPopup.close()},1e3)}},getBuyRecord("first"),$scope.loadMore=function(){getBuyRecord("more")},$scope.doRefresh=function(){getBuyRecord()}}return ctrl.$inject=["$scope","$controller","$mainServices","$ionicScrollDelegate","$ionicPopup","$timeout","$stateParams"],ctrl}),define("buyRecordDetailController",[],function(){function ctrl($scope,$controller,$mainServices,$stateParams,$ionicPopup,$timeout){var pid=$stateParams.pid,pterm=$stateParams.pterm;$scope.wsdz_div=!1,$scope.buy={shopnumberDiv:"",buyRecordDetail:"",huigou:0,tip:!1,bottom:""};var u=($controller("baseController",{$scope:$scope}),localStorage.getItem("uid_local")),url=basePath+"buyRecordDetail.jsp",dataJson={pid:pid,pterm:pterm,u:u};$scope.shareObj={pid:pid,pterm:pterm,u:u,num:0,pname:""},$mainServices.post(url,dataJson,!0).success(function(JSONObjRet){if(null!=JSONObjRet&&""!=JSONObjRet){var pid=JSONObjRet.pid,pterm=JSONObjRet.pterm,renci=JSONObjRet.renci;$scope.shareObj.num=renci;var publictime=JSONObjRet.publictime,iswinnerid=JSONObjRet.iswinnerid,luckynumber=JSONObjRet.luckynumber,nickname_huodezhe=JSONObjRet.winnernickname,winnerusername=JSONObjRet.winnerusername,share_status=JSONObjRet.share_status,logisticsStatus=JSONObjRet.logisticsStatus,source=JSONObjRet.source,ptype=JSONObjRet.ptype;""==nickname_huodezhe&&(nickname_huodezhe=$mainServices.substringPhone(winnerusername));var now_term=JSONObjRet.now_term,total_time=JSONObjRet.total_time,finish_time=JSONObjRet.finish_time,ptitle=JSONObjRet.ptitle;$scope.shareObj.pname=ptitle;var price=JSONObjRet.price,price_huigou=JSONObjRet.price_huigou,pic=JSONObjRet.pic;pic=$mainServices.getHttpOrlocalProPic(pic),$scope.shareObj.pic=pic;var shengyu_time=parseInt(total_time)-parseInt(finish_time),baifenbi=parseFloat(finish_time/total_time);baifenbi=100*baifenbi.toFixed(2)+"%",ptitle="(第"+pterm+"期)"+$mainServices.subStringTitle(ptitle,20);var jsonArrayShopnumbers=JSONObjRet.jsonArrayShopnumbers,ostatus=JSONObjRet.ostatus,addressstatus=JSONObjRet.addressstatus,jiexiaoStatus=1;if("2"==ptype)var purl="#/"+$scope.host+"/newbieDetail?type=1&pid="+pid+"&pterm="+now_term;else var purl="#/"+$scope.host+"/newproductdetail?type=1&pid="+pid+"&pterm="+now_term;if(null!=publictime&&""!=publictime){var publicParse=new Date(Date.parse($mainServices.getTimeNo_0(publictime).replace(/-/g,"/"))),pubTime=Date.UTC(publicParse.getFullYear(),publicParse.getMonth(),publicParse.getDate(),publicParse.getHours(),publicParse.getMinutes(),publicParse.getSeconds())-288e5,nowTime=JSONObjRet.milliseconds;pubTime>nowTime?jiexiaoStatus=2:(jiexiaoStatus=3,purl="2"==ptype?"#/"+$scope.host+"/newbieDetail?type=2&pid="+pid+"&pterm="+pterm:"#/"+$scope.host+"/newproductdetail?type=2&pid="+pid+"&pterm="+pterm)}var buyRecordDetailhtml3='<div class="item item-avatar padleft bigpadtb"><img style="margin-top:10px;" class="imgwh" src="'+pic+'" onclick="skip(\''+purl+'\')" /><p class="orange1"><em class="fontsize16 ng-binding xbt" onclick="skip(\''+purl+"')\" >"+ptitle+'</em></p><div style="padding-bottom:5px;padding-top:5px; color:#999999"><p style="margin-bottom: 0;line-height:20px">您已参与：<em class="ng-binding">'+renci+'人次</em></p><p style="margin-bottom: 0;line-height:20px">获得者：<em class="ng-binding hdz">'+nickname_huodezhe+'</em></p><p style="margin-bottom: 0;line-height:20px">幸运元行码：<em class="ng-binding hdz">'+luckynumber+'</em></p><p style="margin-bottom: 0;line-height:20px">揭晓时间：<em class="ng-binding">'+$mainServices.getTimeNo_0(publictime)+'</em></p></div><div class="zzjx">';if(""==nickname_huodezhe&&""==luckynumber)var buyRecordDetailhtml3='<div class="item item-avatar padleft bigpadtb"><img style="margin-top:10px;" class="imgwh" src="'+pic+'" /><p class="orange1"><em class="fontsize16 ng-binding xbt" >'+ptitle+'</em></p><div style="padding-bottom:5px;padding-top:5px; color:#999999"><p style="margin-bottom: 0;line-height:20px">您已参与：<em class="ng-binding">'+renci+'人次</em></p><p style="margin-bottom: 0;line-height:20px">揭晓时间：<em class="ng-binding">'+$mainServices.getTimeNo_0(publictime)+'</em></p></div><div class="zzjx">';buyRecordDetailhtml3+="2"==ptype?"<a href=\"javascript:skip('#/"+$scope.host+"/newbieDetail?type=1&pid="+pid+"&pterm="+now_term+'\')" style="display:block;width:100%;height:100%;">第'+now_term+"期 正在进行</a></div></div>":"<a href=\"javascript:skip('#/"+$scope.host+"/newproductdetail?type=1&pid="+pid+"&pterm="+now_term+'\')" style="display:block;width:100%;height:100%;">第'+now_term+"期 正在进行</a></div></div>",2==jiexiaoStatus&&(finish_time=total_time,shengyu_time=0,baifenbi="100%");var buyRecordDetailhtml12='<div class="item item-avatar padleft bigpadtb" style=" height:159px;"><img class="imgwh" src="'+pic+'" onclick="skip(\''+purl+'\')" /><p class="orange1"><em class="fontsize16 ng-binding xbt" onclick="skip(\''+purl+"')\" >"+ptitle+'</em></p><div class="pRate"><div class="Progress-bar" id="29422"><p class="jz">价值：￥'+price+'</p><p style="margin-bottom: 0;line-height:20px">您已参与：<em class="ng-binding">'+renci+'人次</em></p><p class="u-progress"><span class="pgbar" style="width:'+baifenbi+';"><span class="pging"></span></span></p><ul class="Pro-bar-li"><li class="P-bar01"><em>'+finish_time+'</em>已参与</li><li class="P-bar02"><em>'+total_time+'</em>总需人次</li><li class="P-bar03"><em>'+shengyu_time+'</em>剩余</li></ul></div><a class="add " codeid="29422" href="javascript:;"><s></s></a></div></div>';if(jsonArrayShopnumbers.length>0)for(var i=0;i<jsonArrayShopnumbers.length;i++){var intime=jsonArrayShopnumbers[i].intime,renci_od=jsonArrayShopnumbers[i].renci,shopnumbers=jsonArrayShopnumbers[i].shopnumbers,shopnumberhtml="<p style='color:#ff6600;clear:both;padding-left:10px;'>"+$mainServices.getTimeNo_0(intime)+" ("+renci_od+"人次) </p><a class='clearfix' href='javascript:void(0)' style='display:block;color:#999;'>";if(shopnumbers.length>0)for(var j=0;j<shopnumbers.length;j++){var shopnumber=shopnumbers[j].shopnumber;shopnumberhtml+=luckynumber==shopnumber&&3==jiexiaoStatus?"<span style='float:left;width:25%;line-height:30px;text-align:center;color:#ff6600;'>"+shopnumber+"</span> ":"<span style='float:left;width:25%;line-height:30px;text-align:center;'>"+shopnumber+"</span> "}shopnumberhtml+="</a>",$scope.buy.shopnumberDiv+=shopnumberhtml}if(3==jiexiaoStatus)if($scope.buy.buyRecordDetail=buyRecordDetailhtml3,$scope.buy.huigou=price_huigou,$scope.buy.tip=!0,$scope.buy.bottom='<input style="width:30%;margin-right:2.5%;" type="button" value="确认发货" class="wsdz" ng-click="setAdd('+source+')" /><input style="width:30%;margin-right:2.5%;" type="button" value="商品转让" class="sphg" ng-click="setHuigou()" /><input style="width:30%;margin-right:0%;" type="button" value="去晒单" class="wsdz" ng-click="setShaidan()" />',1==iswinnerid){if($scope.wsdz_div=!0,"1"==share_status&&($scope.buy.bottom='<input style="width:30%;margin-right:2.5%;" type="button" value="确认发货" class="wsdz" ng-click="setAdd('+source+')" /><input style="width:30%;margin-right:2.5%;" type="button" value="商品转让" class="sphg" ng-click="setHuigou()" />'),"3"==ostatus)return $scope.buy.bottom='商品已转让，<a ng-click="setShaidan();" style="color:#ff6600">去晒单</a>',void("1"==share_status&&($scope.buy.bottom="商品已转让"));if("1"==addressstatus){if("1"==ostatus)return $scope.buy.bottom='地址已完善，等待发货，<a ng-click="setShaidan();" style="color:#ff6600">去晒单</a>',void("1"==share_status&&($scope.buy.bottom="地址已完善，等待发货"));if("2"==ostatus)return void("0"==logisticsStatus?($scope.buy.bottom='已发货，<a ng-click="setShouhuo();" style="color:#ff6600">确认收货</a><a ng-click="setShaidan();" style="margin-left:10px;padding:0 5px;color:#ff6600">去晒单</a>',"1"==share_status&&($scope.buy.bottom='已发货，<a ng-click="setShouhuo();" style="color:#ff6600">确认收货</a>')):($scope.buy.bottom="已发货，<a onclick='setShouhuo();' style='color:#ff6600'>确认收货</a><a ng-click='setShaidan();' style='margin-left:10px;padding:0 5px;color:#ff6600'>去晒单</a><a href='#/"+$scope.host+"/logistics/"+pid+"/"+pterm+"' style='margin-left:10px;padding:0 5px;color:#ff6600'>查看物流信息</a>","1"==share_status&&($scope.buy.bottom="已发货，<a onclick='setShouhuo();' style='color:#ff6600'>确认收货</a><a href='#/"+$scope.host+"/logistics/"+pid+"/"+pterm+"' style='margin-left:10px;padding:0 5px;color:#ff6600'>查看物流信息</a>")));"4"==ostatus&&("0"==logisticsStatus?($scope.buy.bottom='已收货，<a ng-click="setShaidan();" style="color:#ff6600">去晒单</a>',"1"==share_status&&($scope.buy.bottom="已确认收货")):($scope.buy.bottom="已收货，<a ng-click='setShaidan();' style='color:#ff6600'>去晒单</a><a href='#/"+$scope.host+"/logistics/"+pid+"/"+pterm+"' style='margin-left:10px;padding:0 5px;color:#ff6600'>查看物流信息</a>","1"==share_status&&($scope.buy.bottom="已确认收货。<a href='#/"+$scope.host+"/logistics/"+pid+"/"+pterm+"' style='margin-left:10px;padding:0 5px;color:#ff6600'>查看物流信息</a>")))}}else $scope.wsdz_div=!1;else $scope.buy.buyRecordDetail=buyRecordDetailhtml12}}),$scope.setAdd=function(source){skip("1"==source||1==source?"#/"+$scope.host+"/userVirtualAddrSubmit/"+pid+"/"+pterm:"#/"+$scope.host+"/userAddressSel/"+pid+"/"+pterm)},$scope.setHuigou=function(){showTankuang("确认转让吗，操作后不可更改。"),$("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove();var u=localStorage.getItem("uid_local"),url=basePath+"setHuigou.jsp",dataJson={pid:pid,pterm:pterm,u:u,platform:2};$mainServices.post(url,dataJson,!0).success(function(JSONObjRet){var code=JSONObjRet.code,message=JSONObjRet.message;if(alert(message),200==code){$scope.buy.bottom="商品已转让。";var share_status=JSONObjRet.share_status;"0"==share_status&&($scope.buy.bottom='商品已转让，<a ng-click="setShaidan();" style="color:#ff6600">去晒单</a>')}})})},$scope.setShaidan=function(){skip("#/"+$scope.host+"/shaidan?pid="+pid+"&pterm="+pterm)},$scope.setShouhuo=function(){showTankuang("确认收货吗，操作后不可更改。"),$("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove();var u=localStorage.getItem("uid_local"),url=basePath+"setShouhuo.jsp",dataJson={pid:pid,pterm:pterm,u:u,platform:2};$mainServices.post(url,dataJson,!0).success(function(JSONObjRet){var code=JSONObjRet.code,message=JSONObjRet.message;if(alert(message),200==code){$scope.buy.bottom="已确认收货";var share_status=JSONObjRet.share_status;"0"==share_status&&($scope.buy.bottom='已收货，<a ng-click="setShaidan();" style="color:#ff6600">去晒单</a>')}})})},$scope.share=function(){var myPopup=$ionicPopup.show({templateUrl:"templates/mine/shareGoodsTemplate.html",scope:$scope,title:"分享给好友",buttons:[{text:"关闭"}]});myPopup.then(function(){}),$scope.WeixinAppShare=function(type){$mainServices.goodsWeixinShare(type,JSON.stringify($scope.shareObj)),$timeout(function(){myPopup.close()},1e3)}},window.shareCallBackFn=function(type){var url_share=domain2+"shareRecord/insertShareRecord.do",dataJson_share={productId:pid,productTerm:pterm,userId:u,productName:$scope.shareObj.pname,platform:2,shareResource:type};showTankuangOneBtn("分享成功！"),$("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove()}),$mainServices.postNew(url_share,dataJson_share,!1).success(function(){})}}return ctrl.$inject=["$scope","$controller","$mainServices","$stateParams","$ionicPopup","$timeout"],ctrl}),define("showSignHistoryController",[],function(){function ctrl($scope,$controller,$mainServices){function prevFiveMonth(date){for(var year=parseInt(date.substring(0,4)),month=parseInt(date.substring(5,7)),str="",i=0;5>i;i++){if(10>month)var monStr="0"+month;else var monStr=month;if(0==i?(str+='<option value="'+year+"-"+monStr+'" selected="">'+year+"年"+month+"月打卡记录</option>",$scope.sign.month=year+"-"+monStr):str+='<option value="'+year+"-"+monStr+'">'+year+"年"+month+"月打卡记录</option>",1==month?(month=12,year--):month--,10==month&&2016==year)break}$scope.sign.signMonth=str}function addDay(date){return date.length<=7&&(date+="-01"),date}function signFun(curDate,dateArray){var _html="",myDate=new Date(curDate);$scope.sign.signList="";for(var monthFirst=new Date(myDate.getFullYear(),parseInt(myDate.getMonth()),1).getDay(),d=new Date(myDate.getFullYear(),parseInt(myDate.getMonth()+1),0),totalDay=d.getDate(),i=0;42>i;i++){var conFlag=!0;if(dateArray.length>0)for(var j=0;j<dateArray.length;j++)if(i>=monthFirst&&totalDay>i-monthFirst&&dateArray[j]==i-monthFirst+1){_html+=' <li><div class="sign-num sign-in"><img class="sign-icon" src="img/icon_sign_gou.png"/><p>'+(i-monthFirst+1)+"<p></li>",conFlag=!1;break}if(conFlag)if(i>=monthFirst&&totalDay>i-monthFirst)_html+=' <li><div class="sign-num"><img class="sign-icon" src="img/icon_sign_gou.png"/><p>'+(i-monthFirst+1)+"<p></li>";else{if(35>=monthFirst+totalDay&&35==i)break;_html+=' <li><div class="sign-num"><img class="sign-icon" src="img/icon_sign_gou.png"/></li>'}}$scope.sign.signList=_html}$scope.sign={signCount:0,signDays:0,signNum:0,signMonth:"",signList:"",month:""};var user_id=($controller("baseController",{$scope:$scope}),localStorage.getItem("uid_local")),prevVal="";$mainServices.postNew(domain2+"sign/showSignHistory.do",{userID:user_id,month:""},!0).success(function(JSONObjRet){if("success"==JSONObjRet.ret){null!=JSONObjRet.data.signInfo.continuationCount&&($scope.sign.signDays=JSONObjRet.data.signInfo.continuationCount),null!=JSONObjRet.data.signInfo.amount&&($scope.sign.signNum=JSONObjRet.data.signInfo.amount),null!=JSONObjRet.data.signInfo.signCount&&($scope.sign.signCount=JSONObjRet.data.signInfo.signCount);var mon=JSONObjRet.data.signInfo.month;prevVal=mon;var signRelative=[],len=JSONObjRet.data.signRelative.length;if(len>0)for(var i=0;len>i;i++){var signDay=JSONObjRet.data.signRelative[i].updateTime.substring(8,10);signRelative.push(parseInt(signDay))}signFun(addDay(mon),signRelative),prevFiveMonth(mon)}else alert("请求失败！")}),$scope.undatePage=function(){var curMon=$scope.sign.month;$mainServices.postNew(domain2+"sign/showSignHistory.do",{userID:user_id,month:curMon},!1).success(function(JSONObjRet){if("success"==JSONObjRet.ret&&"null"!=JSONObjRet.data.signInfo&&null!=JSONObjRet.data.signInfo){prevVal=$scope.sign.month,null!=JSONObjRet.data.signInfo.continuationCount&&($scope.sign.signDays=JSONObjRet.data.signInfo.continuationCount),null!=JSONObjRet.data.signInfo.amount&&($scope.sign.signNum=JSONObjRet.data.signInfo.amount),null!=JSONObjRet.data.signInfo.signCount&&($scope.sign.signCount=JSONObjRet.data.signInfo.signCount);var signRelative=(JSONObjRet.data.signInfo.month,[]),len=JSONObjRet.data.signRelative.length;if(len>0)for(var i=0;len>i;i++){var signDay=JSONObjRet.data.signRelative[i].updateTime.substring(8,10);signRelative.push(parseInt(signDay))}signFun(addDay(curMon),signRelative)}else $scope.sign.month=prevVal,alert("请求失败，请重新选择")})}}return ctrl.$inject=["$scope","$controller","$mainServices"],ctrl}),define("productztController",[],function(){function ctrl($scope,$controller,$mainServices,$ionicScrollDelegate){function getProduct(t){var nowPageMore=$scope.canLoadMore.nowPageMore;"more"==t?nowPageMore+=1:(nowPageMore=1,$scope.listGoods=[]);var isHide=!1;"first"==t&&(isHide=!0);var url=basePath+"getProduct.jsp",dataJson={toPage:nowPageMore,xp:1};$mainServices.post(url,dataJson,isHide).success(function(JSONObjRet){var JSON_list=JSONObjRet.prolist,pageCount=parseInt(JSONObjRet.pageCount),recount=parseInt(JSONObjRet.recount),showPage=parseInt(JSONObjRet.showPage);if($scope.canLoadMore.nowPageMore=showPage,0>=recount)return $scope.isGoodsShow=!1,void($scope.canLoadMore.code=!1);if($scope.isGoodsShow=!0,JSON_list.length>0)for(var i=0;i<JSON_list.length;i++){var pid=JSON_list[i].pid,ptitle=JSON_list[i].ptitle,pic=JSON_list[i].pic,price=JSON_list[i].price,total_time=JSON_list[i].total_time,finish_time=JSON_list[i].finish_time;pic=$mainServices.getHttpOrlocalProPic(pic);var now_term=JSON_list[i].now_term;ptitle="(第"+now_term+"期)"+ptitle;var shengyu_time=parseInt(total_time)-parseInt(finish_time),baifenbi=parseFloat(finish_time/total_time);baifenbi=100*baifenbi.toFixed(2)+"%",$scope.listGoods.push({purl:"#/"+$scope.host+"/newproductdetail?type=1&pid="+pid,pic:pic,ptitle:$mainServices.subStringTitle(ptitle,25),price:price,baifenbi:baifenbi,finish_time:finish_time,total_time:total_time,shengyu_time:shengyu_time})}$ionicScrollDelegate.resize(),$scope.canLoadMore.code=showPage==pageCount||0>=recount?!1:!0,"more"==t?$scope.$broadcast("scroll.infiniteScrollComplete"):null==t&&$scope.$broadcast("scroll.refreshComplete")})}$scope.listGoods=[],$scope.isGoodsShow=!0;$controller("baseController",{$scope:$scope});getProduct("first"),$scope.loadMore=function(){getProduct("more")},$scope.doRefresh=function(){$scope.canLoadMore.nowPageMore=1,getProduct()}}return ctrl.$inject=["$scope","$controller","$mainServices","$ionicScrollDelegate"],ctrl}),define("productlistController",[],function(){function ctrl($scope,$mainServices,$factoryServices,$controller,$ionicScrollDelegate,$ionicHistory,$location,$q,$rootScope,$timeout){function touchStartList(){clearInterval(touchInter),$timeout.cancel(moveTimer)}function touchMoveList(){moveFlag=!0,clearInterval(touchInter),$timeout.cancel(moveTimer)}function touchEndList(event){clearInterval(touchInter),1==moveFlag&&(touchInter=setInterval(function(){lastPos==$ionicScrollDelegate.$getByHandle("navr").getScrollPosition().top&&(event.preventDefault(),event.stopPropagation(),clearInterval(touchInter),moveTimer=$timeout(function(){moveFlag=!1},310)),lastPos=$ionicScrollDelegate.$getByHandle("navr").getScrollPosition().top},100))}$scope.searchKey="",$scope.productData={},$scope.listGoods=[],$scope.biglist=[],$scope.isGoodsShow=!0,$scope.navFourLi=["cur","","",""],$scope.navListLi=["cur"],$scope.navListVal=[0],$scope.arrowPx=["",""];var base=$controller("baseController",{$scope:$scope});$scope.listRecord=function(){var listBigType=localStorage.getItem("listBigTypeData");if(null!=listBigType&&""!=listBigType){listBigType=JSON.parse(listBigType),$scope.biglist=listBigType;for(var len=$scope.biglist.length,i=0;len>i;i++)$scope.navListLi.push(""),$scope.navListVal.push($scope.biglist[i].id)}var listProListData=localStorage.getItem("listProListData");if(null!=listProListData&&""!=listProListData){listProListData=JSON.parse(listProListData);var JSON_list=listProListData.prolist,pageCount=parseInt(listProListData.pageCount),recount=parseInt(listProListData.recount);$scope.canLoadMore.nowPageMore=parseInt(listProListData.showPage),$scope.canLoadMore.code=!1,0>=recount?($scope.isGoodsShow=!1,$scope.canLoadMore.code=!1):$scope.isGoodsShow=!0;for(var i=0;i<JSON_list.length;i++){var pid=JSON_list[i].pid,ptitle=JSON_list[i].ptitle,pic=JSON_list[i].pic,price=JSON_list[i].price,total_time=JSON_list[i].total_time,finish_time=JSON_list[i].finish_time,now_term=JSON_list[i].now_term;ptitle="(第"+now_term+"期)"+ptitle,pic=$mainServices.getHttpOrlocalProPic(pic);var shengyu_time=parseInt(total_time)-parseInt(finish_time),baifenbi=parseFloat(finish_time/total_time);baifenbi=100*baifenbi.toFixed(2)+"%",$scope.listGoods.push({purl:"#/"+$scope.host+"/newproductdetail?type=1&pid="+pid,pic:pic,pid:pid,ptitle:ptitle,flag:1,price:price,baifenbi:baifenbi,finish_time:finish_time,total_time:total_time,shengyu_time:shengyu_time})}$ionicScrollDelegate.resize(),$scope.canLoadMore.code=$scope.canLoadMore.nowPageMore==pageCount||0>=recount?!1:!0}},$scope.listRecord(),$scope.getBig=function(){var url=basePath+"getBig.jsp";$mainServices.post(url,{},!1).success(function(JSONObjRet){$scope.biglist=JSONObjRet.big;var len=$scope.biglist.length;if(len>0){$scope.navListLi=["cur"],$scope.navListVal=[0];for(var i=0;len>i;i++)$scope.navListLi.push(""),$scope.navListVal.push($scope.biglist[i].id);localStorage.setItem("listBigTypeData",JSON.stringify(JSONObjRet.big))}$scope.getProduct("first")})},$scope.getProduct=function(t,obj,val,idx){"undefined"!=typeof obj&&(obj=obj.toElement,3==val&&2==t&&(obj=obj.parentNode));var isHide=(parseInt($scope.canLoadMore.nowPageMore),!1);(1==t||2==t)&&(isHide=!0),"more"!=t?$scope.canLoadMore.nowPageMore=1:$scope.canLoadMore.nowPageMore++;var url=basePath+"getProduct.jsp",dataJson={toPage:$scope.canLoadMore.nowPageMore},key=localStorage.getItem("serarch_key"),key_flag=0;if(null!=key&&""!=key&&"undefined"!=typeof key&&($scope.searchKey=key,key_flag=1,localStorage.removeItem("serarch_key")),""!=$scope.searchKey&&$scope.searchKey.length>0&&(dataJson.key=$scope.searchKey,1!=t&&2!=t)){for(var i=0;i<$scope.navListLi.length;i++)$scope.navListLi[i]="";
1==key_flag&&($scope.navFourLi=["","","",""],$scope.arrowPx=["",""])}if(1==t){for(var i=0;i<$scope.navListLi.length;i++)$scope.navListLi[i]="";$scope.navListLi[idx]="cur",""==$scope.navFourLi[0]&&""==$scope.navFourLi[1]&&""==$scope.navFourLi[2]&&""==$scope.navFourLi[3]&&($scope.navFourLi[0]="cur",$scope.arrowPx=["",""]),$ionicScrollDelegate.scrollTop(0),$scope.canLoadMore.code=!1,localStorage.removeItem("serarch_key"),$scope.searchKey="",dataJson.key=null}else 2==t&&($scope.navFourLi=["","","",""],$scope.navFourLi[idx]="cur",$scope.arrowPx=3==val?""==$scope.arrowPx[0]?["imph",""]:["","imph"]:["",""],$ionicScrollDelegate.scrollTop(0),$scope.canLoadMore.code=!1);for(var bid,i=0;i<$scope.navListLi.length;i++)if("cur"==$scope.navListLi[i]){bid=$scope.navListVal[i];break}if(null==t&&""!=$mainServices.getQueryString("bid")&&(bid=parseInt($mainServices.getQueryString("bid"))),null!=bid&&""!=bid&&null==t){for(var i=0;i<$scope.navListLi.length;i++)$scope.navListLi[i]="";for(var i=0;i<$scope.navListVal.length;i++)if($scope.navListVal[i]==bid){$scope.navListLi[i]="cur";break}}for(var px,i=0;4>i;i++)if("cur"==$scope.navFourLi[i]){px=i;break}2==px?px=4:3==px&&"imph"==$scope.arrowPx[1]&&(px=2),null!=bid&&""!=bid&&(dataJson.bid=bid),null!=px&&""!=px&&(dataJson.px=px),$mainServices.post(url,dataJson,isHide).success(function(JSONObjRet){("more"!=t||1==$scope.canLoadMore.nowPageMore)&&($scope.listGoods=[]);var JSON_list=JSONObjRet.prolist,pageCount=parseInt(JSONObjRet.pageCount),recount=parseInt(JSONObjRet.recount);if($scope.canLoadMore.nowPageMore=parseInt(JSONObjRet.showPage),$scope.canLoadMore.code=!1,0>=recount?($scope.isGoodsShow=!1,$scope.canLoadMore.code=!1):$scope.isGoodsShow=!0,JSON_list.length>0){for(var i=0;i<JSON_list.length;i++){var pid=JSON_list[i].pid,ptitle=JSON_list[i].ptitle,pic=JSON_list[i].pic,price=JSON_list[i].price,total_time=JSON_list[i].total_time,finish_time=JSON_list[i].finish_time,now_term=JSON_list[i].now_term;ptitle="(第"+now_term+"期)"+ptitle,pic=$mainServices.getHttpOrlocalProPic(pic);var shengyu_time=parseInt(total_time)-parseInt(finish_time),baifenbi=parseFloat(finish_time/total_time);baifenbi=100*baifenbi.toFixed(2)+"%",$scope.listGoods.push({purl:"#/"+$scope.host+"/newproductdetail?type=1&pid="+pid,pic:pic,pid:pid,ptitle:ptitle,flag:1,price:price,baifenbi:baifenbi,finish_time:finish_time,total_time:total_time,shengyu_time:shengyu_time})}("refresh"==t&&0==bid&&0==px||"first"==t||2==t&&0==bid&&0==px||1==t&&0==bid&&0==px)&&localStorage.setItem("listProListData",JSON.stringify(JSONObjRet))}$ionicScrollDelegate.resize(),$scope.canLoadMore.code=$scope.canLoadMore.nowPageMore==pageCount||0>=recount?!1:!0,"more"==t?$scope.$broadcast("scroll.infiniteScrollComplete"):"refresh"==t&&$scope.$broadcast("scroll.refreshComplete")})},$scope.getBig();var moveTimer,lastPos=0,moveFlag=!1,touchInter=null;$scope.pauseScroll=function(event){1==moveFlag&&(event.preventDefault(),event.stopPropagation(),moveFlag=!1,clearInterval(touchInter))},document.addEventListener("touchstart",touchStartList,!1),document.addEventListener("touchmove",touchMoveList,!1),document.addEventListener("touchend",touchEndList,!1),$scope.doRefresh=function(){null==$scope.biglist||""==$scope.biglist?$scope.getBig():$scope.getProduct("refresh")},$scope.loadMore=function(){$scope.getProduct("more")},$scope.tabPoint();var isFirst=1;$scope.$on("$stateChangeSuccess",function(){"/product/productlist"!=$location.path()&&(document.removeEventListener("touchstart",touchStartList,!1),document.removeEventListener("touchmove",touchMoveList,!1),document.removeEventListener("touchend",touchEndList,!1),clearInterval(touchInter)),1==isFirst&&(isFirst=2,$scope.$on("$ionicView.beforeEnter",function(){null==$scope.biglist||""==$scope.biglist?$scope.getBig():$scope.getProduct(),$scope.tabPoint(),base=$controller("baseController",{$scope:$scope}),document.addEventListener("touchstart",touchStartList,!1),document.addEventListener("touchmove",touchMoveList,!1),document.addEventListener("touchend",touchEndList,!1)}))}),$scope.addCart=function(pid,num,src,event,index){event.preventDefault();var u=localStorage.getItem("uid_local");if(null==u||""==u)return localStorage.setItem("backUrlLogin","#"+$ionicHistory.currentView().url),void $location.path("/"+$scope.host+"/log");(null==num||""==num||0==num)&&(num=1);var listAry=[{pid:pid,num:num,selected:1}],url=basePath+"getUserShoppingRecord.jsp",dataJson={platform:2,u:u,list:JSON.stringify(listAry)},flyer=angular.element('<img class="u-flyer" src="'+src+'">');event=event.toElement;var obj=angular.element(event).parent().parent().parent().parent().find(".z-Limg"),d1=$q.defer(),promise1=d1.promise,d2=$q.defer(),promise2=d2.promise;flyer.fly({start:{left:obj.offset().left,top:obj.offset().top},end:{left:$scope.left,top:$scope.top,width:0,height:0},onEnd:function(){this.destory(),d1.resolve()}}),(1==$scope.listGoods[index].flag||"1"==$scope.listGoods[index].flag)&&$mainServices.post(url,dataJson,!1).success(function(jsonObj){if(null!=jsonObj&&void 0!=jsonObj||""!=jsonObj)if("ok"!=jsonObj.judge)alert("操作失败，请稍后重试"),d2.reject();else{$scope.listGoods[index].flag=2;var u=localStorage.getItem("uid_local");if(null!=u&&""!=u){var dataJson={u:u},url=basePath+"getCartNum.jsp";$mainServices.post(url,dataJson,!1).success(function(num){var reg=/^[0-9]*$/;reg.test(num)||d2.resolve(num)})}}else d2.reject()}),$q.all([promise1,promise2]).then(function(v){$rootScope.cartNumber=0==v[1]?0:v[1]})}}return ctrl.$inject=["$scope","$mainServices","$factoryServices","$controller","$ionicScrollDelegate","$ionicHistory","$location","$q","$rootScope","$timeout"],ctrl}),define("searchController",[],function(){function ctrl($scope,$controller,$mainServices,$rootScope,$ionicTabsDelegate){function getSearch(){var uid=localStorage.getItem("uid_local");if(null!=uid){var url=basePath+"getSearch.jsp",dataJson={u:uid};$scope.showTipAry=["ss_on",""],$scope.showDiv=["","hide"],$mainServices.post(url,dataJson,!0).success(function(JSONObjRet){var JSON_list_u=JSONObjRet.user_search,JSON_list_hot=JSONObjRet.hot_search;if(JSON_list_u.length>0)for(var i=0;i<JSON_list_u.length;i++){var key=JSON_list_u[i].key;$scope.userkeylist.push({key:key}),$scope.isDelDiv=!0}if(JSON_list_hot.length>0)for(var i=0;i<JSON_list_hot.length;i++){var key=JSON_list_hot[i].key;$scope.gjkeylist.push({key:key})}})}}$scope.userkeylist=[],$scope.gjkeylist=[],$scope.index={key:""},$scope.isDelDiv=!1;$controller("baseController",{$scope:$scope});getSearch(),$scope.searchTab=function(t){1==t?($scope.showDiv=["","hide"],$scope.userkeylist.length>0&&($scope.isDelDiv=!0),$scope.showTipAry=["ss_on",""]):2==t&&($scope.showDiv=["hide",""],$scope.isDelDiv=!1,$scope.showTipAry=["","ss_on"])},$scope.search=function(key_click){var key="";key=null!=key_click&&""!=key_click?key_click:$scope.index.key,localStorage.setItem("serarch_key",key);var uid=localStorage.getItem("uid_local");if(null!=uid&&null!=uid){var url=basePath+"setSearch.jsp",dataJson={u:uid,key:key};$mainServices.post(url,dataJson,!0).success(function(){})}$rootScope.hideTabs="",$ionicTabsDelegate.select(1)},$scope.delSearch=function(){var uid=localStorage.getItem("uid_local");if(null!=uid&&null!=uid){var url=basePath+"delSearch.jsp",dataJson={u:uid};$mainServices.post(url,dataJson,!0).success(function(JSONObjRet){"200"==JSONObjRet.code||200==JSONObjRet.code?($scope.userkeylist=[],$scope.showDiv=["","hide"],$scope.isDelDiv=!1):alert("清空记录失败")})}}}return ctrl.$inject=["$scope","$controller","$mainServices","$rootScope","$ionicTabsDelegate"],ctrl}),define("newproductDetailController",[],function(){function ctrl($scope,$rootScope,$controller,$mainServices,$timeout,$ionicScrollDelegate,$ionicTabsDelegate,$ionicHistory,$location,$q,$interval){function getCardNum(){var u=localStorage.getItem("uid_local");if(null!=u&&""!=u){var dataJson={u:u},url=basePath+"getCartNum.jsp";$mainServices.post(url,dataJson,!1).success(function(num){var reg=/^[0-9]*$/;reg.test(num)||(0==num?($scope.badgeShow=!1,$rootScope.cartNumber=0):($scope.badgeShow=!0,$scope.cartNum=num,$rootScope.cartNumber=num))})}}function productDetail(t,pid,pterm,oprFlage){if(null!=pid&&""!=pid){var url=basePath+"getProduct_detail_v1.jsp?t="+new Date,dataJson={pid:pid,pterm:pterm};$scope.jinduData={},$mainServices.post(url,dataJson,t).success(function(jsonObj){if(null!=jsonObj){var proInfo=jsonObj.proInfo,now_term=parseInt(proInfo.now_term),total_time=proInfo.total_time,finish_time=proInfo.finish_time,price=proInfo.price,premark=proInfo.premark,pic=$mainServices.getHttpOrlocalProPic(proInfo.pic),ptitle=proInfo.ptitle,shengyu_time=parseInt(total_time)-parseInt(finish_time),baifenbi=parseFloat(finish_time/total_time);baifenbi=100*baifenbi.toFixed(2)+"%",(null==pterm||""==pterm)&&(pterm=now_term);var remark=proInfo.remark;if($scope.proData={pic:pic,ptitle:ptitle,price:price,premark:premark,remark:remark},pterm>1){var proPtermLast=jsonObj.proPtermLast;if(null!=proPtermLast){var publictime=proPtermLast.publictime,nowTime=parseInt(proInfo.pdintime),publicParse=new Date(Date.parse($mainServices.getTimeNo_0(publictime).replace(/-/g,"/"))),pubTime=Date.UTC(publicParse.getFullYear(),publicParse.getMonth(),publicParse.getDate(),publicParse.getHours(),publicParse.getMinutes(),publicParse.getSeconds())-288e5;if(""==publictime||null==publictime||pubTime>nowTime)$scope.showPrevPterm=!1,$scope.bottomData={detailUrl:"#/"+$scope.host+"/newproductdetail?type=1&pid="+pid+"&pterm="+now_term,now_term:now_term};else{var winnerid=proPtermLast.winnerid,luckynumber=proPtermLast.luckynumber,intime=proPtermLast.intime,nickname=proPtermLast.nickname,winner_renci=proPtermLast.winner_renci,headpic=$mainServices.getHttpOrlocalHeadPic(proPtermLast.headpic);""==nickname&&(nickname=proPtermLast.username),$scope.proPtermLast={url:"#/"+$scope.host+"/userIndex/"+winnerid,headpic:headpic,nickname:nickname,publictime:$mainServices.getTimeNo_0(publictime),intime:$mainServices.getTimeNo_0(intime),luckynumber:luckynumber,winner_renci:winner_renci},$scope.bottomData={detailUrl:"#/"+$scope.host+"/newproductdetail?type=1&pid="+pid+"&pterm="+now_term,now_term:now_term},$scope.showPrevPterm=!0}}else $scope.showPrevPterm=!1}else $scope.showPrevPterm=!1;var share_num=parseInt(proInfo.share_num);0>share_num&&(share_num=0),$scope.orderShare={url:"#/"+$scope.host+"/productorderdetailshare/"+pid+"/",share_num:share_num};var publictimelast=$mainServices.getTimeNo_0(proInfo.publictime),nowTime=parseInt(proInfo.pdintime),publicParse=new Date(Date.parse(publictimelast.replace(/-/g,"/"))),pubTime=Date.UTC(publicParse.getFullYear(),publicParse.getMonth(),publicParse.getDate(),publicParse.getHours(),publicParse.getMinutes(),publicParse.getSeconds())-288e5;""!=publictimelast&&pubTime>nowTime?($scope.visible=!0,GetRTimeMobilePD(publictimelast,pid,pterm,nowTime),baifenbi="100%",finish_time=total_time,shengyu_time=0):now_term>pterm&&nowTime>=pubTime&&($scope.visible=!1,$interval.cancel(curInterval),$scope.reload("#/"+$scope.host+"/newproductdetail?type=2&pid="+pid+"&pterm="+pterm)),$scope.jinduData={baifenbi:baifenbi,finish_time:finish_time,total_time:total_time,shengyu_time:shengyu_time}}$ionicScrollDelegate.resize(),$scope.dqqishu.pid=pid,$scope.dqqishu.pterm=pterm,"refresh"==oprFlage&&$scope.$broadcast("scroll.refreshComplete")})}}function GetRTimeMobilePD(public_time,pid,pterm,nowTime){var EndTime=new Date(Date.parse(public_time.replace(/-/g,"/"))),EndTime2=Date.UTC(EndTime.getFullYear(),EndTime.getMonth(),EndTime.getDate(),EndTime.getHours(),EndTime.getMinutes(),EndTime.getSeconds())-288e5,t=EndTime2-nowTime;curInterval=$interval(function(){t>0?($scope.daojishi.mm=Math.floor(t/1e3/60%60)+"",$scope.daojishi.ss=Math.floor(t/1e3%60)+"",$scope.daojishi.s_m_100=t+"",$scope.daojishi.s_m_100=$scope.daojishi.s_m_100.substr($scope.daojishi.s_m_100.length-3,2),1==$scope.daojishi.mm.length&&($scope.daojishi.mm="0"+$scope.daojishi.mm),1==$scope.daojishi.ss.length&&($scope.daojishi.ss="0"+$scope.daojishi.ss),t-=30):($interval.cancel(curInterval),$scope.reload("#/"+$scope.host+"/newproductdetail?type=2&pid="+pid+"&pterm="+pterm))},30)}function productDetailTerm(t,pid,pterm,oprFlage){if(null!=pid&&""!=pid){var url=basePath+"getProduct_detail_pterm_v1.jsp",dataJson={pid:pid,pterm:pterm};$scope.bottomData={},$scope.productData={},$scope.jinduData={},$scope.huodezheData={},$scope.otherData=[],$scope.orderShare={},$mainServices.post(url,dataJson,t).success(function(jsonObj){if(null!=jsonObj){var proInfo=jsonObj.proInfo,now_term=parseInt(proInfo.now_term),total_time=proInfo.total_time,price=(proInfo.finish_time,proInfo.price),pic=$mainServices.getHttpOrlocalProPic(proInfo.pic),ptitle=proInfo.ptitle,remark=proInfo.remark;$scope.productData={pic:pic,ptitle:ptitle,price:price,remark:remark};var proPtermLast=jsonObj.proPtermLast;if(null!=proPtermLast){var winnerid=proPtermLast.winnerid,luckynumber=proPtermLast.luckynumber,intime=proPtermLast.intime,publictime=proPtermLast.publictime,nickname=proPtermLast.nickname,headpic=$mainServices.getHttpOrlocalHeadPic(proPtermLast.headpic),winner_renci=proPtermLast.winner_renci;""==nickname&&(nickname=proPtermLast.username),$scope.huodezheData={uurl:"#/"+$scope.host+"/userIndex/"+winnerid,headpic:headpic,nickname:nickname,publictime:$mainServices.getTimeNo_0(publictime),intime:$mainServices.getTimeNo_0(intime),luckynumber:luckynumber},$scope.jinduData={baifenbi:"100%",total_time:total_time,winner_renci:winner_renci};var JSON_list_winner_shopnumber=proPtermLast.shopnumbers;if(null!=JSON_list_winner_shopnumber&&JSON_list_winner_shopnumber.length>0)for(var i=0;i<JSON_list_winner_shopnumber.length;i++){var shopnumber=JSON_list_winner_shopnumber[i].shopnumber,tmpjson={shopnumber:shopnumber,state:""};$scope.otherData.push(tmpjson)}$scope.shopNumber=function(){skip("#/"+$scope.host+"/shopnumber?pid="+pid+"&pterm="+pterm+"&u="+winnerid)}}$scope.orderShare={url:"#/"+$scope.host+"/productJisuan/"+pid+"/"+pterm}}$scope.dqqishu.pid=pid,$scope.dqqishu.pterm=pterm,$scope.bottomData={qishuUrl:"#/"+$scope.host+"/productQishu?pid="+pid+"&pterm="+pterm,pterm:pterm,pid:pid,detailUrl:"#/"+$scope.host+"/newproductdetail?type=1&pid="+pid+"&pterm="+now_term,now_term:now_term},"refresh"==oprFlage&&$scope.$broadcast("scroll.refreshComplete")})}}$scope.leftAn=.88*parseInt(window.screen.availWidth),$scope.badgeShow=!1,$scope.temporary="";{var curInterval,type,pid,pterm;$controller("baseController",{$scope:$scope})}$scope.init=function(){type=$mainServices.getQueryString("type"),pid=$mainServices.getQueryString("pid"),pterm=$mainServices.getQueryString("pterm"),$scope.temporary="",""==pid?(type=$rootScope.pdetail.type,pid=$rootScope.pdetail.pid,pterm=$rootScope.pdetail.pterm):($rootScope.pdetail={},$rootScope.pdetail.type=type,$rootScope.pdetail.pid=pid,$rootScope.pdetail.pterm=pterm),$scope.random=pid+"_"+pterm,$scope.visible=!1,$scope.dqqishu={pid:"",pterm:"",host:$scope.host},$scope.daojishi={mm:"00",ss:"00",s_m_100:"00"},$scope.bottomData={detailUrl:"",now_term:""},$scope.proData={},$scope.proPtermLast={url:"",headpic:"",nickname:"",publictime:"",intime:"",luckynumber:"",winner_renci:""},$scope.orderShare={},$scope.showPrevPterm=!1,$interval.cancel(curInterval),getCardNum(),"1"==type?$scope.current=!0:($scope.current=!1,pterm=parseInt(pterm)),$scope.pid=pid,"1"==type?productDetail(!0,pid,pterm):productDetailTerm(!0,pid,pterm)},$scope.init(),$scope.doRefresh=function(){$scope.temporary="","1"==$rootScope.pdetail.type?($interval.cancel(curInterval),productDetail(!1,pid,pterm,"refresh")):productDetailTerm(!1,pid,pterm,"refresh")},$scope.$on("$destroy",function(){$interval.cancel(curInterval)}),$scope.reload=function(param){skip(param),type=$mainServices.getUrlString(param,"type"),pid=$mainServices.getUrlString(param,"pid"),pterm=$mainServices.getUrlString(param,"pterm"),$scope.random=pid+"_"+pterm,$scope.temporary="",""==pid?(type=$rootScope.pdetail.type,pid=$rootScope.pdetail.pid,pterm=$rootScope.pdetail.pterm):($rootScope.pdetail={},$rootScope.pdetail.type=type,$rootScope.pdetail.pid=pid,$rootScope.pdetail.pterm=pterm),"1"==type?($interval.cancel(curInterval),$scope.current=!0):($scope.current=!1,pterm=parseInt(pterm)),$scope.visible=!1,$scope.dqqishu={pid:"",pterm:"",host:$scope.host},$scope.daojishi={mm:"00",ss:"00",s_m_100:"00"},$scope.bottomData={detailUrl:"",now_term:""},$scope.proData={},$scope.proPtermLast={url:"",headpic:"",nickname:"",publictime:"",intime:"",luckynumber:"",winner_renci:""},$scope.orderShare={},$scope.showPrevPterm=!1,$scope.pid=pid,"1"==type?productDetail(!0,pid,pterm):productDetailTerm(!0,pid,pterm)},$scope.toCart=function(){$rootScope.hideTabs="",$ionicTabsDelegate.select(3)},$scope.addCart=function(pid,num,selected,buy,iscart,tiao_cart){var u=localStorage.getItem("uid_local");if(null==u||""==u)return localStorage.setItem("backUrlLogin","#"+$ionicHistory.currentView().url),void $location.path("/"+$scope.host+"/log");(null==num||""==num||0==num)&&(num=1);var listAry=[{pid:pid,num:num,selected:1}],url=basePath+"getUserShoppingRecord.jsp",dataJson={platform:2,u:u,list:JSON.stringify(listAry)},obj=angular.element(".cp_xq"+$scope.random).find(".cp_xq_tp img"),src=obj.attr("src"),flyer=angular.element('<img class="u-flyer" src="'+src+'">');if("1"==tiao_cart)$mainServices.post(url,dataJson,!0).success(function(jsonObj){(null!=jsonObj&&void 0!=jsonObj||""!=jsonObj)&&("ok"!=jsonObj.judge?alert("操作失败，请稍后重试"):"1"==tiao_cart?($rootScope.hideTabs=" ",$ionicTabsDelegate.select(3)):1==buy?($rootScope.hideTabs="",$ionicTabsDelegate.select(3)):1!=iscart&&getCardNum())});else{var d1=$q.defer(),promise1=d1.promise,d2=$q.defer(),promise2=d2.promise;flyer.fly({start:{left:obj.offset().left,top:obj.offset().top},end:{left:$scope.leftAn,top:$scope.top,width:0,height:0},onEnd:function(){this.destory(),d1.resolve()}}),$scope.temporary!=pid&&$mainServices.post(url,dataJson,!1).success(function(jsonObj){(null!=jsonObj&&void 0!=jsonObj||""!=jsonObj)&&("ok"!=jsonObj.judge?(alert("操作失败，请稍后重试"),d2.reject()):d2.resolve())}),$q.all([promise1,promise2]).then(function(){"1"==tiao_cart?($rootScope.hideTabs=" ",$ionicTabsDelegate.select(3)):1==buy?($rootScope.hideTabs="",$ionicTabsDelegate.select(3)):1!=iscart&&($scope.temporary=pid,getCardNum())})}}}return ctrl.$inject=["$scope","$rootScope","$controller","$mainServices","$timeout","$ionicScrollDelegate","$ionicTabsDelegate","$ionicHistory","$location","$q","$interval"],ctrl}),define("productQishuController",[],function(){function ctrl($scope,$controller,$mainServices,$stateParams,$ionicScrollDelegate,$timeout){$scope.obj={pterm:""},$scope.qishuData=[];{var pid=$stateParams.pid,pterm=$stateParams.pterm;$controller("baseController",{$scope:$scope})}$scope.productQishu=function(page,t){var url=basePath+"getQiShu.jsp",dataJson={pid:pid,pterm:pterm,host:$scope.host,page:page},isHide=!1;if("first"==t)var isHide=!0;$mainServices.post(url,dataJson,isHide).success(function(JsonObj){var pageCount=JsonObj.pageCount,dataText=JsonObj.data;$scope.qishuData=$scope.qishuData.concat(dataText),$ionicScrollDelegate.resize(),pageCount<=$scope.canLoadMore.nowPageMore+1?$scope.canLoadMore.code=!1:$timeout(function(){$scope.canLoadMore.code=!0},500),"more"==t?$scope.$broadcast("scroll.infiniteScrollComplete"):"first"!=t&&$scope.$broadcast("scroll.refreshComplete")})},$scope.productQishu($scope.canLoadMore.nowPageMore,"first"),$scope.termSubmit=function(){var url=basePath+"skipProduct.jsp",dataJson={pid:pid,pterm:$scope.obj.pterm,host:$scope.host,flag:1};return isNaN($scope.obj.pterm)||$scope.obj.pterm<1?void alert("期数只支持正整数"):void $mainServices.post(url,dataJson,!0).success(function(JsonObj){return 200!=JsonObj.code?void alert(JsonObj.message):void skip(JsonObj.url)})},$scope.loadMore=function(){$scope.canLoadMore.nowPageMore++,$scope.productQishu($scope.canLoadMore.nowPageMore,"more")},$scope.doRefresh=function(){$scope.canLoadMore.nowPageMore=0,$scope.qishuData=[],$scope.productQishu($scope.canLoadMore.nowPageMore)}}return ctrl.$inject=["$scope","$controller","$mainServices","$stateParams","$ionicScrollDelegate","$timeout"],ctrl}),define("orderdetailShareController",[],function(){function ctrl($scope,$rootScope,$controller,$mainServices,$stateParams,$ionicScrollDelegate,$timeout,$ionicPopup,$ionicModal){function getShareOrder(more){var wd=$stateParams.wd,pid=$stateParams.pid,u=localStorage.getItem("uid_local"),isHide=!1;"first"==more&&(isHide=!0);var dataJson={toPage:$scope.canLoadMore.nowPageMore+1,wd:wd,uid:u,pid:pid};$mainServices.post(basePath+"getShareOrder.jsp",dataJson,isHide).success(function(JSONObjRet){var JSON_list=JSONObjRet.sharelistnew,pageCount=parseInt(JSONObjRet.pageCount),recount=parseInt(JSONObjRet.recount);if($scope.canLoadMore.nowPageMore=parseInt(JSONObjRet.showPage)-1,($scope.canLoadMore.nowPageMore==pageCount||0>=recount)&&($scope.canLoadMore.code=!1),0>=recount)return $scope.isShareShow=!1,$scope.canLoadMore.code=!1,void $scope.$broadcast("scroll.refreshComplete");if($scope.isShareShow=!0,JSON_list.length>0){for(var i=0;i<JSON_list.length;i++){var id=JSON_list[i].id,uid=JSON_list[i].uid,title=JSON_list[i].title,pics=JSON_list[i].pics,picsArray=$mainServices.splitStr(pics,","),len=3;picsArray.length<3&&(len=picsArray.length);for(var ul_html=[],jj=0;len>jj;jj++)ul_html.push({pic:domain3+picsArray[jj]+""});var content=JSON_list[i].content,num_clicklike=JSON_list[i].num_clicklike,num_comment=JSON_list[i].num_comment,intime=JSON_list[i].intime;intime=intime.substring(0,16);var headpic=JSON_list[i].headpic;headpic=$mainServices.getHttpOrlocalHeadPic(headpic);var nickname=JSON_list[i].nickname,num=JSON_list[i].num,recount_share=JSON_list[i].recount_share,src="icon_dz.png";recount_share>0&&(src="icon_dz_on.png");var shareIntegral=JSON_list[i].vouchers;if(""==shareIntegral||"0"==shareIntegral)var shareIntegralFlag=!1;else var shareIntegralFlag=!0;var href_os="#/"+$scope.host+"/orderdetail_share_detail?id="+id,href_mp="#/"+$scope.host+"/userIndex/"+uid,ul_style="qbsd";i>=JSON_list.length-1&&(ul_style="");var div_style=" ";"more"==more&&0==i&&(div_style="margin-top:10px;");var typename=JSON_list[i].typename;if(""==typename){var curJson={id:id,remark:"一元行真的就花了"+num+"块钱中啦，快来膜拜一下！",num:num,content:content,ul_style:ul_style,div_style:div_style,href_mp:href_mp,headpic:headpic,nickname:nickname,intime:intime,href_os:href_os,title:title,ul_html:ul_html,num_comment:num_comment,src:src,num_clicklike:num_clicklike,uid:uid,plurl:"#/"+$scope.host+"/comment?id="+id,shareIntegralFlag:shareIntegralFlag,shareIntegral:shareIntegral};$scope.sharelist.push(curJson)}else{var curJson={id:id,remark:"一元行"+typename+"活动中啦，快来膜拜一下！",num:num,content:content,ul_style:ul_style,div_style:div_style,href_mp:href_mp,headpic:headpic,nickname:nickname,intime:intime,href_os:href_os,title:title,ul_html:ul_html,num_comment:num_comment,src:src,num_clicklike:num_clicklike,uid:uid,plurl:"#/"+$scope.host+"/comment?id="+id,shareIntegralFlag:shareIntegralFlag,shareIntegral:shareIntegral};$scope.sharelist.push(curJson)}}$ionicScrollDelegate.resize(),$scope.canLoadMore.nowPageMore==pageCount||0>=recount?$scope.canLoadMore.code=!1:$timeout(function(){$scope.canLoadMore.code=!0},200),"more"==more?$scope.$broadcast("scroll.infiniteScrollComplete"):"first"!=more&&$scope.$broadcast("scroll.refreshComplete")}})}function pl(more,id){var nowPageMore=$scope.canLoadMore.commPageMore,toPage=1;"more"==more&&(toPage=nowPageMore+1);var isHide=!1;if("first"==more)var isHide=!0;var url=basePath+"pl.jsp",dataJson={toPage:toPage,id:id};$mainServices.post(url,dataJson,isHide).success(function(JSONObjRet){if(null!=JSONObjRet&&void 0!=JSONObjRet&&""!=JSONObjRet){var JSON_list=JSONObjRet.prolist,pageCount=parseInt(JSONObjRet.pageCount),recount=parseInt(JSONObjRet.recount);if($scope.canLoadMore.commPageMore=parseInt(JSONObjRet.showPage),0>=recount&&($scope.canLoadMore.comment=!1),JSON_list.length>0)for(var i=0;i<JSON_list.length;i++){var uid=(JSON_list[i].id,JSON_list[i].uid),content=JSON_list[i].content,intime=JSON_list[i].intime;intime=intime.substring(5,16);var headpic=JSON_list[i].headpic,nickname=JSON_list[i].nickname;headpic=$mainServices.getHttpOrlocalHeadPic(headpic);var json={uid:uid,headpic:headpic,nickname:nickname,content:content,intime:intime,userUrl:"#/"+$scope.host+"/userIndex/"+uid};$scope.datas.push(json)}$scope.canLoadMore.commPageMore==pageCount||0>=recount?$scope.canLoadMore.comment=!1:($ionicScrollDelegate.resize(),$timeout(function(){$scope.canLoadMore.comment=!0},500)),"more"==more?$scope.$broadcast("scroll.infiniteScrollComplete"):"first"!=more&&$scope.$broadcast("scroll.refreshComplete")}})}$scope.sharelist=[],$scope.isShareShow=!0,$scope.datas=[],$scope.postData={content:""};$controller("baseController",{$scope:$scope});$scope.canLoadMore.comment=!1,$scope.canLoadMore.commPageMore=0,window.shareCallBackFn=function(){showTankuangOneBtn("分享成功！"),$("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove()})},$scope.dianzan=function(id){var u=localStorage.getItem("uid_local");if(null==u||""==u)return void alert("请先登录");var src=angular.element("#dianzan_"+id).attr("src");if("img/icon_dz_on.png"==src)return void alert("不能重复点赞");var num_clicklike=angular.element("#num_clicklike_"+id).html(),num_clicklike_int=parseInt(num_clicklike),url=basePath+"setDianzan.jsp",dataJson={u:u,id:id};$mainServices.post(url,dataJson,!1).success(function(jsonRet){if(null!=jsonRet){var code=jsonRet.code;200==code?(angular.element("#num_clicklike_"+id).html(num_clicklike_int+1),angular.element("#dianzan_"+id).attr("src","img/icon_dz_on.png")):alert("网络异常，请稍后重试")}})};var myPopup="";$scope.showPopup=function(remark,content){myPopup=$ionicPopup.show({templateUrl:"templates/index/shareTemplate.html",title:"分享给好友",scope:$scope,buttons:[{text:"取消"}]}),myPopup.then(function(){}),$scope.WeixinShare=function(type){$mainServices.WeixinShare(type,remark,content),$timeout(function(){myPopup.close()},1e3)}},$scope.move=function(index,event){event=event.toElement;var len=angular.element(event).parent().parent().find("li").length;$rootScope.gBanList=[];for(var i=0;len>i;i++)$rootScope.gBanList.push({pic:angular.element(event).parent().parent().find("li").eq(i).find("p").attr("back-image-src")});$rootScope.myActiveSlide=index},getShareOrder("first"),$scope.doRefresh=function(){$scope.canLoadMore.nowPageMore=0,$scope.sharelist=[],getShareOrder()},$scope.loadMore=function(){getShareOrder("more")},$scope.toComment=function(id){$scope.datas=[],$scope.commentid=id,$scope.postData.content="",pl("first",id),$scope.modal.show()},$scope.plSubmit=function(id){var u=localStorage.getItem("uid_local");if(null==u||""==u)return void alert("请先登录");if(""==$scope.postData.content)return void alert("内容不能为空");var url=basePath+"plSubmit.jsp",dataJson={u:u,id:id,pl_content:$scope.postData.content};$mainServices.post(url,dataJson,!0).success(function(jsonRet){if(null!=jsonRet){var code=jsonRet.code;if(200==code){$scope.postData.content="",$scope.datas=[],pl("",id);for(var t=0;t<$scope.sharelist.length;t++)if($scope.sharelist[t].id==id){$scope.sharelist[t].num_comment++;break}}else alert(jsonRet.message)}})},$ionicModal.fromTemplateUrl("templates/index/comment.html",{scope:$scope,animation:"slide-in-up"}).then(function(modal){$scope.modal=modal}),$scope.closeModal=function(){$scope.modal.hide()},$scope.doRefreshComment=function(){$scope.datas=[],pl("",$scope.commentid)},$scope.loadMoreComment=function(){pl("more",$scope.commentid)},$scope.$on("$destroy",function(){$scope.modal.remove(),$rootScope.gBanList=[],""!=myPopup&&myPopup.close()})}return ctrl.$inject=["$scope","$rootScope","$controller","$mainServices","$stateParams","$ionicScrollDelegate","$timeout","$ionicPopup","$ionicModal"],ctrl}),define("orderShareDetailsController",[],function(){function ctrl($scope,$controller,$mainServices,$stateParams,$ionicScrollDelegate,$timeout,$ionicPopup,$ionicModal){function getShareOrderDetail(){var id=$mainServices.getQueryString("id");if(null!=id&&""!=id&&"undefined"!=typeof id){var u=localStorage.getItem("uid_local"),dataJson={uid:u,id:id};$mainServices.post(basePath+"getShareOrderDetailNew.jsp",dataJson,!0).success(function(jsonObj){if(null!=jsonObj&&""!=jsonObj&&"undefined"!=typeof jsonObj){var uid=jsonObj.uid,pterm=(jsonObj.pid,jsonObj.pterm),ptitle=jsonObj.ptitle,title=jsonObj.title,pics=jsonObj.pics,picsArray=$mainServices.splitStr(pics,","),pic0=basePath+picsArray[0],content=jsonObj.content,num_clicklike=jsonObj.num_clicklike,num_comment=jsonObj.num_comment,intime=jsonObj.intime;intime=intime.substring(0,16);var headpic=jsonObj.headpic;headpic=$mainServices.getHttpOrlocalHeadPic(headpic);var nickname=jsonObj.nickname,num=jsonObj.num,typename=jsonObj.typename,src="img/icon_dz.png",recount_share=jsonObj.recount_share;recount_share>0&&(src="img/icon_dz_on.png");var shareIntegral=jsonObj.vouchers;if(""==shareIntegral||"0"==shareIntegral)var shareIntegralFlag=!1;else var shareIntegralFlag=!0;for(var href_mp="#/"+$scope.host+"/userIndex/"+uid,tmp_pic="",i=0;i<picsArray.length;i++)tmp_pic+='<img src="'+domain3+picsArray[i]+'" />';""!=pterm?($scope.isBuyGet=!0,$scope.curJson={id:id,remark:"一元行真的就花了"+num+"块钱，快来膜拜一下！",pic0:pic0,content:content,headpic:headpic,href_mp:href_mp,nickname:nickname,num:num,pterm:pterm,ptitle:ptitle,title:title,intime:intime,num_comment:num_comment,num_clickline:num_clicklike,plurl:"#/"+$scope.host+"/comment?id="+id,shareSrc:src,tmp_pic:tmp_pic,shareIntegralFlag:shareIntegralFlag,shareIntegral:shareIntegral}):($scope.isBuyGet=!1,$scope.curJson={id:id,remark:"一元行"+typename+"活动中啦，快来膜拜一下！",typename:typename,pic0:pic0,content:content,headpic:headpic,href_mp:href_mp,nickname:nickname,num:num,pterm:pterm,ptitle:ptitle,title:title,intime:intime,num_comment:num_comment,num_clickline:num_clicklike,plurl:"#/"+$scope.host+"/comment?id="+id,shareSrc:src,tmp_pic:tmp_pic,shareIntegralFlag:shareIntegralFlag,shareIntegral:shareIntegral})}})}}function pl(more,id){var nowPageMore=$scope.canLoadMore.commPageMore,toPage=1;"more"==more&&(toPage=nowPageMore+1);var isHide=!1;if("first"==more)var isHide=!0;var url=basePath+"pl.jsp",dataJson={toPage:toPage,id:id};$mainServices.post(url,dataJson,isHide).success(function(JSONObjRet){if(null!=JSONObjRet&&void 0!=JSONObjRet&&""!=JSONObjRet){var JSON_list=JSONObjRet.prolist,pageCount=parseInt(JSONObjRet.pageCount),recount=parseInt(JSONObjRet.recount);if($scope.canLoadMore.commPageMore=parseInt(JSONObjRet.showPage),0>=recount&&($scope.canLoadMore.comment=!1),JSON_list.length>0)for(var i=0;i<JSON_list.length;i++){var uid=(JSON_list[i].id,JSON_list[i].uid),content=JSON_list[i].content,intime=JSON_list[i].intime;intime=intime.substring(5,16);var headpic=JSON_list[i].headpic,nickname=JSON_list[i].nickname;headpic=$mainServices.getHttpOrlocalHeadPic(headpic);var json={uid:uid,headpic:headpic,nickname:nickname,content:content,intime:intime,userUrl:"#/"+$scope.host+"/userIndex/"+uid};$scope.datas.push(json)}$scope.canLoadMore.commPageMore==pageCount||0>=recount?$scope.canLoadMore.comment=!1:($ionicScrollDelegate.resize(),$timeout(function(){$scope.canLoadMore.comment=!0},500)),"more"==more?$scope.$broadcast("scroll.infiniteScrollComplete"):"first"!=more&&$scope.$broadcast("scroll.refreshComplete")}})}$scope.curJson={},$scope.datas=[],$scope.postData={content:""},$scope.isBuyGet=!0;$controller("baseController",{$scope:$scope});$scope.canLoadMore.comment=!1,$scope.canLoadMore.commPageMore=0,window.shareCallBackFn=function(){showTankuangOneBtn("分享成功！"),$("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove()})},$scope.dianzan=function(id){var u=localStorage.getItem("uid_local");if(null==u||""==u)return void alert("请先登录");var src=angular.element("#dianzan").attr("src");if("img/icon_dz_on.png"==src)return void alert("不能重复点赞");var num_clicklike=angular.element("#num_clicklike").html(),num_clicklike_int=parseInt(num_clicklike),url=basePath+"setDianzan.jsp",dataJson={u:u,id:id};$mainServices.post(url,dataJson,!1).success(function(jsonRet){if(null!=jsonRet){var code=jsonRet.code;
200==code?(angular.element("#num_clicklike").html(num_clicklike_int+1),angular.element("#dianzan").attr("src","img/icon_dz_on.png")):alert("网络异常，请稍后重试")}})};var myPopup="";$scope.showPopup=function(remark,content){myPopup=$ionicPopup.show({templateUrl:"templates/index/shareTemplate.html",title:"分享给好友",scope:$scope,buttons:[{text:"取消"}]}),myPopup.then(function(){}),$scope.WeixinShare=function(type){$mainServices.WeixinShare(type,remark,content),$timeout(function(){myPopup.close()},1e3)}},getShareOrderDetail(),$scope.toComment=function(id){$scope.datas=[],$scope.commentid=id,$scope.postData.content="",pl("first",id),$scope.modal.show()},$scope.plSubmit=function(id){var u=localStorage.getItem("uid_local");if(null==u||""==u)return void alert("请先登录");if(""==$scope.postData.content)return void alert("内容不能为空");var url=basePath+"plSubmit.jsp",dataJson={u:u,id:id,pl_content:$scope.postData.content};$mainServices.post(url,dataJson,!0).success(function(jsonRet){if(null!=jsonRet){var code=jsonRet.code;200==code?($scope.postData.content="",$scope.datas=[],pl("",id),$scope.curJson.num_comment++):alert(jsonRet.message)}})},$ionicModal.fromTemplateUrl("templates/index/comment.html",{scope:$scope,animation:"slide-in-up"}).then(function(modal){$scope.modal=modal}),$scope.closeModal=function(){$scope.modal.hide()},$scope.doRefreshComment=function(){$scope.datas=[],pl("",$scope.commentid)},$scope.loadMoreComment=function(){pl("more",$scope.commentid)},$scope.$on("$destroy",function(){$scope.modal.remove(),""!=myPopup&&myPopup.close()})}return ctrl.$inject=["$scope","$controller","$mainServices","$stateParams","$ionicScrollDelegate","$timeout","$ionicPopup","$ionicModal"],ctrl}),define("userIndexController",[],function(){function ctrl($scope,$controller,$mainServices,$stateParams,$ionicScrollDelegate,$timeout){function getBuyRecord(isShow){var u_fwz=localStorage.getItem("uid_local");null==u_fwz&&(u_fwz="");var url=basePath+"buyRecordUserIndex.jsp",dataJson={u:$scope.uid,u_fwz:u_fwz,toPage:$scope.canLoadMore[0].showPage};$mainServices.post(url,dataJson,isShow).success(function(JSONObjRet){var JSON_list=JSONObjRet.odlist,pageCount=parseInt(JSONObjRet.pageCount),showPage=parseInt(JSONObjRet.showPage),isFriend=JSONObjRet.isFriend,zy=JSONObjRet.zy;if(JSON_list.length>0){for(var i=0;i<JSON_list.length;i++){var pid=JSON_list[i].pid,pterm=JSON_list[i].pterm,publictime=(JSON_list[i].renci,JSON_list[i].publictime),total_time=(JSON_list[i].winnerid,JSON_list[i].now_term,JSON_list[i].total_time),finish_time=JSON_list[i].finish_time,ptype=JSON_list[i].ptype,shengyu_time=parseInt(total_time)-parseInt(finish_time),baifenbi=parseFloat(finish_time/total_time);baifenbi=100*baifenbi.toFixed(2)+"%";var ptitle=JSON_list[i].ptitle,pic=JSON_list[i].pic;pic=$mainServices.getHttpOrlocalProPic(pic);var jiexiaoStatus="进行中",classColor="gmjl_ztjs";if("2"==ptype)var pUrl="#/"+$scope.host+"/newbieDetail?type=1&pid="+pid+"&pterm="+pterm;else var pUrl="#/"+$scope.host+"/newproductdetail?type=1&pid="+pid+"&pterm="+pterm;if(null!=publictime&&""!=publictime){var publicParse=new Date(Date.parse($mainServices.getTimeNo_0(publictime).replace(/-/g,"/"))),pubTime=Date.UTC(publicParse.getFullYear(),publicParse.getMonth(),publicParse.getDate(),publicParse.getHours(),publicParse.getMinutes(),publicParse.getSeconds())-288e5,nowTime=JSONObjRet.presentTime;pubTime>nowTime?jiexiaoStatus="正在揭晓":(jiexiaoStatus="已揭晓",pUrl="2"==ptype?"#/"+$scope.host+"/newbieDetail?type=2&pid="+pid+"&pterm="+pterm:"#/"+$scope.host+"/newproductdetail?type=2&pid="+pid+"&pterm="+pterm),baifenbi="100%",shengyu_time="0",classColor="gmjl_zt"}$scope.buyRecords.push({classColor:classColor,jiexiaoStatus:jiexiaoStatus,pic:pic,pUrl:pUrl,pterm:pterm,ptitle:$mainServices.subStringTitle(ptitle,25),baifenbi:baifenbi,finish_time:finish_time,total_time:total_time,shengyu_time:shengyu_time})}$ionicScrollDelegate.resize(),$scope.canLoadMore[0].showPage=showPage,pageCount>showPage?$timeout(function(){$scope.canLoadMore[0].code=!0},500):$scope.canLoadMore[0].code=!1,$scope.$broadcast("scroll.infiniteScrollComplete")}"2"==zy?$scope.buyRecordOne=[!0,!1,!1,!1]:JSON_list.length<3&&JSON_list.length>0?$scope.buyRecordOne=[!1,!1,!1,!1]:0==isFriend&&JSON_list.length>0?$scope.buyRecordOne=[!1,!1,!1,!0]:0==isFriend&&0==JSON_list.length&&"1"==zy?$scope.buyRecordOne=[!1,!0,!1,!1]:0==JSON_list.length&&($scope.buyRecordOne=[!1,!1,!0,!1])})}function getBuyRecordHd(isShow){var u_fwz=localStorage.getItem("uid_local");null==u_fwz&&(u_fwz="");var url=basePath+"buyRecordUserIndex.jsp",dataJson={u:$scope.uid,u_fwz:u_fwz,hd:1,toPage:$scope.canLoadMore[1].showPage};$mainServices.post(url,dataJson,isShow).success(function(JSONObjRet){var JSON_list=JSONObjRet.odlist,pageCount=parseInt(JSONObjRet.pageCount),showPage=parseInt(JSONObjRet.showPage),isFriend=JSONObjRet.isFriend,zy=JSONObjRet.zy;if(JSON_list.length>0){for(var i=0;i<JSON_list.length;i++){var pid=JSON_list[i].pid,pterm=JSON_list[i].pterm,publictime=(JSON_list[i].renci,JSON_list[i].publictime),luckynumber=(JSON_list[i].winnerid,JSON_list[i].luckynumber),ptype=JSON_list[i].ptype,ptitle=JSON_list[i].ptitle,pic=JSON_list[i].pic;pic=$mainServices.getHttpOrlocalProPic(pic);var jiexiaoStatus="进行中";if("2"==ptype)var pUrl="#/"+$scope.host+"/newbieDetail?type=1&pid="+pid+"&pterm="+pterm;else var pUrl="#/"+$scope.host+"/newproductdetail?type=1&pid="+pid+"&pterm="+pterm;if(null!=publictime&&""!=publictime){var publicParse=new Date(Date.parse($mainServices.getTimeNo_0(publictime).replace(/-/g,"/"))),pubTime=Date.UTC(publicParse.getFullYear(),publicParse.getMonth(),publicParse.getDate(),publicParse.getHours(),publicParse.getMinutes(),publicParse.getSeconds())-288e5,nowTime=JSONObjRet.presentTime;if(pubTime>nowTime)jiexiaoStatus="正在揭晓";else{jiexiaoStatus="已揭晓",pUrl="2"==ptype?"#/"+$scope.host+"/newbieDetail?type=2&pid="+pid+"&pterm="+pterm:"#/"+$scope.host+"/newproductdetail?type=2&pid="+pid+"&pterm="+pterm;$scope.buyRecordHd.push({pic:pic,pUrl:pUrl,pterm:pterm,ptitle:$mainServices.subStringTitle(ptitle,20),luckynumber:luckynumber,publictime:$mainServices.getTimeNo_0(publictime)})}}}$ionicScrollDelegate.resize(),$scope.canLoadMore[1].showPage=showPage,pageCount>showPage?$timeout(function(){$scope.canLoadMore[1].code=!0},500):$scope.canLoadMore[1].code=!1,$scope.$broadcast("scroll.infiniteScrollComplete")}"2"==zy?$scope.buyRecordTwo=[!0,!1,!1,!1]:JSON_list.length<3&&JSON_list.length>0?$scope.buyRecordTwo=[!1,!1,!1,!1]:0==isFriend&&JSON_list.length>0?$scope.buyRecordTwo=[!1,!1,!1,!0]:0==isFriend&&0==JSON_list.length&&"1"==zy?$scope.buyRecordTwo=[!1,!0,!1,!1]:0==JSON_list.length&&($scope.buyRecordTwo=[!1,!1,!0,!1])})}function getShaidan(isShow){var u_fwz=localStorage.getItem("uid_local");null==u_fwz&&(u_fwz="");var url=basePath+"buyRecordUserIndex.jsp",dataJson={u:$scope.uid,u_fwz:u_fwz,sd:1,toPage:$scope.canLoadMore[2].showPage};$mainServices.post(url,dataJson,isShow).success(function(JSONObjRet){var JSON_list=JSONObjRet.odlist,pageCount=parseInt(JSONObjRet.pageCount),showPage=parseInt(JSONObjRet.showPage),isFriend=JSONObjRet.isFriend,zy=JSONObjRet.zy;if(JSON_list.length>0){for(var i=0;i<JSON_list.length;i++){var pid=JSON_list[i].pid,pterm=JSON_list[i].pterm,publictime=(JSON_list[i].renci,JSON_list[i].publictime),luckynumber=(JSON_list[i].winnerid,JSON_list[i].luckynumber),ptype=JSON_list[i].ptype,ptitle=JSON_list[i].ptitle,pic=JSON_list[i].pic;pic=$mainServices.getHttpOrlocalProPic(pic);var jiexiaoStatus="进行中";if("2"==ptype)var pUrl="#/"+$scope.host+"/newbieDetail?type=2&pid="+pid+"&pterm="+pterm;else var pUrl="#/"+$scope.host+"/newproductdetail?type=2&pid="+pid+"&pterm="+pterm;if(null!=publictime&&""!=publictime){var publicParse=new Date(Date.parse($mainServices.getTimeNo_0(publictime).replace(/-/g,"/"))),pubTime=Date.UTC(publicParse.getFullYear(),publicParse.getMonth(),publicParse.getDate(),publicParse.getHours(),publicParse.getMinutes(),publicParse.getSeconds())-288e5,nowTime=JSONObjRet.presentTime;if(pubTime>nowTime)jiexiaoStatus="正在揭晓";else{jiexiaoStatus="已揭晓";$scope.shaidan.push({pUrl:pUrl,pic:pic,pterm:pterm,ptitle:$mainServices.subStringTitle(ptitle,10),luckynumber:luckynumber,publictime:$mainServices.getTimeNo_0(publictime)})}}}$ionicScrollDelegate.resize(),$scope.canLoadMore[2].showPage=showPage,pageCount>showPage?$timeout(function(){$scope.canLoadMore[2].code=!0},500):$scope.canLoadMore[2].code=!1,$scope.$broadcast("scroll.infiniteScrollComplete")}"2"==zy?$scope.buyRecordThree=[!0,!1,!1,!1]:JSON_list.length<3&&JSON_list.length>0?$scope.buyRecordThree=[!1,!1,!1,!1]:0==isFriend&&JSON_list.length>0?$scope.buyRecordThree=[!1,!1,!1,!0]:0==isFriend&&0==JSON_list.length&&"1"==zy?$scope.buyRecordThree=[!1,!0,!1,!1]:0==JSON_list.length&&($scope.buyRecordThree=[!1,!1,!0,!1])})}$scope.buyRecords=[],$scope.buyRecordHd=[],$scope.shaidan=[],$scope.curTab=1,$scope.header={headpic:"img/head_pic_sys.jpg"},$scope.tabCss=["xz_on","",""],$scope.buyRecordOne=[!1,!1,!1,!1],$scope.buyRecordTwo=[!1,!1,!1,!1],$scope.buyRecordThree=[!1,!1,!1,!1];$controller("baseController",{$scope:$scope});if($scope.canLoadMore=[{code:!1,showPage:1},{code:!1,showPage:1},{code:!1,showPage:1}],$scope.uid=$stateParams.u,(null==$scope.uid||""==$scope.uid)&&($scope.uid=localStorage.getItem("uid_local"),null==$scope.uid||""==$scope.uid))return void alert("参数丢失。");if(null!=$scope.uid||""!=$scope.uid||"undefined"!=typeof $scope.uid){var url=basePath+"getUser.jsp",dataJson={u:$scope.uid,t:6};$mainServices.post(url,dataJson,!0).success(function(JSON_list){if(JSON_list.length>0){var headpic=JSON_list[0].headpic,username=JSON_list[0].username,nickname=JSON_list[0].nickname;""==nickname&&(nickname=$mainServices.substringPhone(username)),$scope.header.headpic=$mainServices.getHttpOrlocalHeadPic(headpic),$scope.header.nickname=nickname,getBuyRecord(!0)}})}$scope.tab=function(t){$scope.curTab=t,$scope.tabCss=["","",""],$scope.tabCss[t-1]="xz_on",$ionicScrollDelegate.resize(),0==$scope.buyRecordHd.length&&2==t&&($scope.canLoadMore[1].code=!1,getBuyRecordHd(!0)),0==$scope.shaidan.length&&3==t&&($scope.canLoadMore[2].code=!1,getShaidan(!0))},$scope.loadMorebuyRecord=function(){$scope.canLoadMore[0].showPage++,getBuyRecord(!1)},$scope.loadMorebuyRecordHd=function(){$scope.canLoadMore[1].showPage++,getBuyRecordHd(!1)},$scope.loadMoreshaidan=function(){$scope.canLoadMore[2].showPage++,getShaidan(!1)}}return ctrl.$inject=["$scope","$controller","$mainServices","$stateParams","$ionicScrollDelegate","$timeout"],ctrl}),define("userCardController",[],function(){function ctrl($scope,$controller,$mainServices,$rootScope,$ionicTabsDelegate){var u=$mainServices.getQueryString("u");$scope.data={};$controller("baseController",{$scope:$scope});if((null==u||""==u)&&(u=localStorage.getItem("uid_local"),null==u||""==u))return void alert("参数丢失");if(null!=u||""!=u||"undefined"!=typeof u){var url=basePath+"getUser.jsp",dataJson={u:u,t:6};$mainServices.post(url,dataJson,!0).success(function(JSON_list){if(JSON_list.length>0){var headpic=JSON_list[0].headpic,username=JSON_list[0].username,nickname=JSON_list[0].nickname,sex=JSON_list[0].sex,address=JSON_list[0].address;""==address&&(address="这家伙很懒，什么都没写。");var hometown=JSON_list[0].hometown;""==hometown&&(hometown="这家伙很懒，什么都没写。");var signature=JSON_list[0].signature;""==signature&&(signature="这家伙很懒，什么都没写。");var experience=JSON_list[0].experience;headpic=$mainServices.getHttpOrlocalHeadPic(headpic),$scope.data={headpic:headpic,nickname:nickname,username:$mainServices.substringPhone(username),sex:$mainServices.getSexStr(sex),address:address,hometown:hometown,signature:signature,experience:experience}}})}$scope.gotoHome=function(){$rootScope.hideTabs="",$ionicTabsDelegate.select(0)}}return ctrl.$inject=["$scope","$controller","$mainServices","$rootScope","$ionicTabsDelegate"],ctrl}),define("shopnumberController",[],function(){function ctrl($scope,$controller,$mainServices,$ionicScrollDelegate,$timeout){function getShopnumberAll(isHide){var pid=$mainServices.getQueryString("pid"),pterm=$mainServices.getQueryString("pterm"),u=$mainServices.getQueryString("u"),nowPageMore=$scope.data.nowPageMore+1,url=basePath+"getShopnumberAll.jsp",dataJson={pid:pid,pterm:pterm,u:u,toPage:nowPageMore};$mainServices.post(url,dataJson,isHide).success(function(JSONObjRet){var JSON_list=JSONObjRet.dblist,pageCount=parseInt(JSONObjRet.pageCount),recount=parseInt(JSONObjRet.recount),showPage=parseInt(JSONObjRet.showPage);$scope.data.nowPageMore=showPage;var luckynumber=JSONObjRet.luckynumber;$scope.data.renci=recount,$scope.data.luckynumber=luckynumber,$scope.data.numbers=$scope.data.numbers.concat(JSON_list),$ionicScrollDelegate.resize(),showPage==pageCount||0>=recount?$timeout(function(){$scope.data.loadingStatus=0},500):$timeout(function(){$scope.data.loadingStatus=1},500),$scope.$broadcast("scroll.infiniteScrollComplete")})}$scope.data={nowPageMore:0,loadingStatus:0,renci:0,luckynumber:"",numbers:[]};$controller("baseController",{$scope:$scope});getShopnumberAll(!0),$scope.loadMore=function(){getShopnumberAll(!1)}}return ctrl.$inject=["$scope","$controller","$mainServices","$ionicScrollDelegate","$timeout"],ctrl}),define("productJisuanController",[],function(){function ctrl($scope,$controller,$mainServices,$stateParams){$scope.isNew=!1,$scope.data={top:"",tbody:"",bottom:""},$scope.number={};var pid=($controller("baseController",{$scope:$scope}),$stateParams.pid),pterm=$stateParams.pterm,url=basePath+"productJisuan.jsp",dataJson={pid:pid,pterm:pterm};$mainServices.post(url,dataJson,!0).success(function(JSON_Obj){if(null!=JSON_Obj){var JSON_list4=JSON_Obj.dblist,html_top_div=JSON_Obj.html_top_div,html_jisuan_div=JSON_Obj.html_jisuan_div,html_jisuan_flag=JSON_Obj.status;if("0"==html_jisuan_flag?$scope.isNew=!1:($scope.isNew=!0,$scope.number.jisuantimetotal=JSON_Obj.jisuantimetotal,$scope.number.jisuantPterm=JSON_Obj.jisuantPterm,$scope.number.jisuanSums=JSON_Obj.jisuanSums,$scope.number.fucaicode=JSON_Obj.fucaicode,$scope.number.total_time=JSON_Obj.total_time,$scope.number.luckynumber=JSON_Obj.luckynumber),null!=JSON_list4&&JSON_list4.length>=50){for(var i=0;i<JSON_list4.length;i++){var intimestamp=JSON_list4[i].intimestamp,intime=JSON_list4[i].intime,nickname_buy=JSON_list4[i].nickname,nums=JSON_list4[i].nums,pterms=JSON_list4[i].pterms;if("0"==html_jisuan_flag)var html_od='<tr><td width="46%" class="th-jisuan">'+intime+'</td><td width="27%" class="td-jisuan">'+intimestamp+'</td><td width="27%" class="th-jisuan">'+nickname_buy+"</td></tr>";else var html_od='<tr><td width="36%" class="th-jisuan th-sm">'+intime+'</td><td width="20%" class="td-jisuan th-sm">'+intimestamp+'</td><td width="20%" class="th-jisuan th-sm">'+nickname_buy+'</td><td width="12%" class="td-jisuan th-sm">'+nums+'</td><td width="12%" class="th-jisuan th-sm">'+pterms+"</td></tr>";$scope.data.tbody+=html_od}if("0"!=html_jisuan_flag){var str='<tr style="color:#f00"><td width="36%" class="th-jisuan th-sm">合计</td><td width="20%" class="td-jisuan th-sm">'+$scope.number.jisuantimetotal+'</td><td width="20%" class="th-jisuan th-sm"></td><td width="12%" class="td-jisuan th-sm">'+$scope.number.jisuanSums+'</td><td width="12%" class="th-jisuan th-sm">'+$scope.number.jisuantPterm+"</td></tr>";$scope.data.tbody+=str}$scope.data.top=html_top_div,$scope.data.bottom=html_jisuan_div}}})}return ctrl.$inject=["$scope","$controller","$mainServices","$stateParams"],ctrl}),define("newPublishListController",[],function(){function ctrl($scope,$ionicHistory,$mainServices,$controller,$interval,$ionicScrollDelegate,$location,$q,$timeout){function daojishiInt(pid,publictime,id,nowTime){$scope.publicProductdaojishi(pid,publictime,id,nowTime)}function touchStart(){clearInterval(touchInter),$timeout.cancel(moveTimer)}function touchMove(){moveFlag=!0,clearInterval(touchInter),$timeout.cancel(moveTimer)}function touchEnd(event){clearInterval(touchInter),1==moveFlag&&(touchInter=setInterval(function(){lastPos==$ionicScrollDelegate.getScrollPosition().top&&(event.preventDefault(),event.stopPropagation(),clearInterval(touchInter),moveTimer=$timeout(function(){moveFlag=!1},301)),lastPos=$ionicScrollDelegate.getScrollPosition().top},100))}$scope.listGoods=[],$scope.isGoodsShow=!0,$scope.jjjx=[];var idList=[],base=$controller("baseController",{$scope:$scope}),d1=$q.defer(),promise1=d1.promise;$scope.getProductPublic=function(t){d1=$q.defer(),promise1=d1.promise;var isHide=!1;"first"==t&&((null==localStorage.getItem("latestAnnouncementData")||""==localStorage.getItem("latestAnnouncementData"))&&(isHide=!0),$scope.canLoadMore.nowPageMore=0);var url=basePath+"getProductPublic.jsp",dataJson={toPage:$scope.canLoadMore.nowPageMore+1};$mainServices.post(url,dataJson,isHide).success(function(JSONObjRet){$scope.canLoadMore.code=!1;var JSON_list=JSONObjRet.prolistnew,pageCount=parseInt(JSONObjRet.pageCount),recount=parseInt(JSONObjRet.recount);if($scope.canLoadMore.nowPageMore=parseInt(JSONObjRet.showPage),"more"!=t&&JSON_list.length>0){$scope.listGoods=[];var len=idList.length;if(len>0){for(var i=0;len>i;i++)$interval.cancel($scope.jjjx[idList[i].id]),$scope.jjjx[idList[i].id]=void 0;idList=[]}}if(0>=recount)return $scope.isGoodsShow=!1,void($scope.canLoadMore.code=!1);if($scope.isGoodsShow=!0,JSON_list.length>0){for(var curLen=$scope.listGoods.length,i=0;i<JSON_list.length;i++){var id=JSON_list[i].id,publictime=JSON_list[i].publictime,pid=JSON_list[i].pid,pterm=JSON_list[i].pterm,ptitle=JSON_list[i].ptitle,pic=JSON_list[i].pic,price=JSON_list[i].price;ptitle="(第"+pterm+"期)"+ptitle,pic=$mainServices.getHttpOrlocalProPic(pic);for(var nickname=(JSON_list[i].winnerid,JSON_list[i].nickname),num_total=JSON_list[i].renci,publicParse=new Date(Date.parse($mainServices.getTimeNo_0(publictime).replace(/-/g,"/"))),pubTime=Date.UTC(publicParse.getFullYear(),publicParse.getMonth(),publicParse.getDate(),publicParse.getHours(),publicParse.getMinutes(),publicParse.getSeconds())-288e5,nowTime=JSONObjRet.presentTime,ifRepeat=!1,ptype=JSON_list[i].ptype,a=0;curLen>a;a++)if(id==$scope.listGoods[a].id){ifRepeat=!0;break}if(!ifRepeat)if(pubTime>nowTime){if("2"==ptype)var url1="#/"+$scope.host+"/newbieDetail?type=2&pid="+pid+"&pterm="+pterm,url2="#/"+$scope.host+"/newbieDetail?type=1&pid="+pid+"&pterm="+pterm;else var url1="#/"+$scope.host+"/newproductdetail?type=2&pid="+pid+"&pterm="+pterm,url2="#/"+$scope.host+"/newproductdetail?type=1&pid="+pid+"&pterm="+pterm;$scope.listGoods.push({type1:"show",type2:"show",show:"none",url1:url1,url2:url2,pid:pid,pterm:pterm,id:id,pic:pic,ptitle1:ptitle,ptitle2:ptitle,nickname:nickname,num_total:num_total,price:price,publictime:$mainServices.getTimeNo_0(publictime)}),idList.push({pid:pid,pubTime:pubTime,id:id,nowTime:nowTime}),daojishiInt(pid,pubTime,id,nowTime)}else{if("2"==ptype)var url1="#/"+$scope.host+"/newbieDetail?type=2&pid="+pid+"&pterm="+pterm,url2="#/"+$scope.host+"/newbieDetail?type=1&pid="+pid+"&pterm="+pterm;else var url1="#/"+$scope.host+"/newproductdetail?type=2&pid="+pid+"&pterm="+pterm,url2="#/"+$scope.host+"/newproductdetail?type=1&pid="+pid+"&pterm="+pterm;$scope.listGoods.push({type1:"show",type2:"",show:"block",url1:url1,url2:url2,pid:pid,pterm:pterm,id:id,pic:pic,ptitle1:ptitle,ptitle2:ptitle,nickname:nickname,num_total:num_total,price:price,publictime:$mainServices.getTimeNo_0(publictime)})}}"more"!=t&&localStorage.setItem("latestAnnouncementData",JSON.stringify(JSONObjRet))}d1.resolve(),$ionicScrollDelegate.resize(),$scope.canLoadMore.nowPageMore==pageCount||0>=recount?$scope.canLoadMore.code=!1:pageCount>$scope.canLoadMore.nowPageMore&&recount>0&&($scope.canLoadMore.code=!0),"more"==t?$scope.$broadcast("scroll.infiniteScrollComplete"):"first"!=t&&$scope.$broadcast("scroll.refreshComplete")}).error(function(){d1.resolve()})},$scope.publicProductdaojishi=function(pid_,public_time,id,nowTime){var t=public_time-nowTime;$scope.jjjx[id]=$interval(function(){if(t>0){var m=0,s=0,s_m_100=t+"";t>=0&&(m=Math.floor(t/1e3/60%60),s=Math.floor(t/1e3%60),s_m_100=s_m_100.substr(s_m_100.length-3,2)),m+="",s+="",1==m.length&&(m="0"+m),1==s.length&&(s="0"+s),angular.element("#daojishi_span_"+id).html("&nbsp;&nbsp;&nbsp;&nbsp;"+m+":"+s+":"+s_m_100),t-=30}else $interval.cancel($scope.jjjx[id]),idList.removeById(id),$scope.jjjx[id]=void 0,angular.element("#daojishi_ul_"+id).remove(),angular.element("#yijiexiao_ul_"+id).show(),$ionicScrollDelegate.resize()},30)},$scope.skip=function(url){skip(url)},$scope.getProductPublicRecord=function(){d1=$q.defer(),promise1=d1.promise;var JSONObjRet=localStorage.getItem("latestAnnouncementData");if(null==JSONObjRet||""==JSONObjRet)return void $scope.getProductPublic("first");JSONObjRet=JSON.parse(JSONObjRet),$scope.canLoadMore.code=!1;var JSON_list=JSONObjRet.prolistnew,pageCount=parseInt(JSONObjRet.pageCount),recount=parseInt(JSONObjRet.recount);if($scope.canLoadMore.nowPageMore=parseInt(JSONObjRet.showPage),0>=recount)return $scope.isGoodsShow=!1,void($scope.canLoadMore.code=!1);if($scope.isGoodsShow=!0,JSON_list.length>0)for(var i=0;i<JSON_list.length;i++){var id=JSON_list[i].id,publictime=JSON_list[i].publictime,pid=JSON_list[i].pid,pterm=JSON_list[i].pterm,ptitle=JSON_list[i].ptitle,pic=JSON_list[i].pic,price=JSON_list[i].price;ptitle="(第"+pterm+"期)"+ptitle,pic=$mainServices.getHttpOrlocalProPic(pic);var nickname=(JSON_list[i].winnerid,JSON_list[i].nickname),num_total=JSON_list[i].renci,publicParse=new Date(Date.parse($mainServices.getTimeNo_0(publictime).replace(/-/g,"/"))),pubTime=Date.UTC(publicParse.getFullYear(),publicParse.getMonth(),publicParse.getDate(),publicParse.getHours(),publicParse.getMinutes(),publicParse.getSeconds())-288e5,nowTime=JSONObjRet.presentTime;pubTime>nowTime?($scope.listGoods.push({type1:"show",type2:"show",show:"none",url1:"#/"+$scope.host+"/newproductdetail?type=2&pid="+pid+"&pterm="+pterm,url2:"#/"+$scope.host+"/newproductdetail?type=1&pid="+pid+"&pterm="+pterm,pid:pid,pterm:pterm,id:id,pic:pic,ptitle1:ptitle,ptitle2:ptitle,nickname:nickname,num_total:num_total,price:price,publictime:$mainServices.getTimeNo_0(publictime)}),idList.push({pid:pid,pubTime:pubTime,id:id,nowTime:nowTime}),daojishiInt(pid,pubTime,id,nowTime)):$scope.listGoods.push({type1:"show",type2:"",show:"block",url1:"#/"+$scope.host+"/newproductdetail?type=2&pid="+pid+"&pterm="+pterm,url2:"#/"+$scope.host+"/newproductdetail?type=1&pid="+pid+"&pterm="+pterm,pid:pid,pterm:pterm,id:id,pic:pic,ptitle1:ptitle,ptitle2:ptitle,nickname:nickname,num_total:num_total,price:price,publictime:$mainServices.getTimeNo_0(publictime)})}d1.resolve(),$ionicScrollDelegate.resize(),$scope.canLoadMore.nowPageMore==pageCount||0>=recount?$scope.canLoadMore.code=!1:pageCount>$scope.canLoadMore.nowPageMore&&recount>0&&($scope.canLoadMore.code=!0),$scope.getProductPublic("first")},$scope.getProductPublicRecord();var moveTimer,lastPos=0,moveFlag=!1,touchInter=null;$scope.pauseScroll=function(event){1==moveFlag&&(event.preventDefault(),event.stopPropagation(),moveFlag=!1,clearInterval(touchInter))},document.addEventListener("touchstart",touchStart,!1),document.addEventListener("touchmove",touchMove,!1),document.addEventListener("touchend",touchEnd,!1),$scope.doRefresh=function(){$scope.canLoadMore.nowPageMore=0,$scope.getProductPublic()},$scope.loadMore=function(){$scope.getProductPublic("more")},$scope.tabPoint();var isFirst=1;$scope.$on("$stateChangeSuccess",function(){"/activite/newPublishList"!=$location.path()&&($q.all([promise1]).then(function(){var len=idList.length;if(len>0)for(var i=0;len>i;i++)$interval.cancel($scope.jjjx[idList[i].id]),$scope.jjjx[idList[i].id]=void 0}),document.removeEventListener("touchstart",touchStart,!1),document.removeEventListener("touchmove",touchMove,!1),document.removeEventListener("touchend",touchEnd,!1)),1==isFirst&&(isFirst=2,$scope.$on("$ionicView.beforeEnter",function(){var idLen=idList.length;if(idLen>0)for(var i=0;idLen>i;i++)daojishiInt(idList[i].pid,idList[i].pubTime,idList[i].id,idList[i].nowTime);$scope.canLoadMore.nowPageMore=0,$ionicScrollDelegate.scrollTop(0),$scope.getProductPublic(),document.addEventListener("touchstart",touchStart,!1),document.addEventListener("touchmove",touchMove,!1),document.addEventListener("touchend",touchEnd,!1),$scope.tabPoint(),base=$controller("baseController",{$scope:$scope})}))})}return ctrl.$inject=["$scope","$ionicHistory","$mainServices","$controller","$interval","$ionicScrollDelegate","$location","$q","$timeout"],ctrl}),define("cartController",[],function(){function ctrl($scope,$ionicHistory,$mainServices,$factoryServices,$controller,$rootScope,$ionicScrollDelegate,$location,$ionicTabsDelegate,$q){function isSelCart(selected,index,num){var sel="";1==selected?(sel=" on",$scope.cart_length++,$scope.summoney+=parseInt(num)):($scope.cart_length--,$scope.summoney-=parseInt(num)),$scope.carts[index].sel=sel,$rootScope.cartNumber=$scope.cart_length;for(var selAll=!0,i=0;i<$scope.carts.length;i++)""==$scope.carts[i].sel&&(selAll=!1);selAll?($scope.choose=["on",""],$scope.chkAll=0):($scope.choose=["","on"],$scope.chkAll=1)}function operateNum(selected,index,status){if(1==selected)if("add"==status)$scope.summoney++;else if("decrease"==status)$scope.summoney--;else if("update"==status){$scope.summoney=0;for(var i=0;i<$scope.carts.length;i++)" on"==$scope.carts[i].sel&&($scope.summoney+=parseInt(angular.element("#num_pro_"+$scope.carts[i].pid).val()))}}$scope.carts=[],$scope.rqtjList=[],$scope.summoney=0,$scope.cart_length=0,$scope.choose=["","on"],$scope.cartNoneSpan="购物车是空的呦~",$scope.cartNoneA="去逛逛";var base=$controller("baseController",{$scope:$scope});$scope.getCart=function(){$scope.choose=["","on"],$scope.summoney=0,$scope.carts=[],$scope.cart_length=0;var u=localStorage.getItem("uid_local");if(null==u||""==u)return $scope.cartNoneSpan="您还没有登录",$scope.cartNoneA="去登录",localStorage.setItem("backUrlLogin","#/"+$scope.host+"/cart"),$scope.toBuy=function(){$location.path("/"+$scope.host+"/log")},$rootScope.cartNumber=0,void $scope.getHotProduct();$scope.toBuy=function(){$ionicTabsDelegate.select(0)};var sel_all=!0,url=basePath+"getCart.jsp",dataJson={u:u};$mainServices.post(url,dataJson,!0).success(function(JSONObj){if(null!=JSONObj&&void 0!=JSONObj&&""!=JSONObj){var JSON_list=JSONObj.cart_list,cartL=JSON_list.length;if(cartL>0){$scope.carts=[];for(var i=0;cartL>i;i++){var pid=JSON_list[i].pid,num=parseInt(JSON_list[i].num),selected=JSON_list[i].selected,now_term=JSON_list[i].now_term,total_time=JSON_list[i].total_time,finish_time=JSON_list[i].finish_time,shengyu_time=(JSON_list[i].ptype,JSON_list[i].purchase_limit_time,parseInt(JSON_list[i].renciBuy),parseInt(total_time)-parseInt(finish_time));if(!(0>=shengyu_time)){var shengyu_xiangou="剩余"+shengyu_time+"人次";num>shengyu_time&&(num=shengyu_time);var pic=JSON_list[i].pic;pic=$mainServices.getHttpOrlocalProPic(pic);var ptitle=JSON_list[i].ptitle,sel="";ptitle="(第"+now_term+"期)"+ptitle,1==selected?($scope.cart_length++,$scope.summoney+=num,sel=" on"):sel_all=!1;var url="#/"+$scope.host+"/newproductdetail?type=1&pid="+pid,cart={pid:pid,selected:selected,sel:sel,host:$scope.host,pic:pic,ptitle:ptitle,shengyu_xiangou:shengyu_xiangou,max_buy:shengyu_time,num:num,url:url};$scope.carts.push(cart)}}$rootScope.cartNumber=$scope.cart_length}else sel_all=!1,$scope.cartNoneSpan="购物车是空的呦~",$scope.cartNoneA="去逛逛",$rootScope.cartNumber=0,$scope.getHotProduct();sel_all?($scope.choose=["on",""],$scope.chkAll=0):($scope.choose=["","on"],$scope.chkAll=1)}})},$scope.getHotProduct=function(){$mainServices.postNew(domain2+"product/hotProductAction.do",{},!0).success(function(JSONObjRet){if("success"==JSONObjRet.ret){var JSON_list=JSONObjRet.list;$scope.rqtjList=[];for(var i=0;i<JSON_list.length;i++){var pid=JSON_list[i].productID,pic=JSON_list[i].pic,price=JSON_list[i].price,total_time=JSON_list[i].totalTime,finish_time=JSON_list[i].finishTime,now_term=JSON_list[i].nowTerm,ptitle=JSON_list[i].pTitle;pic=$mainServices.getHttpOrlocalProPic(pic);var shengyu_time=parseInt(total_time)-parseInt(finish_time),baifenbi=parseFloat(finish_time/total_time);baifenbi=100*baifenbi.toFixed(2)+"%",$scope.rqtjList.push({flag:1,pid:pid,pic:pic,price:price,baifenbi:baifenbi,finish_time:finish_time,total_time:total_time,shengyu_time:shengyu_time,now_term:now_term,ptitle:ptitle})}}})},$scope.addCart=function(pid,num,src,event,index){event.preventDefault();var u=localStorage.getItem("uid_local");if(null==u||""==u)return localStorage.setItem("backUrlLogin","#"+$ionicHistory.currentView().url),void $location.path("/"+$scope.host+"/log");(null==num||""==num||0==num)&&(num=1);var listAry=[{pid:pid,num:num,selected:1}],url=basePath+"getUserShoppingRecord.jsp",dataJson={platform:2,u:u,list:JSON.stringify(listAry)},flyer=angular.element('<img class="u-flyer" src="'+src+'">');event=event.toElement;var imgobj=angular.element(event).parent().parent().parent().find(".m-tj-pic img"),d1=$q.defer(),promise1=d1.promise,d2=$q.defer(),promise2=d2.promise;flyer.fly({start:{left:imgobj.offset().left,top:imgobj.offset().top},end:{left:$scope.left,top:$scope.top,width:0,height:0},onEnd:function(){this.destory(),d1.resolve()}}),(1==$scope.rqtjList[index].flag||"1"==$scope.rqtjList[index].flag)&&$mainServices.post(url,dataJson,!1).success(function(jsonObj){if(null!=jsonObj&&void 0!=jsonObj||""!=jsonObj)if("ok"!=jsonObj.judge)alert("操作失败，请稍后重试"),d2.reject();else{$scope.rqtjList[index].flag=2;var u=localStorage.getItem("uid_local");if(null!=u&&""!=u){var dataJson={u:u},url=basePath+"getCartNum.jsp";$mainServices.post(url,dataJson,!1).success(function(num){var reg=/^[0-9]*$/;reg.test(num)||d2.resolve(num)})}}else d2.reject()}),$q.all([promise1,promise2]).then(function(v){$rootScope.cartNumber=0==v[1]?0:v[1],$scope.getCart()})},$scope.selCartPro=function(pid,selected,index){var selected=0;selected=" on"==$scope.carts[index].sel?0:1;var num=angular.element("#num_pro_"+pid).val();isSelCart(selected,index,num)},$scope.selCartProAll=function(){$scope.summoney=0;var len=0;if($scope.cart_length=0,"on"==$scope.choose[0]){$scope.choose=["","on"],len=$scope.carts.length;for(var i=0;len>i;i++)$scope.carts[i].sel=""}else{$scope.choose=["on",""],len=$scope.carts.length;for(var i=0;len>i;i++)$scope.summoney+=parseInt(angular.element("#num_pro_"+$scope.carts[i].pid).val()),$scope.carts[i].sel=" on";$scope.cart_length=len}$rootScope.cartNumber=$scope.cart_length},$scope.delCartPro=function(pid,idx){var u=localStorage.getItem("uid_local"),url=basePath+"delCart.jsp",dataJson={pid:pid,u:u};$mainServices.post(url,dataJson,!0).success(function(data){if(data){if($scope.carts.splice(idx,1),$scope.carts.length>0){$scope.footerShow=!0,$ionicScrollDelegate.resize(),$scope.summoney=0,$scope.cart_length=0;for(var i=0;i<$scope.carts.length;i++)" on"==$scope.carts[i].sel&&($scope.cart_length++,$scope.summoney+=parseInt(angular.element("#num_pro_"+$scope.carts[i].pid).val()))}else $scope.choose=["","on"],$scope.chkAll=1,$scope.summoney=0,$scope.cartNoneSpan="购物车是空的呦~",$scope.cartNoneA="去逛逛",$scope.cart_length=0,$scope.getHotProduct();$rootScope.cartNumber=$scope.cart_length}else alert("操作失败，请稍后重试。")})},$scope.numAdd=function(pid,selected,max_buy,index,flag){var num=parseInt(angular.element("#num_pro_"+pid).val()),selected=0,status="init";selected=" on"==$scope.carts[index].sel?1:0,max_buy=parseInt(max_buy),max_buy>num&&(num+=1,status="add"),"all"==flag&&(num=max_buy,status="update"),angular.element("#num_pro_"+pid).val(num),angular.element("#price_pro_"+pid).html(num),$scope.carts[index].num=num,operateNum(selected,index,status)},$scope.numDecrease=function(pid,selected,index){var num=parseInt(angular.element("#num_pro_"+pid).val()),selected=0,status="init";selected=" on"==$scope.carts[index].sel?1:0,num>1&&(num-=1,status="decrease"),angular.element("#num_pro_"+pid).val(num),angular.element("#price_pro_"+pid).html(num),$scope.carts[index].num=num,operateNum(selected,index,status)},$scope.numChange=function($event,index){var dom=$event.srcElement,pid=angular.element(dom).attr("pid"),max=parseInt(angular.element(dom).attr("max")),selected=0;selected=" on"==$scope.carts[index].sel?1:0;
var num=angular.element(dom).val();""==num||isNaN(num)?num=1:(num=parseInt(num),num>max?num=max:0>=num&&(num=1)),angular.element(dom).val(num),angular.element("#price_pro_"+pid).html(num),$scope.carts[index].num=num,$scope.summoney=0;for(var i=0;i<$scope.carts.length;i++)" on"==$scope.carts[i].sel&&($scope.summoney+=parseInt(angular.element("#num_pro_"+$scope.carts[i].pid).val()))},$scope.jiesuan=function(){var u=localStorage.getItem("uid_local");if(null==u||""==u)return void alert("请先登录。");var len=$scope.carts.length,listAry=[],num=0;if(0==len)return void alert("请购买商品。");for(var i=0;len>i;i++){var selected=0;" on"==$scope.carts[i].sel&&(selected=1,num++),void 0==$scope.carts[i].num&&($scope.carts[i].num=$scope.carts[i].max_buy),listAry.push({pid:$scope.carts[i].pid,num:$scope.carts[i].num,selected:selected})}if(0>=num)alert("请勾选要结算的商品。");else{var url=basePath+"getUserShoppingRecord.jsp",dataJson={platform:2,u:u,list:JSON.stringify(listAry)};$mainServices.post(url,dataJson,!0).success(function(jsonObj){(null!=jsonObj&&void 0!=jsonObj||""!=jsonObj)&&("ok"!=jsonObj.judge?($scope.carts=[],$scope.summoney=0,$scope.cart_length=0,$scope.getCart(),alert("您勾选的商品剩余次数不足。"),$factoryServices.getCardNum()):skip("#/"+$scope.host+"/orderForm"))})}},$scope.getCart(),$scope.tabPoint();var isFirst=1;$scope.$on("$stateChangeSuccess",function(){if(1==isFirst&&(isFirst=2,$scope.$on("$ionicView.beforeEnter",function(){$scope.getCart(),$scope.tabPoint(),base=$controller("baseController",{$scope:$scope})})),"/cart/cart"!=$location.path()){var u=localStorage.getItem("uid_local");if(null==u||""==u)return;if("/cart/orderForm"==$location.path())return;var len=$scope.carts.length,listAry=[];if(len>0){for(var i=0;len>i;i++){var selected=0;" on"==$scope.carts[i].sel&&(selected=1),listAry.push({pid:$scope.carts[i].pid,num:$scope.carts[i].num,selected:selected})}var url=basePath+"getUserShoppingRecord.jsp",dataJson={platform:2,u:u,list:JSON.stringify(listAry)};$mainServices.post(url,dataJson,!1).success(function(){$factoryServices.getCardNum()})}}})}return ctrl.$inject=["$scope","$ionicHistory","$mainServices","$factoryServices","$controller","$rootScope","$ionicScrollDelegate","$location","$ionicTabsDelegate","$q"],ctrl}),define("orderFormController",[],function(){function ctrl($scope,$controller,$mainServices,$factoryServices,$timeout,$state,$ionicModal,$ionicScrollDelegate){$scope.getPayList=[],$scope.getPayListFlag=!1,$scope.couponStyle="",$scope.order={top:"",integralAll:0,integral:0,balanceAll:0,balance:0,summoney_pay_other:0,couponName:"",couponLen:0,reactMoney:0},$scope.coupon={id:"",money:0},$scope.integralRule={style:"",flag:!1,content:""};$controller("baseController",{$scope:$scope});$factoryServices.hideOrShowAppContent(),window.setAppVersion=function(str1,str2){null==str1&&(str1=""),null==str2&&(str2="");var url=basePath+"getPayMode.jsp";$mainServices.post(url,{sysVersion:str1,resVersion:str2,platform:$mainServices.flagPlatform(),type:"pay",u:localStorage.getItem("uid_local")},!0).success(function(dataJson){if(null!=dataJson&&void 0!=dataJson&&0!=dataJson.length){var len=dataJson.mode.length;if(len>0){for(var i=0;len>i;i++)isiOS?"0"!=dataJson.mode[i].show&&$scope.getPayList.push(dataJson.mode[i]):isAndroid&&"1"!=dataJson.mode[i].show&&$scope.getPayList.push(dataJson.mode[i]);$scope.getPayListFlag=!1}else $scope.getPayListFlag=!0}})},$mainServices.getAppVersion();var jifenMaxMoney;$scope.userIntegral=function($event){var dom=angular.element($event.srcElement),shiyongjifenCheck=dom.attr("checked"),paymoney=$scope.summoney;"checked"==shiyongjifenCheck&&($scope.coupon.money>0?(alert("使用积分时，不能选择使用红包。"),dom.removeAttr("checked")):$scope.order.integral<100||1>jifenMaxMoney?(alert("您的积分不足。"),dom.removeAttr("checked")):paymoney-=jifenMaxMoney),"checked"==$("#shiyongyue").attr("checked")&&$scope.order.balance>=1&&(paymoney-=$scope.order.balance),paymoney-=$scope.coupon.money,0>paymoney&&(paymoney=0),$scope.order.summoney_pay_other=paymoney},$scope.userBalance=function($event){var dom=angular.element($event.srcElement),shiyongyueCheck=dom.attr("checked"),paymoney=$scope.summoney;"checked"==shiyongyueCheck&&($scope.order.balance<1?(alert("您的余额不足。"),dom.removeAttr("checked")):paymoney-=$scope.order.balance),"checked"==$("#shiyongjifen").attr("checked")&&jifenMaxMoney>=1&&(paymoney-=jifenMaxMoney),paymoney-=$scope.coupon.money,0>paymoney&&(paymoney=0),$scope.order.summoney_pay_other=paymoney},$scope.getCartOrder=function(){$scope.order.top="";var u=localStorage.getItem("uid_local"),sel_all=!0;$scope.summoney=0;var url=basePath+"getCartSel.jsp";$mainServices.post(url,{u:u},!0).success(function(dataJson){if(null!=dataJson&&void 0!=dataJson&&0!=dataJson.length){var JSON_list=dataJson.cart_list;if($scope.integralRule.content=dataJson.integralRule,JSON_list.length>0){for(var i=0;i<JSON_list.length;i++){var num=(JSON_list[i].pid,parseInt(JSON_list[i].num)),selected=JSON_list[i].selected,now_term=JSON_list[i].now_term,total_time=JSON_list[i].total_time,finish_time=JSON_list[i].finish_time,shengyu_time=(JSON_list[i].purchase_limit_time,parseInt(total_time)-parseInt(finish_time));if(!(0>=shengyu_time)){num>shengyu_time&&(num=shengyu_time);var pic=JSON_list[i].pic;pic=$mainServices.getHttpOrlocalProPic(pic);var ptitle=JSON_list[i].ptitle,sel="";ptitle="(第"+now_term+"期)"+ptitle,1==selected?($scope.summoney=$scope.summoney+num,sel=" on"):sel_all=!1;var tmp='<div class="js_spjt"><div class="js_spjt_img"><img src="'+pic+'" /></div><div class="js_spjt_wz"><p class="ellipsis1">'+ptitle+'</p><p class="js_spjt_sl"><span style="color:#ff5000">￥1.00/次</span><span style="float:right;color:#ff5000">	&times;'+num+"</span></p></div></div>";$scope.order.top+=tmp}}if($mainServices.post(basePath+"getUser.jsp",{t:4,u:u},!0).success(function(user_list){user_list.length>0&&($scope.order.integralAll=parseFloat(user_list[0].integral),$scope.order.integral=dataJson.usableIntegral<$scope.order.integralAll?dataJson.usableIntegral:$scope.order.integralAll,$scope.order.balanceAll=parseFloat(user_list[0].balance),$scope.order.balance=parseInt($scope.order.balanceAll),jifenMaxMoney=parseInt($scope.order.integral/100),$scope.order.jifenMaxMoney=jifenMaxMoney,$scope.order.summoney_pay_other=$scope.summoney-$scope.coupon.money,$scope.order.reactMoney=$scope.summoney-$scope.coupon.money)}),-1==domain.indexOf("ios.1yuanxing")){var dataReq={user:{userID:u,sh:5},page:{currentPage:1,pageNumber:10}};$mainServices.postNew(domain2+"vouchers/checkVouchersInfo.do",dataReq,!0).success(function(JSONObj){if("success"==JSONObj.ret){var coupon_list=JSONObj.obtainRecords;coupon_list.length>0?($scope.order.couponLen=coupon_list.length,$scope.order.couponName=$scope.order.couponLen+"个满足本次订单条件的可用红包",$scope.couponStyle="orangeColor"):($scope.order.couponName="无满足条件红包",$scope.couponStyle="grayColor")}else alert("请求失败，请重新刷新页面")})}}else skip("#/index/index");var old=null;$("input[name='paystyle']").each(function(){this.checked&&(old=this),this.onclick=function(){this==old?(this.checked=!1,old=null):old=this}})}})},$scope.getCartOrder(),$scope.showIntegralRule=function(){""==$scope.integralRule.style?($scope.integralRule.style="rotate-180",$scope.integralRule.flag=!0):($scope.integralRule.style="",$scope.integralRule.flag=!1)},$scope.tab=[{tabClass:"cur",isShow:!0},{tabClass:"",isShow:!1},{tabClass:"",isShow:!1}],$scope.canLoadRecordSatisfy={code:!1,nowPageMore:0},$scope.canLoadRecordDissatisfy={code:!1,nowPageMore:0},$scope.canLoadRecordDisuse={code:!1,nowPageMore:0},$scope.satisfyRecords=[],$scope.dissatisfyRecords=[],$scope.disuseRecords=[],$ionicModal.fromTemplateUrl("templates/mine/giftModal.html",{scope:$scope,animation:"slide-in-up"}).then(function(modal){$scope.modal=modal}),$scope.openModal=function(){"checked"==$("#shiyongjifen").attr("checked")?alert("使用红包时，不能勾选使用积分。"):($scope.modal.show(),$scope.recordSatisfyLoad("first"))},$scope.closeModal=function(){$scope.modal.hide()},$scope.tabAc=function(t){0==t?($scope.tab=[{tabClass:"cur",isShow:!0},{tabClass:"",isShow:!1}],0==$scope.satisfyRecords.length&&$scope.recordSatisfyLoad()):1==t?($scope.tab=[{tabClass:"",isShow:!1},{tabClass:"cur",isShow:!0},{tabClass:"",isShow:!1}],0==$scope.dissatisfyRecords.length&&$scope.recordDissatisfyLoad()):2==t&&($scope.tab=[{tabClass:"",isShow:!1},{tabClass:"",isShow:!1},{tabClass:"cur",isShow:!0}],0==$scope.disuseRecords.length&&$scope.recordDisuseLoad())},$scope.seeRule=function(event){event.stopPropagation(),event=event.toElement;var obj=angular.element(event).parent();obj.hasClass("show-more")?(obj.removeClass("show-more"),obj.parent().parent().next(".tb-bottom").hide()):(obj.addClass("show-more"),obj.parent().parent().next(".tb-bottom").show())},$scope.dealTime=function(time){var date=new Date(time),year=date.getFullYear(),mon=date.getMonth()+1+"";1==mon.length&&(mon="0"+mon);var day=date.getDate()+"";return 1==day.length&&(day="0"+day),year+"."+mon+"."+day},$scope.recordSatisfyLoad=function(par){var isShow=!1;if(!("first"==par&&(isShow=!0,$scope.satisfyRecords.length>0))){var nowPageMore=$scope.canLoadRecordSatisfy.nowPageMore;"more"!=par?nowPageMore=1:nowPageMore++;var u=localStorage.getItem("uid_local"),dataJson={user:{userID:u,sh:5},page:{currentPage:nowPageMore,pageNumber:10}};$mainServices.postNew(domain2+"vouchers/checkVouchersInfo.do",dataJson,isShow).success(function(JSONObjRet){if("success"==JSONObjRet.ret){var pageCount=JSONObjRet.page.totalPage,showPage=JSONObjRet.page.currentPage;$scope.canLoadRecordSatisfy.nowPageMore=showPage;var JSON_list=JSONObjRet.obtainRecords;if(JSONObjRet.page.totalNumber<=0&&($scope.canLoadRecordSatisfy.code=!1),null!=JSON_list&&JSON_list.length>0)for(var i=0;i<JSON_list.length;i++){var money=JSON_list[i].money,limitMoney=JSON_list[i].limitMoney,explain=JSON_list[i].explain;if(limitMoney>0)var moneyLimitFlag=!0;else var moneyLimitFlag=!1;var catalogueName=JSON_list[i].catalogueName,typesName=JSON_list[i].typesName,startTime=JSON_list[i].startTime;startTime=$scope.dealTime(startTime);var finishTime=JSON_list[i].finishTime;finishTime=$scope.dealTime(finishTime);var id=JSON_list[i].id;$scope.satisfyRecords.push({money:money,limitMoney:limitMoney,moneyLimitFlag:moneyLimitFlag,catalogueName:catalogueName,typesName:typesName,startTime:startTime,finishTime:finishTime,explain:explain,id:id})}if($ionicScrollDelegate.resize(),"first"==par&&JSON_list.length>0){$timeout(function(){$("#couponList0").addClass("cur")},500),$scope.coupon={id:$scope.satisfyRecords[0].id,money:$scope.satisfyRecords[0].money},$scope.order.couponName="已选择"+$scope.satisfyRecords[0].money+"元"+$scope.satisfyRecords[0].typesName+'"'+$scope.satisfyRecords[0].catalogueName+'"';var paymoney=$scope.summoney;paymoney-=$scope.satisfyRecords[0].money,$scope.order.reactMoney=0>paymoney?0:paymoney,"checked"==$("#shiyongjifen").attr("checked")&&jifenMaxMoney>=1&&(paymoney-=jifenMaxMoney),"checked"==$("#shiyongyue").attr("checked")&&$scope.order.balance>=1&&(paymoney-=$scope.order.balance),0>paymoney&&(paymoney=0),$scope.order.summoney_pay_other=paymoney}$scope.canLoadRecordSatisfy.code=showPage>=pageCount||JSONObjRet.page.totalNumber<=0?!1:!0,"more"==par&&$scope.$broadcast("scroll.infiniteScrollComplete")}else alert(JSONObjRet.message)})}},$scope.recordDissatisfyLoad=function(par){var isShow=!1;if(!("first"==par&&(isShow=!0,$scope.dissatisfyRecords.length>0))){var nowPageMore=$scope.canLoadRecordDissatisfy.nowPageMore;"more"!=par?nowPageMore=1:nowPageMore++;var u=localStorage.getItem("uid_local"),dataJson={user:{userID:u,sh:6},page:{currentPage:nowPageMore,pageNumber:10}};$mainServices.postNew(domain2+"vouchers/checkVouchersInfo.do",dataJson,isShow).success(function(JSONObjRet){if("success"==JSONObjRet.ret){var pageCount=JSONObjRet.page.totalPage,showPage=JSONObjRet.page.currentPage;$scope.canLoadRecordDissatisfy.nowPageMore=showPage;var JSON_list=JSONObjRet.obtainRecords;if(JSONObjRet.page.totalNumber<=0&&($scope.canLoadRecordDissatisfy.code=!1),null!=JSON_list&&JSON_list.length>0)for(var i=0;i<JSON_list.length;i++){var money=JSON_list[i].money,limitMoney=JSON_list[i].limitMoney,explain=JSON_list[i].explain;if(limitMoney>0)var moneyLimitFlag=!0;else var moneyLimitFlag=!1;var catalogueName=JSON_list[i].catalogueName,typesName=JSON_list[i].typesName,startTime=JSON_list[i].startTime;startTime=$scope.dealTime(startTime);var finishTime=JSON_list[i].finishTime;finishTime=$scope.dealTime(finishTime);var id=JSON_list[i].id;$scope.dissatisfyRecords.push({money:money,limitMoney:limitMoney,moneyLimitFlag:moneyLimitFlag,catalogueName:catalogueName,typesName:typesName,startTime:startTime,finishTime:finishTime,explain:explain,id:id})}$ionicScrollDelegate.resize(),$scope.canLoadRecordDissatisfy.code=showPage>=pageCount||JSONObjRet.page.totalNumber<=0?!1:!0,"more"==par&&$scope.$broadcast("scroll.infiniteScrollComplete")}else alert(JSONObjRet.message)})}},$scope.recordDisuseLoad=function(par){var isShow=!1;if(!("first"==par&&(isShow=!0,$scope.disuseRecords.length>0))){var nowPageMore=$scope.canLoadRecordDisuse.nowPageMore;"more"!=par?nowPageMore=1:nowPageMore++;var u=localStorage.getItem("uid_local"),dataJson={user:{userID:u,sh:4},page:{currentPage:nowPageMore,pageNumber:10}};$mainServices.postNew(domain2+"vouchers/checkVouchersInfo.do",dataJson,isShow).success(function(JSONObjRet){if("success"==JSONObjRet.ret){var pageCount=JSONObjRet.page.totalPage,showPage=JSONObjRet.page.currentPage;$scope.canLoadRecordDisuse.nowPageMore=showPage;var JSON_list=JSONObjRet.obtainRecords;if(JSONObjRet.page.totalNumber<=0&&($scope.canLoadRecordDisuse.code=!1),null!=JSON_list&&JSON_list.length>0)for(var i=0;i<JSON_list.length;i++){var money=JSON_list[i].money,limitMoney=JSON_list[i].limitMoney,explain=JSON_list[i].explain;if(limitMoney>0)var moneyLimitFlag=!0;else var moneyLimitFlag=!1;var catalogueName=JSON_list[i].catalogueName,typesName=JSON_list[i].typesName,startTime=JSON_list[i].startTime;startTime=$scope.dealTime(startTime);var finishTime=JSON_list[i].finishTime;finishTime=$scope.dealTime(finishTime);var isValid=JSON_list[i].status;$scope.disuseRecords.push({money:money,limitMoney:limitMoney,moneyLimitFlag:moneyLimitFlag,catalogueName:catalogueName,typesName:typesName,startTime:startTime,finishTime:finishTime,explain:explain,isValid:isValid})}$ionicScrollDelegate.resize(),$scope.canLoadRecordDisuse.code=showPage>=pageCount||JSONObjRet.page.totalNumber<=0?!1:!0,"more"==par&&$scope.$broadcast("scroll.infiniteScrollComplete")}else alert(JSONObjRet.message)})}},$scope.chooseCoupon=function(index,id,money,typesName,name){var paymoney=$scope.summoney;$("#"+index).hasClass("cur")?($("#"+index).removeClass("cur"),$scope.coupon={id:"",money:0},$scope.order.couponName=$scope.order.couponLen+"个满足本次订单条件的可用红包",$scope.order.reactMoney=paymoney,"checked"==$("#shiyongjifen").attr("checked")&&jifenMaxMoney>=1&&(paymoney-=jifenMaxMoney),"checked"==$("#shiyongyue").attr("checked")&&$scope.order.balance>=1&&(paymoney-=$scope.order.balance),0>paymoney&&(paymoney=0),$scope.order.summoney_pay_other=paymoney):($("#"+index).addClass("cur").siblings().removeClass("cur"),$scope.coupon={id:id,money:money},$scope.order.couponName="已选择"+money+"元"+typesName+'"'+name+'"',paymoney-=money,$scope.order.reactMoney=0>paymoney?0:paymoney,"checked"==$("#shiyongjifen").attr("checked")&&jifenMaxMoney>=1&&(paymoney-=jifenMaxMoney),"checked"==$("#shiyongyue").attr("checked")&&$scope.order.balance>=1&&(paymoney-=$scope.order.balance),0>paymoney&&(paymoney=0),$scope.order.summoney_pay_other=paymoney)},$scope.orderFormSubmit=function(){var u=localStorage.getItem("uid_local"),paystyle=$("[name='paystyle']:checked").val(),paymoney=$scope.order.summoney_pay_other,shiyongyueHidden="0",shiyongjifenHidden="0",coumoney=$scope.coupon.money,obtainId=$scope.coupon.id;if("checked"==$("#shiyongyue").attr("checked")&&(shiyongyueHidden="1"),"checked"==$("#shiyongjifen").attr("checked")&&(shiyongjifenHidden="1"),"1"==shiyongyueHidden||"1"==shiyongjifenHidden||coumoney>0){if(paymoney>0&&("undefined"==typeof paystyle||null==paystyle||""==paystyle))return void alert("请选择支付方式。")}else if("undefined"==typeof paystyle||null==paystyle||""==paystyle)return void alert("请选择支付方式。");showTankuang("确认提交并支付吗？"),$("#quxiaoBtn").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove()}),$("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove();var html_loading="<div class='onLoadingDiv-class' id='onLoadingDiv'><div id='loadingBg'><div id='loadingtext' class='zjz'><p>数据提交中...</p></div></div></div>";$("html").append(html_loading),$timeout(function(){var url=basePath+"payForm.jsp",dataJson={u:u,paystyle:paystyle,platform:$mainServices.flagPlatform(),shiyongyueHidden:shiyongyueHidden,shiyongjifenHidden:shiyongjifenHidden,obtainId:obtainId};$mainServices.post(url,dataJson,!1).success(function(dataJsonRet){var code=dataJsonRet.code;if(200==code){$(".onLoadingDiv-class").remove();var onumber_db=dataJsonRet.onumber,paymoney_db=dataJsonRet.paymoney,paystyle_db=dataJsonRet.paystyle;paymoney_db=parseFloat(paymoney_db);var skipUrl_db=dataJsonRet.redirectUrl;if(localStorage.setItem("local-o",onumber_db),0>=paymoney_db)alert("支付成功。"),$timeout(function(){$state.go("cart.payFinish",{})},1500);else if(""!=paystyle_db)if(""!=skipUrl_db)$mainServices.iosBrowerPay(skipUrl_db),setTimeout(function(){showTankuang("是否完成支付？"),$("#querenBtnRollback").attr("id","querenBtnRollback222"),$("#querenBtnRollback222").attr("onclick","closeTankuang();skip('#/"+$scope.host+"/payFinish')")},2e3);else{var isNativePay=$("[name='paystyle']:checked").attr("attr-type");if(1==isNativePay||"1"==isNativePay){if(9==paystyle_db||"9"==paystyle_db)var signDataStr="merchant="+dataJsonRet.merchant+"&orderId="+dataJsonRet.orderId+"&key=pDvdkozMmDiwKvxz3KejPjip1OgWlyRI",signData=hex_md5(signDataStr).toLowerCase(),content=JSON.stringify({orderId:dataJsonRet.orderId,appId:dataJsonRet.appId,signData:signData,merchant:dataJsonRet.merchant});else if(10==paystyle_db||"10"==paystyle_db)var content=dataJsonRet.token_id;setTimeout(function(){showTankuang("是否完成支付？"),$("#querenBtnRollback").attr("id","querenBtnRollback222"),$("#querenBtnRollback222").attr("onclick","closeTankuang();skip('#/"+$scope.host+"/payFinish')")},3e3),$mainServices.nativePay(paystyle_db,content)}else alert(dataJsonRet.message)}else $(".onLoadingDiv-class").remove(),alert("提交失败。")}else $(".onLoadingDiv-class").remove(),alert(100==code?"下手慢了，已退至账户余额。":dataJsonRet.message)}).error(function(){$(".onLoadingDiv-class").remove(),alert("数据提交失败，请重新提交订单！")})},1e3)})},$scope.satisfyLoadMore=function(){$scope.recordSatisfyLoad("more")},$scope.dissatisfyLoadMore=function(){$scope.recordDissatisfyLoad("more")},$scope.disuseLoadMore=function(){$scope.recordDisuseLoad("more")},$scope.$on("$destroy",function(){$scope.modal.remove()})}return ctrl.$inject=["$scope","$controller","$mainServices","$factoryServices","$timeout","$state","$ionicModal","$ionicScrollDelegate"],ctrl}),define("payFinishController",[],function(){function ctrl($scope,$controller,$mainServices,$rootScope,$ionicTabsDelegate,$ionicNavBarDelegate){$controller("baseController",{$scope:$scope});localStorage.setItem("buyRecordType",1);var o=localStorage.getItem("local-o");if(null!=o&&""!=o){var url=basePath+"getOrderPay.jsp",dataJson={o:o,host:$scope.host};$mainServices.post(url,dataJson,!0).success(function(dataText){""!=dataText.trim()&&($scope.myVal=dataText.trim())})}$scope.gotoHome=function(){$rootScope.hideTabs="",$ionicTabsDelegate.select(0)},$ionicNavBarDelegate.showBackButton(!1),$scope.$on("$destroy",function(){$ionicNavBarDelegate.showBackButton(!0)})}return ctrl.$inject=["$scope","$controller","$mainServices","$rootScope","$ionicTabsDelegate","$ionicNavBarDelegate"],ctrl}),define("myIndexController",[],function(){function ctrl($scope,$ionicHistory,$mainServices,$factoryServices,$timeout,$ionicPopup,$controller,$state){$scope.hpFlag=$factoryServices.hideOrShowAppContent(),$scope.type_tx,$scope.headpic="img/head_pic_sys.jpg",$scope.nickname="Hello！请先登录",$scope.experience="登录/注册",$scope.jumpurl="#/mine/myInfo",$scope.integral=0,$scope.balance=0,$scope.app_ewm="";var base=$controller("baseController",{$scope:$scope});$scope.skip=function(url){skip(url)},$scope.init=function(isHide){var u=localStorage.getItem("uid_local");if(null!=u&&""!=u&&"undefined"!=typeof u){var url=basePath+"getUser.jsp",dataJson={u:u,t:4};$mainServices.post(url,dataJson,isHide).success(function(JSON_list){JSON_list.length>0&&($scope.type_tx=JSON_list[0].type_tx,$scope.headpic=$mainServices.getHttpOrlocalHeadPic(JSON_list[0].headpic),$scope.nickname='<p style="margin-top:8px">'+JSON_list[0].nickname+"</p>",$scope.experience="",$scope.integral=JSON_list[0].integral,$scope.balance=JSON_list[0].balance,$scope.jumpurl="#/mine/myInfo")})}else $scope.nickname="Hello！请先登录",$scope.experience="登录/注册",$scope.integral=0,$scope.balance=0,$scope.jumpurl="#/"+$scope.host+"/log",$scope.headpic="img/head_pic_sys.jpg",localStorage.setItem("backUrlLogin","#/"+$scope.host+"/myIndex")},$scope.init(!0),$mainServices.post(basePath+"getShareInfo.jsp",{t:5},!1).success(function(json_link){$scope.app_ewm=json_link[0].content}),$scope.jumpNext=function(){skip($scope.jumpurl)},$scope.mySeting=function(){$state.go("mine.mySeting",{})},$scope.share=function(){$scope.invitationCode=localStorage.getItem("invitationCode");var u=localStorage.getItem("uid_local");if(null!=u&&""!=u&&"undefined"!=typeof u){var url=basePath+"getUserYqm.jsp",dataJson={u:u};$mainServices.post(url,dataJson,!1).success(function(JSON_list){$scope.invitationCode=JSON_list.yqm,$mainServices.isNull($scope.invitationCode)?$scope.invitationCodeShow=!1:($scope.invitationCodeShow=!0,localStorage.setItem("invitationCode",$scope.invitationCode))})}else $scope.invitationCodeShow=!1;var myPopup=$ionicPopup.show({templateUrl:"templates/mine/shareTemplate.html",title:"扫码下载一元行官方app",scope:$scope,buttons:[{text:"关闭"}]});myPopup.then(function(){}),$scope.WeixinAppShare=function(type){$mainServices.WeixinAppShare(type,$scope.invitationCode),$timeout(function(){myPopup.close()},1e3)}},$scope.integralDetails=function(){$factoryServices.checkLogin("#/mine/myIndex","#/mine/log","#/mine/integralDetails")},$scope.accountDetail=function(){$factoryServices.checkLogin("#/mine/myIndex","#/mine/log","#/mine/accountDetail")},$scope.commission=function(){$factoryServices.checkLogin("#/mine/myIndex","#/mine/log","#/mine/commission")},$scope.recharge=function(){$factoryServices.checkLogin("#/mine/myIndex","#/mine/log","#/mine/recharge")},$scope.cash=function(){1==$scope.type_tx?alert("您当前不能提现"):$factoryServices.checkLogin("#/mine/myIndex","#/mine/log","#/mine/cash")},$scope.buyRecord=function(){localStorage.setItem("buyRecordType",1),$factoryServices.checkLogin("#/mine/myIndex","#/mine/log","#/mine/buyRecord")},$scope.winGoods=function(val){$factoryServices.checkLogin("#/mine/myIndex","#/mine/log","#/mine/winGoods/"+val)},$scope.myindexorderdetail_share=function(){localStorage.setItem("shareListType",1),$factoryServices.checkLogin("#/mine/myIndex","#/mine/log","#/mine/shareList")},$scope.myGift=function(){$factoryServices.checkLogin("#/mine/myIndex","#/mine/log","#/mine/gift")},$scope.userAddress=function(){$factoryServices.checkLogin("#/mine/myIndex","#/mine/log","#/mine/userAddress/0")},$scope.sendIntegral=function(){$factoryServices.checkLogin("#/mine/myIndex","#/mine/log","#/mine/integral")},$scope.customerService=function(){$state.go("mine.customerService",{})},$scope.noticeList=function(){$state.go("mine.noticeList",{})},$scope.supple=function(){$factoryServices.checkLogin("#/mine/myIndex","#/mine/log","#/mine/supple")},$scope.tabPoint();var isFirst=1;$scope.$on("$stateChangeSuccess",function(){1==isFirst&&(isFirst=2,$scope.$on("$ionicView.beforeEnter",function(){$scope.init(!1),$scope.getShareSx(!1),0==$scope.hpFlag&&($scope.hpFlag=$factoryServices.hideOrShowAppContent()),$scope.tabPoint(),localStorage.removeItem("winGoodsType"),base=$controller("baseController",{$scope:$scope})}))}),$scope.getShareSx=function(isHide){if(""==$scope.app_ewm){var url=basePath+"getShareInfo.jsp",dataJson={t:5};$mainServices.post(url,dataJson,isHide).success(function(JSON_list){$scope.app_ewm=JSON_list[0].content})}}}return ctrl.$inject=["$scope","$ionicHistory","$mainServices","$factoryServices","$timeout","$ionicPopup","$controller","$state","$ionicScrollDelegate"],ctrl}),define("mySetingController",[],function(){function ctrl($scope,$rootScope,$controller,$mainServices,$factoryServices,$state,$ionicTabsDelegate){$scope.yyversion="",$scope.zyversion="",$scope.isShowLog=!1;var u=($controller("baseController",{$scope:$scope}),localStorage.getItem("uid_local"));null!=u&&""!=u&&"undefined"!=typeof u&&($scope.isShowLog=!0),window.setAppVersion=function(str1,str2){null!=str1&&($scope.yyversion=str1),null!=str2&&($scope.zyversion=str2)},$mainServices.getAppVersion(),$scope.proposal=function(){$factoryServices.checkLogin("#/mine/myIndex","#/"+$scope.host+"/log","#/"+$scope.host+"/ly")},$scope.userLogOut=function(){null!=u&&""!=u&&"undefined"!=typeof u&&(localStorage.removeItem("uid_local"),$mainServices.userLogout(u.substring(u.indexOf("_")+1,u.indexOf("."))),localStorage.removeItem("clientTime")),$rootScope.cartNumber=0,$rootScope.hideTabs="",localStorage.removeItem("invitationCode"),$ionicTabsDelegate.select(4)},$scope.mySetingSafe=function(){null!=u&&""!=u&&"undefined"!=typeof u?$state.go("mine.mySetingSafe",{}):$state.go("mine.log",{})},$scope.mySetingSecret=function(){null!=u&&""!=u&&"undefined"!=typeof u?$state.go("mine.mySetingSecret",{}):$state.go("mine.log",{})}}return ctrl.$inject=["$scope","$rootScope","$controller","$mainServices","$factoryServices","$state","$ionicTabsDelegate"],ctrl}),define("accountDetailController",[],function(){function ctrl($scope,$controller,$mainServices,$ionicScrollDelegate){$scope.canLoadRecordRecharge={code:!1,nowPageMore:0},$scope.canLoadRecordConsume={code:!1,nowPageMore:0},$scope.canLoadRecordWithdraw={code:!1,nowPageMore:0},$scope.canLoadRecordAssign={code:!1,nowPageMore:0},$scope.rechargeRecords=[],$scope.consumeRecords=[],$scope.withdrawRecords=[],$scope.assignRecords=[],$scope.tab=[{tabClass:"czmx",isShow:!0},{tabClass:"",isShow:!1},{tabClass:"",isShow:!1},{tabClass:"",isShow:!1}];var u=($controller("baseController",{$scope:$scope}),localStorage.getItem("uid_local"));return null==u||""==u?void alert("请先登录。"):($scope.recordRechargeLoad=function(){var url=domain2+"accountDetail/selectBalacne.do";$scope.canLoadRecordRecharge.nowPageMore++;var dataJson={user:{userID:u,yueType:1},page:{currentPage:$scope.canLoadRecordRecharge.nowPageMore,pageNumber:20}};$mainServices.postNew(url,dataJson,!1).success(function(JSONObj){if("success"==JSONObj.ret){var pageCount=JSONObj.data.page.totalPage,JSON_list=JSONObj.data.serviceData;if(null!=JSON_list&&JSON_list.length>0){for(var i=0;i<JSON_list.length;i++){var remark=JSON_list[i].remark,intime=JSON_list[i].intime;intime=$mainServices.getTimeNo_0(intime);var sum=JSON_list[i].sum;$scope.rechargeRecords.push({intime:intime,remark:remark,sum:sum})}$ionicScrollDelegate.resize(),$scope.canLoadRecordRecharge.code=pageCount<=$scope.canLoadRecordRecharge.nowPageMore?!1:!0,$scope.$broadcast("scroll.infiniteScrollComplete")}}else alert("请求失败，请重新刷新页面")})},$scope.recordConsumeLoad=function(){var url=domain2+"accountDetail/selectBalacne.do";$scope.canLoadRecordConsume.nowPageMore++;var dataJson={user:{userID:u,yueType:2},page:{currentPage:$scope.canLoadRecordConsume.nowPageMore,pageNumber:20}};$mainServices.postNew(url,dataJson,!1).success(function(JSONObj){if("success"==JSONObj.ret){var pageCount=JSONObj.data.page.totalPage,JSON_list=JSONObj.data.serviceData;if(null!=JSON_list&&JSON_list.length>0){for(var i=0;i<JSON_list.length;i++){var intime=JSON_list[i].intime;intime=$mainServices.getTimeNo_0(intime);var sum=JSON_list[i].sum;$scope.consumeRecords.push({intime:intime,sum:sum})}$ionicScrollDelegate.resize(),$scope.canLoadRecordConsume.code=pageCount<=$scope.canLoadRecordConsume.nowPageMore?!1:!0,$scope.$broadcast("scroll.infiniteScrollComplete")}}else alert("请求失败，请重新刷新页面")})},$scope.recordWithdrawLoad=function(){var url=domain2+"accountDetail/selectBalacne.do";$scope.canLoadRecordWithdraw.nowPageMore++;var dataJson={user:{userID:u,yueType:4},page:{currentPage:$scope.canLoadRecordWithdraw.nowPageMore,pageNumber:20}};$mainServices.postNew(url,dataJson,!1).success(function(JSONObj){if("success"==JSONObj.ret){var pageCount=JSONObj.data.page.totalPage,JSON_list=JSONObj.data.serviceData;if(null!=JSON_list&&JSON_list.length>0){for(var i=0;i<JSON_list.length;i++){var intime=JSON_list[i].intime;intime=$mainServices.getTimeNo_0(intime);var sum=JSON_list[i].sum;$scope.withdrawRecords.push({intime:intime,sum:sum})}$ionicScrollDelegate.resize(),$scope.canLoadRecordWithdraw.code=pageCount<=$scope.canLoadRecordWithdraw.nowPageMore?!1:!0,$scope.$broadcast("scroll.infiniteScrollComplete")}}else alert("请求失败，请重新刷新页面")})},$scope.recordAssignLoad=function(){var url=domain2+"accountDetail/selectBalacne.do";$scope.canLoadRecordAssign.nowPageMore++;var dataJson={user:{userID:u,yueType:5},page:{currentPage:$scope.canLoadRecordAssign.nowPageMore,pageNumber:20}};$mainServices.postNew(url,dataJson,!1).success(function(JSONObj){if("success"==JSONObj.ret){var pageCount=JSONObj.data.page.totalPage,JSON_list=JSONObj.data.serviceData;if(null!=JSON_list&&JSON_list.length>0){for(var i=0;i<JSON_list.length;i++){var intime=JSON_list[i].intime,remark=JSON_list[i].remark;intime=$mainServices.getTimeNo_0(intime);var sum=JSON_list[i].sum;$scope.assignRecords.push({intime:intime,sum:sum,remark:remark})}$ionicScrollDelegate.resize(),$scope.canLoadRecordAssign.code=pageCount<=$scope.canLoadRecordAssign.nowPageMore?!1:!0,$scope.$broadcast("scroll.infiniteScrollComplete")}}else alert("请求失败，请重新刷新页面")})},$scope.recordRechargeLoad(),void($scope.tabAc=function(t){0==t?($scope.tab=[{tabClass:"czmx",isShow:!0},{tabClass:"",isShow:!1},{tabClass:"",isShow:!1},{tabClass:"",isShow:!1}],0==$scope.rechargeRecords.length&&$scope.recordRechargeLoad()):1==t?($scope.tab=[{tabClass:"",isShow:!1},{tabClass:"czmx",isShow:!0},{tabClass:"",isShow:!1},{tabClass:"",isShow:!1}],0==$scope.consumeRecords.length&&$scope.recordConsumeLoad()):2==t?($scope.tab=[{tabClass:"",isShow:!1},{tabClass:"",isShow:!1},{tabClass:"czmx",isShow:!0},{tabClass:"",isShow:!1}],0==$scope.withdrawRecords.length&&$scope.recordWithdrawLoad()):3==t&&($scope.tab=[{tabClass:"",isShow:!1},{tabClass:"",isShow:!1},{tabClass:"",isShow:!1},{tabClass:"czmx",isShow:!0}],0==$scope.assignRecords.length&&$scope.recordAssignLoad())}))}return ctrl.$inject=["$scope","$controller","$mainServices","$ionicScrollDelegate"],ctrl}),define("userAddressController",[],function(){function ctrl($scope,$controller,$mainServices,$stateParams){$scope.data=[];var retype=$stateParams.type+"",u=($controller("baseController",{$scope:$scope}),localStorage.getItem("uid_local"));return null==u||""==u?void alert("请先登录。"):($mainServices.post(basePath+"userAddress.jsp",{u:u},!0).success(function(JSON_list){if(JSON_list.length>0)for(var i=0;i<JSON_list.length;i++){var aid=JSON_list[i].aid,name=JSON_list[i].name,mobile=JSON_list[i].mobile,sheng=JSON_list[i].provinceId,shi=JSON_list[i].cityId,qu=JSON_list[i].districtId,address=JSON_list[i].address,isdefault=JSON_list[i].isdefault,add=sheng+" "+shi+" "+qu+" "+address,tmp_def="";1==isdefault&&"1"!=retype&&(tmp_def='<img src="img/icon_xzdh1.png">'),$scope.data.push({tmp_def:tmp_def,aid:aid,name:name,mobile:mobile,add:add})}}),$scope.toAddSubmit=function(aid){skip("#/"+$scope.host+"/userAddressSubmit?aid="+aid)},void($scope.delAdd=function(aid){var u=localStorage.getItem("uid_local");showTankuang("确认删除吗？"),$("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove();var url=basePath+"userAddressSubmit.jsp",dataJson={type_:3,aid:aid,u:u};$mainServices.post(url,dataJson,!0).success(function(dataJsonRet){var code=dataJsonRet.code,message=dataJsonRet.message;
if(alert(message),200==code)for(var i=0;i<$scope.data.length;i++)$scope.data[i].aid==aid&&$scope.data.splice(i,1)})})}))}return ctrl.$inject=["$scope","$controller","$mainServices","$stateParams"],ctrl}),define("userAddressSubmitController",[],function(){function ctrl($scope,$controller,$mainServices,$ionicHistory){$scope.user={name:"",mobile:"",phone:"",provinceId:"0",cityId:"0",districtId:"0",townId:"0",address:""},$scope.province=[{value:"0",name:"请选择所在省"}],$scope.city=[{value:"0",name:"请选择所在市"}],$scope.district=[{value:"0",name:"请选择所在区"}],$scope.town=[{value:"0",name:"请选择所在乡镇"}];var name=($controller("baseController",{$scope:$scope}),""),mobile="",phone="",sheng="0",shi="0",qu="0",town="0",address="",isdefault="isdefault";$scope.selectProvince=function(provinceId_){$scope.province=[{value:"0",name:"请选择所在省"}];var url=basePath+"userAddressUtil.jsp",dataJson={type_:1,provinceId_:provinceId_};$mainServices.post(url,dataJson,!0).success(function(JSON_list){if(JSON_list.length>0){for(var i=0;i<JSON_list.length;i++)$scope.province.push({value:JSON_list[i].serialId,name:JSON_list[i].provinceName});null==provinceId_&&(provinceId_="0"),$scope.user.provinceId=provinceId_}})},$scope.selectCity=function(provinceId_,cityId_){if($scope.city=[{value:"0",name:"请选择所在市"}],(null!=provinceId_||null!=cityId_)&&null!=provinceId_&&""!=provinceId_){var url=basePath+"userAddressUtil.jsp",dataJson={type_:2,provinceId_:provinceId_,cityId_:cityId_};$mainServices.post(url,dataJson,!0).success(function(JSON_list){if(JSON_list.length>0){for(var i=0;i<JSON_list.length;i++)$scope.city.push({value:JSON_list[i].serialId,name:JSON_list[i].cityName});null==cityId_&&(cityId_="0"),$scope.user.cityId=cityId_}})}},$scope.selectDistrict=function(cityId_,districtId_){if($scope.district=[{value:"0",name:"请选择所在区"}],(null!=cityId_||null!=districtId_)&&null!=cityId_&&""!=cityId_){var url=basePath+"userAddressUtil.jsp",dataJson={type_:3,cityId_:cityId_,districtId_:districtId_};$mainServices.post(url,dataJson,!0).success(function(JSON_list){if(JSON_list.length>0){for(var i=0;i<JSON_list.length;i++)$scope.district.push({value:JSON_list[i].serialId,name:JSON_list[i].districtName});null==districtId_&&(districtId_="0"),$scope.user.districtId=districtId_}})}},$scope.selectTown=function(cityId_,districtId_,townId_){if($scope.town=[{value:"0",name:"请选择所在乡镇"}],(null!=cityId_||null!=districtId_||null!=townId_)&&null!=cityId_&&""!=cityId_){var url=basePath+"userAddressUtil.jsp",dataJson={type_:4,cityId_:cityId_,districtId_:districtId_,townId_:townId_};$mainServices.post(url,dataJson,!0).success(function(JSON_list){if(JSON_list.length>0){for(var i=0;i<JSON_list.length;i++)$scope.town.push({value:JSON_list[i].serialId,name:JSON_list[i].TownName});null==townId_&&(townId_="0"),$scope.user.townId=townId_}})}},$scope.provinceChange=function(){$scope.selectCity($scope.user.provinceId),$scope.selectDistrict(),$scope.user.cityId="0",$scope.user.districtId="0",$scope.user.townId="0"},$scope.cityChange=function(){$scope.selectDistrict($scope.user.cityId),$scope.user.districtId="0",$scope.user.townId="0"},$scope.districtChange=function(){$scope.selectTown($scope.user.cityId,$scope.user.districtId),$scope.user.townId="0"},$scope.add_modAdd=function(){var name=$scope.user.name,mobile=$scope.user.mobile,phone=$scope.user.phone,provinceId=$scope.user.provinceId,cityId=$scope.user.cityId,districtId=$scope.user.districtId,townId=$scope.user.townId,address=$scope.user.address;if(""==name)return void alert("请输入收货人姓名。");if(!$mainServices.yzPhone(mobile))return void alert("请输入有效的手机号码。");if(""!=phone&&!$mainServices.yzTelPhone(phone))return void alert("请输入有效的固定电话。");if(""==provinceId||"0"==provinceId)return void alert("请选择省。");if(""==cityId||"0"==cityId)return void alert("请选择市。");if(""==districtId||"0"==districtId)return void alert("请选择区。");if(""==townId||"0"==townId)return void alert("请选择乡镇。");if(""==address)return void alert("请输入详细地址。");var isdefault="0",isdefaultC=$("#isdefault").attr("checked");"checked"==isdefaultC&&(isdefault="1");var subType="1",aid=$mainServices.getQueryString("aid");null!=aid&&""!=aid&&(subType="2");var u=localStorage.getItem("uid_local"),url=basePath+"userAddressSubmit.jsp",dataJson={u:u,type_:subType,aid:aid,name:name,mobile:mobile,phone:phone,provinceId:provinceId,cityId:cityId,districtId:districtId,townId:townId,address:address,isdefault:isdefault};$mainServices.post(url,dataJson,!0).success(function(dataJsonRet){var code=dataJsonRet.code,message=dataJsonRet.message;alert(message),200==code&&$ionicHistory.goBack(-1)})};var aid=$mainServices.getQueryString("aid");if(null!=aid&&""!=aid){var u=localStorage.getItem("uid_local"),url=basePath+"userAddress.jsp",dataJson={aid:aid,u:u};$mainServices.post(url,dataJson,!0).success(function(JSON_list){if(JSON_list.length>0)for(var i=0;i<JSON_list.length;i++)name=JSON_list[i].name,mobile=JSON_list[i].mobile,phone=JSON_list[i].phone,sheng=JSON_list[i].provinceId,shi=JSON_list[i].cityId,qu=JSON_list[i].districtId,town=JSON_list[i].townId,address=JSON_list[i].address,isdefault=JSON_list[i].isdefault;$scope.user.name=name,$scope.user.mobile=mobile,$scope.user.phone=phone,$scope.user.address=address,"1"==isdefault&&$("#isdefault").attr("checked","checked"),$scope.selectProvince(sheng),$scope.selectCity(sheng,shi),$scope.selectDistrict(shi,qu),$scope.selectTown(shi,qu,town)})}else $scope.selectProvince()}return ctrl.$inject=["$scope","$controller","$mainServices","$ionicHistory"],ctrl}),define("userAddressSelController",[],function(){function ctrl($scope,$controller,$mainServices,$stateParams,$state,$ionicHistory){function selectAddressSel(){var u=localStorage.getItem("uid_local");if(null==u||""==u)return void alert("请先登录。");var url=basePath+"userAddress.jsp";$mainServices.post(url,{u:u},!0).success(function(JSON_list){if(JSON_list.length>0)for(var i=0;i<JSON_list.length;i++){var aid=JSON_list[i].aid,name=JSON_list[i].name,phone=JSON_list[i].mobile,sheng=JSON_list[i].provinceId,shi=JSON_list[i].cityId,qu=JSON_list[i].districtId,address=JSON_list[i].address,isdefault=JSON_list[i].isdefault,add=sheng+" "+shi+" "+qu+" "+address,tmp_def="";1==isdefault&&(gaid=aid,tmp_def="img/icon_xzdh1.png"),$scope.addressList.push({aid:aid,name:name,phone:phone,sheng:sheng,shi:shi,qu:qu,address:address,addr:add,tmp_def:tmp_def})}})}$scope.addressList=[];{var gaid;$controller("baseController",{$scope:$scope})}$scope.selectAdd=function(aid,index){gaid=aid;for(var t=0;t<$scope.addressList.length;t++)$scope.addressList[t].tmp_def=t==index?"img/icon_xzdh1.png":"img/icon_white.png"},$scope.addSelQueren=function(){return""==gaid||null==gaid?void alert("请选择收货地址。"):(showTankuang("确认完善地址吗，操作后不可更改。"),void $("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove();var pid=$stateParams.pid,pterm=$stateParams.pterm,u=localStorage.getItem("uid_local"),url=basePath+"setWsdz.jsp",dataJson={pid:pid,pterm:pterm,u:u,aid:gaid};$mainServices.post(url,dataJson,!0).success(function(JSONObjRet){var code=JSONObjRet.code,message=JSONObjRet.message;alert(message),200==code&&$ionicHistory.goBack()})}))},selectAddressSel()}return ctrl.$inject=["$scope","$controller","$mainServices","$stateParams","$state","$ionicHistory"],ctrl}),define("shaidanController",[],function(){function ctrl($scope,$controller,$mainServices,$timeout,$ionicHistory){var clickFlag=($controller("baseController",{$scope:$scope}),!1);$scope.shaidanSubmit=function(){if(!clickFlag){var pid=$mainServices.getQueryString("pid"),pterm=$mainServices.getQueryString("pterm");$("#sdpid").val(pid),$("#sdpterm").val(pterm);var u=localStorage.getItem("uid_local");if(null!=u||""!=u||"undefined"!=typeof u){$("#sdu").val(u);var title=$("#sdtitle").val(),content=$("#sdcontent").val(),pics_length=form_pics.length;if(""==title)return void alert("请输入标题。");if(title.length>20)return void alert("标题输入过长。");if(""==content)return void alert("请输入内容。");if(content.length>100)return void alert("内容输入过长。");if(0==pics_length)return void alert("请选择图片");$mainServices.showLoading(),$("#sdbtnSub").html("提交中..."),clickFlag=!0;var url=basePath+"shaidan.jsp",formData=new FormData($("#shaidanForm")[0]);$.ajax({url:url,type:"POST",data:formData,async:!0,cache:!1,contentType:!1,processData:!1,dataType:"json",success:function(data){var jsonRet=data;if(null!=jsonRet){var code=jsonRet.code;200==code?(alert("提交成功。"),$timeout(function(){$ionicHistory.goBack(-1)},2e3)):(alert(900==code?jsonRet.message:403==code?"您的晒单正在审核中,请勿重复提交。":"提交失败，请稍后重试。"),clickFlag=!1,$("#sdbtnSub").html("提交"))}$mainServices.hideLoading(),clickFlag=!1,$("#sdbtnSub").html("提交")},error:function(){$mainServices.hideLoading(),clickFlag=!1,$("#sdbtnSub").html("提交")}})}}},$scope.$on("$destroy",function(){form_pics.length=0})}return ctrl.$inject=["$scope","$controller","$mainServices","$timeout","$ionicHistory"],ctrl}),define("cashController",[],function(){function ctrl($scope,$controller,$mainServices,$timeout,$rootScope,$ionicTabsDelegate,$ionicScrollDelegate){$scope.showTipAry=["czmx",""],$scope.transfer={},$scope.showTips=!1,$scope.showTipYHK=!1,$scope.showTipWX=!1,$scope.isWithdraw=!1,$scope.user={sum:"",city:"",name:"",idcard:"",bankcard:"",bank:"",bankDeName:"",traderpassword:""},$scope.userwx={sum:"",name:"",idcard:"",traderpassword:""},$scope.isSet=!1,$scope.isForget=!1;var redeem,indexYHK=($controller("baseController",{$scope:$scope}),0),indexWX=0,u=localStorage.getItem("uid_local");if(null==u||""==u||"undefined"==typeof u)return void alert("请先登录。");var balance="";$mainServices.post(basePath+"getUser.jsp",{t:14,u:u},!0).success(function(JSON_list_user){JSON_list_user.length>0&&(balance=JSON_list_user[0].balance+""),$scope.balance="￥"+balance}),$mainServices.post(basePath+"getUsercommission.jsp",{uid:u},!0).success(function(JSON_list){0==JSON_list.iszfmm?$scope.isSet=!0:($scope.isForget=!0,$mainServices.post(basePath+"getCash.jsp",{u:u},!1).success(function(dataJsonRet){null!=dataJsonRet.bankcard&&void 0!=dataJsonRet.bankcard&&($scope.user.city=dataJsonRet.city,$scope.user.name=dataJsonRet.name,$scope.user.idcard=dataJsonRet.idcard,$scope.user.bankcard=dataJsonRet.bankcard,$scope.user.bank=dataJsonRet.bank,$scope.user.bankDeName=dataJsonRet.bankname)}))}),$mainServices.post(basePath+"getRedeemInfo.jsp",{},!1).success(function(dataJsonRet){return null==dataJsonRet||void 0==dataJsonRet||""==dataJsonRet?($scope.isWithdraw=!0,void($scope.isWithdrawInfo="温馨提示：当前无法提现！")):(redeem=dataJsonRet.redeem,void(0==redeem.length?($scope.isWithdraw=!0,$scope.isWithdrawInfo=dataJsonRet.message.message):1==redeem.length?"1"==redeem[0].id?(indexYHK=0,$scope.showTipYHK=!0,$scope.transfer.infoYHK=redeem[0].desc):(indexWX=0,$scope.showTipWX=!0,$scope.transfer.infoWX=redeem[0].desc):(indexYHK=0,indexWX=1,$scope.showTips=!0,$scope.showTipYHK=!0,$scope.txTypes=[{i:0,index:1,name:redeem[0].name,width:"50%"},{i:1,index:2,name:redeem[1].name,width:"50%"}],$scope.transfer.infoYHK=redeem[0].desc,$scope.transfer.infoWX=redeem[1].desc)))}),$scope.tabAc=function(val){1==val?($scope.showTipAry=["czmx",""],$scope.showTipYHK=!0,$scope.showTipWX=!1):($scope.showTipAry=["","czmx"],$scope.showTipYHK=!1,$scope.showTipWX=!0),$ionicScrollDelegate.resize()};var clickFlag=!1;$scope.subCardBtn=function(val){if(!clickFlag)if(0==val){var sum=$scope.user.sum;if(balance=parseFloat(balance),100>balance)return void alert("可提现金额不足100元");if(""==sum)return void alert("请输入提现金额");if(sum=parseFloat(sum),100>sum)return void alert("最低提现100元");if(sum%100!=0)return void alert("必须是100的整数倍");if(sum>balance)return void alert("余额不足");var city=$scope.user.city,name=$scope.user.name,idcard=$scope.user.idcard,bankcard=$scope.user.bankcard,bank=$scope.user.bank,bankDeName=$scope.user.bankDeName,traderpassword=$scope.user.traderpassword;if(""==city)return void alert("请输入所在城市名称。");if(""==name)return void alert("请输入开户人姓名。");if(!$mainServices.yzIdCard(idcard))return void alert("请输入有效的身份证号。");if(""==bankcard)return void alert("请输入银行卡号。");if(bankcard.length<15||bankcard.length>19)return void alert("银行卡号在15至19位之间。");if(""==bank)return void alert("请输入银行名称。");if(""==bankDeName)return void alert("请输入开户银行。");if(""==traderpassword)return void alert("请输入交易密码。");var tax=parseFloat(redeem[indexYHK].tax),passMD5=hex_md5(traderpassword);showInfoTankuang(redeem[indexYHK].name,sum,tax+"%",sum*(100-tax)/100),$("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove();var url=basePath+"cashnew.jsp",dataJson={u:u,sum:sum,city:city,name:name,idcard:idcard,bankcard:bankcard,bankname:bank,bank:bankDeName,traderpassword:passMD5,txtype:1,platform:2};$mainServices.post(url,dataJson,!0).success(function(dataJsonRet){var code=dataJsonRet.code,message=dataJsonRet.message;200==code?(clickFlag=!0,alert("提交成功。"),$timeout(function(){$rootScope.hideTabs="",$ionicTabsDelegate.select(4)},2e3)):alert(message)})})}else if(1==val){var sum=$scope.userwx.sum;if(balance=parseFloat(balance),100>balance)return void alert("可提现金额不足100元。");if(""==sum)return void alert("请输入提现金额");if(sum=parseFloat(sum),100>sum)return void alert("最低提现100元");if(sum%100!=0)return void alert("必须是100的整数倍。");if(sum>balance)return void alert("余额不足。");var name=$scope.userwx.name,idcard=$scope.userwx.idcard,traderpassword=$scope.userwx.traderpassword;if(""==name)return void alert("请输入开户人姓名。");if(!$mainServices.yzIdCard(idcard))return void alert("请输入有效的身份证号。");if(""==traderpassword)return void alert("请输入交易密码。");var tax=parseFloat(redeem[indexWX].tax);showInfoTankuang(redeem[indexWX].name,sum,tax+"%",sum*(100-tax)/100);var passMD5=hex_md5(traderpassword);$("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove();var url=basePath+"cashnew.jsp",dataJson={u:u,sum:sum,city:"",name:name,idcard:idcard,bankcard:"",bankname:"",bank:"",traderpassword:passMD5,txtype:2,platform:2};$mainServices.post(url,dataJson,!0).success(function(dataJsonRet){var code=dataJsonRet.code,message=dataJsonRet.message;200==code?(clickFlag=!0,alert("提交成功。"),$timeout(function(){$rootScope.hideTabs=" ",$ionicTabsDelegate.select(4)},2e3)):alert(message)})})}}}return ctrl.$inject=["$scope","$controller","$mainServices","$timeout","$rootScope","$ionicTabsDelegate","$ionicScrollDelegate"],ctrl}),define("traderPassSetController",[],function(){function ctrl($scope,$rootScope,$controller,$mainServices,$ionicHistory,$timeout,$interval){$scope.data={canNext:!1,canSend:!0},$scope.smsBtn="获取验证码",$scope.styleBtn=["orangeBtn","orangeBtn"],$scope.user={mobileCode:"",txtMobile:"",txtPassword:"",txtPasswordConfirm:"",linkedMobile:""};var u=($controller("baseController",{$scope:$scope}),localStorage.getItem("uid_local"));$mainServices.post(basePath+"getUser.jsp",{t:1,u:u},!0).success(function(JSON_list_user){if(JSON_list_user.length>0){var txtMobile=JSON_list_user[0].username+"";$scope.user.txtMobile=txtMobile,$scope.user.linkedMobile="   验证手机号："+$mainServices.substringPhone(txtMobile)}});var _res;$scope.daojishiReg=function(){var step=120;$scope.styleBtn=["orangeBtn","grayBtn"],$scope.smsBtn="重新发送("+step+"S)",_res=$interval(function(){step-=1,$scope.smsBtn="重新发送("+step+"S)",0>=step&&($scope.smsBtn="重新发送",$scope.styleBtn=["orangeBtn","orangeBtn"],$interval.cancel(_res),$scope.data.canNext=!0,$scope.data.canSend=!0)},1e3)},$scope.getSmscodeBackPass=function(){if($scope.data.canSend){$scope.data.canSend=!1,$scope.data.canNext=!0;try{var txtMobile=$scope.user.txtMobile;if(!$mainServices.yzPhone(txtMobile))return alert("手机号有误。"),void($scope.data.canSend=!0);$mainServices.post(basePath+"userValidCheck.jsp",{username:txtMobile},!0).success(function(yzRetJson){var codeYz=yzRetJson.code;if(200!=codeYz){var message=yzRetJson.message;return alert(message),void($scope.data.canSend=!0)}$mainServices.post(basePath+"getSMS.jsp",{username:txtMobile},!0).success(function(smsRet){var smsRetCode=smsRet.code,message=smsRet.message;200==smsRetCode?(localStorage.setItem("backPassSmsTimeLocal",smsRet.date),$scope.daojishiReg()):(alert(message),$scope.data.canSend=!0)})})}catch(e){$scope.data.canSend=!0}}},$scope.traderPassBackSubmit=function(){if(null==u||""==u)return void alert("参数丢失，请重新登录。");var txtMobile=$scope.user.txtMobile,mobileCode=$scope.user.mobileCode;if(""==mobileCode||6!=mobileCode.length)return void alert("请输入有效的短信验证码");var backPassSmsTimeLocal=localStorage.getItem("backPassSmsTimeLocal"),nowTime=$mainServices.getServerTimeMilliseconds();if((nowTime-backPassSmsTimeLocal)/1e3/60>5)return void alert("验证码已经过期");var password=$scope.user.txtPassword;if(!$mainServices.yzNumber(password)||6!=password.length)return void alert("请输入6位数字密码。");var passwordconfirm=$scope.user.txtPasswordConfirm;if(""==passwordconfirm)return void lert("请确认交易密码。");if(password!=passwordconfirm)return void alert("两次密码不一致。");var passMD5=hex_md5(password),url=basePath+"setUser.jsp",dataJson={t:3,username:txtMobile,p:passMD5,u:u,code:mobileCode};$mainServices.post(url,dataJson,!0).success(function(subRetJson){var code=subRetJson.code;if(200==code)localStorage.removeItem("backPassSmsTimeLocal"),alert("设置成功"),$timeout(function(){$interval.cancel(_res),$ionicHistory.goBack(-1)},2e3);else{var message=subRetJson.message;alert(message)}})}}return ctrl.$inject=["$scope","$rootScope","$controller","$mainServices","$ionicHistory","$timeout","$interval"],ctrl}),define("newsController",[],function(){function ctrl($scope,$controller,$mainServices){$scope.news="",$scope.list=[];$controller("baseController",{$scope:$scope});$mainServices.post(basePath+"getNews.jsp",{},!0).success(function(JSON_list){if(JSON_list.length>0){$scope.news="";for(var i=0;i<JSON_list.length;i++){var ntitle=JSON_list[i].ntitle,content=JSON_list[i].content,contentPathBasc=basePath+"attached";content=content.replace(/\/attached/g,contentPathBasc),$scope.list.push(0==i?"block":"none");var tmp="<dl><dt ng-click='exchange("+i+")'><i></i>"+ntitle+"</dt><dd style='display:{{list["+i+"]}}'><i></i>"+content+"</dd></dl>";$scope.news+=tmp}}}),$scope.exchange=function(index){var len=$scope.list.length;if("block"==$scope.list[index])for(var i=0;len>i;i++)$scope.list[i]="none";else{for(var i=0;len>i;i++)$scope.list[i]="none";$scope.list[index]="block"}}}return ctrl.$inject=["$scope","$controller","$mainServices"],ctrl}),define("lyController",[],function(){function ctrl($scope,$controller,$mainServices){$scope.user={type:"1",phone:"",content:""};$controller("baseController",{$scope:$scope});$scope.setLy=function(){var u=localStorage.getItem("uid_local"),type=$scope.user.type,phone=$scope.user.phone,content=$scope.user.content;if(!$mainServices.yzPhone(phone)&&!$mainServices.yzTelPhone(phone))return void alert("请输入正确的联系方式。");if(""==content||content.length<10)return void alert("请输入10个字符以上内容。");var url=basePath+"setLy.jsp",dataJson={u:u,type:type,phone:phone,content:content};$mainServices.post(url,dataJson,!0).success(function(jsonRet){if(null!=jsonRet){var code=jsonRet.code;200==code?(alert("提交成功。"),$scope.user.phone="",$scope.user.content="",skip("#/"+$scope.host+"/mySeting")):alert(jsonRet.message)}})}}return ctrl.$inject=["$scope","$controller","$mainServices","$rootScope","$ionicTabsDelegate"],ctrl}),define("aboutController",[],function(){function ctrl($scope,$controller,$mainServices){$scope.ntitle="",$scope.myText="";{var id=$mainServices.getQueryString("id");$controller("baseController",{$scope:$scope})}if("1"==id?$scope.ntitle="关于我们":"9"==id?$scope.ntitle="客服热线":"10"==id&&($scope.ntitle="服务协议"),null!=id&&""!=id&&"undefined"!=typeof id){var url=basePath+"getAbout.jsp",dataJson={id:id};$mainServices.post(url,dataJson,!0).success(function(JSON_list){if(JSON_list.length>0){var content=JSON_list[0].content,contentPathBasc=basePath+"attached";content=content.replace(/\/attached/g,contentPathBasc),$scope.myText=content}})}}return ctrl.$inject=["$scope","$controller","$mainServices"],ctrl}),define("mySetingSafeController",[],function(){function ctrl($scope,$controller,$mainServices){$scope.user={mobile:"",traderpassword:"未开启"};var u=($controller("baseController",{$scope:$scope}),localStorage.getItem("uid_local"));(null!=u||""!=u)&&($mainServices.post(basePath+"getUser.jsp",{t:1,u:u},!0).success(function(JSON_list_user){var mobile="";JSON_list_user.length>0&&(mobile=JSON_list_user[0].username+""),null!=mobile||""!=mobile?(mobile=$mainServices.substringPhone(mobile),$scope.user.mobile=mobile):$scope.user.mobile="未绑定"}),$mainServices.post(basePath+"getCount.jsp",{t:1,u:u},!0).success(function(JSONRet){var t_count=0;null!=JSONRet&&(t_count=JSONRet.count),$scope.user.traderpassword=t_count>0?"重置":"设置"}))}return ctrl.$inject=["$scope","$controller","$mainServices"],ctrl}),define("logPassModController",[],function(){function ctrl($scope,$rootScope,$controller,$mainServices,$timeout,$ionicTabsDelegate){$scope.user={passwordold:"",txtPassword:"",txtPasswordConfirm:""};$controller("baseController",{$scope:$scope});$scope.logPassModSubmit=function(){var u=localStorage.getItem("uid_local");if(null==u||""==u)return void alert("参数丢失,请重新登录。");var passwordold=$scope.user.passwordold;if(!$mainServices.yzLogPass(passwordold))return void alert("请输入有效的原密码。");var passMD5old=hex_md5(passwordold),password=$scope.user.txtPassword;if(!$mainServices.yzLogPass(password))return void alert("请输入有效的登录密码。");if(passwordold==password)return void alert("原密码与新密码不能一致。");var passwordconfirm=$scope.user.txtPasswordConfirm;if(""==passwordconfirm)return void alert("请确认新的登录密码。");if(password!=passwordconfirm)return void alert("两次密码不一致。");var passMD5=hex_md5(password);$mainServices.post(basePath+"setUser.jsp",{t:1,u:u,p:passMD5,passMD5:passMD5old},!0).success(function(subRetJson){var code=subRetJson.code;200==code?(alert("密码修改成功。"),localStorage.removeItem("uid_local"),$timeout(function(){$scope.user={passwordold:"",txtPassword:"",txtPasswordConfirm:""},$rootScope.hideTabs=" ",$ionicTabsDelegate.select(4)},2e3)):alert(subRetJson.message)})}}return ctrl.$inject=["$scope","$rootScope","$controller","$mainServices","$timeout","$ionicTabsDelegate"],ctrl}),define("logisticsController",[],function(){function ctrl($scope,$controller,$mainServices,$stateParams){$scope.expr={expressFlag:!1,express:"",expressNo:""};var pid=$stateParams.pid,pterm=$stateParams.pterm;$scope.dataList=[];var url=($controller("baseController",{$scope:$scope}),basePath+"shouLogisticsInfor.jsp"),dataJson={pid:pid,pterm:pterm};$mainServices.post(url,dataJson,!0).success(function(JSON_list){if("null"==JSON_list||null==JSON_list)return void $scope.dataList.push({operateTime:"",operateState:"订单已提交，请等待发货！"});if(JSON_list.length>0)for(var i=JSON_list.length-1;i>=0;i--)"null"!=JSON_list[i].operateState&&null!=JSON_list[i].operateState&&$scope.dataList.push({operateTime:JSON_list[i].operateTime,operateState:JSON_list[i].operateState}),null!=JSON_list[i].expressNo&&""!=JSON_list[i].expressNo&&($scope.expr={expressFlag:!0,express:JSON_list[i].express,expressNo:JSON_list[i].expressNo})})}return ctrl.$inject=["$scope","$controller","$mainServices","$stateParams"],ctrl}),define("myInfoController",[],function(){function ctrl($scope,$controller,$mainServices){$scope.userData={};var u=($controller("baseController",{$scope:$scope}),localStorage.getItem("uid_local"));(null==u||""==u||"undefined"==typeof u)&&localStorage.setItem("backUrlLogin","#/index/index"),$scope.init=function(){var u=localStorage.getItem("uid_local");if(null!=u||""!=u||"undefined"!=typeof u){$("#u").val(u);var url=basePath+"getUser.jsp",dataJson={u:u,t:6};$mainServices.post(url,dataJson,!0).success(function(JSON_list){if(JSON_list.length>0){var headpic=JSON_list[0].headpic,username=JSON_list[0].username,nickname=JSON_list[0].nickname,sex=JSON_list[0].sex,birthday=JSON_list[0].birthday,leval=JSON_list[0].leval,qq=JSON_list[0].qq,address=JSON_list[0].address,hometown=JSON_list[0].hometown,signature=JSON_list[0].signature,invitationCode=JSON_list[0].yqm;headpic=$mainServices.getHttpOrlocalHeadPic(headpic),""!=qq&&qq.length>5&&(qq="****"+qq.substring(qq.length-5,qq.length)),$scope.userData={headpic:headpic,nickname:nickname,username:$mainServices.substringPhone(username),sex:$mainServices.getSexStr(sex),birthday:birthday,qq:qq,address:address,hometown:hometown,signature:$mainServices.subStringTitle(signature,10),invitationCode:invitationCode,leval:leval}}})}$("[name=headpicInput]").change(function(){var u=localStorage.getItem("uid_local");if(null!=u||""!=u||"undefined"!=typeof u){var f=$("[name='headpicInput']").val();if(null!=f&&""!=f){var url=basePath+"setMyLogo.jsp",formData=new FormData($("#headpicForm")[0]);$mainServices.showLoading(),$.ajax({url:url,type:"POST",data:formData,async:!0,cache:!1,contentType:!1,processData:!1,dataType:"json",success:function(data){var jsonRet=data;if(null!=jsonRet){var code=jsonRet.code;if(200==code){var headpic=jsonRet.headpic;""!=headpic&&(headpic=$mainServices.getHttpOrlocalHeadPic(headpic)),$scope.userData.headpic=headpic,alert("头像修改成功")}else alert("修改失败，请稍后重试。")}$mainServices.hideLoading()},error:function(){$mainServices.hideLoading()}})}}})},$scope.init()}return ctrl.$inject=["$scope","$controller","$mainServices","$stateParams"],ctrl}),define("myNicknameController",[],function(){function ctrl($scope,$controller,$mainServices){$scope.user={nickname:""};var u=($controller("baseController",{$scope:$scope}),localStorage.getItem("uid_local"));$scope.getNickname=function(){var url_user=basePath+"getUser.jsp",dataJson_user={t:2,u:u};$mainServices.post(url_user,dataJson_user,!0).success(function(JSON_list_user){var nickname="";JSON_list_user.length>0&&(nickname=JSON_list_user[0].nickname+""),$scope.user.nickname=nickname})},$scope.setNickname=function(){var nickname=$mainServices.trim($scope.user.nickname);if(nickname.length<2)return void alert("昵称不能小于2个字符");if(nickname.length>10)return void alert("昵称不能大于10个字符");if(!$mainServices.yzChinaOrEnglish(nickname))return void alert("请输入您的合法中英文昵称");var url=basePath+"seting.jsp",dataJson={u:u,t:1,nickname:nickname};$mainServices.post(url,dataJson,!0).success(function(jsonRet){if(null!=jsonRet){var code=jsonRet.code;200==code?skip("#/"+$scope.host+"/myInfo"):alert("网络异常，请稍后重试")}})},$scope.getNickname()}return ctrl.$inject=["$scope","$controller","$mainServices"],ctrl}),define("mySexController",[],function(){function ctrl($scope,$controller,$mainServices){$scope.user={Sex:""};var u=($controller("baseController",{$scope:$scope}),localStorage.getItem("uid_local"));$scope.getSex=function(){var url_user=basePath+"getUser.jsp",dataJson_user={t:5,u:u};$mainServices.post(url_user,dataJson_user,!0).success(function(JSON_list_user){var sex="";JSON_list_user.length>0&&(sex=JSON_list_user[0].sex+""),$scope.user.Sex=sex})},$scope.setSex=function(){var sex=$scope.user.Sex,url=basePath+"seting.jsp",dataJson={u:u,t:2,sex:sex};$mainServices.post(url,dataJson,!0).success(function(jsonRet){if(null!=jsonRet){var code=jsonRet.code;200==code?skip("#/"+$scope.host+"/myInfo"):alert("网络异常，请稍后重试")}})},$scope.getSex()}return ctrl.$inject=["$scope","$controller","$mainServices"],ctrl}),define("myBirthdayController",[],function(){function ctrl($scope,$controller,$mainServices){$scope.data={result:"","default":""};var u=($controller("baseController",{$scope:$scope}),localStorage.getItem("uid_local"));if(null!=u&&""!=u){var url_user=basePath+"getUser.jsp",dataJson_user={t:11,u:u};$mainServices.post(url_user,dataJson_user,!0).success(function(JSON_list_user){var birthday="";JSON_list_user.length>0&&(birthday=JSON_list_user[0].birthday+""),$scope.data.default=null==birthday||""==birthday||-1==birthday.indexOf("-")?"1990-01-01":birthday})}$scope.setBirthday=function(){var beginTime=$scope.data.result.substr(0,10);return beginTime=$mainServices.trim(beginTime),""==beginTime?void alert("请选择您的生日"):new Date(beginTime).getTime()>(new Date).getTime()?void alert("您选择的日期不能大于今天"):(showTankuang("一年后才能再次修改，确定保存吗"),void $("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove();var url=basePath+"setBirtyday.jsp",dataJson={u:u,birthday:beginTime};$mainServices.post(url,dataJson,!0).success(function(jsonRet){if(null!=jsonRet){var code=jsonRet.code;200==code?skip("#/"+$scope.host+"/myInfo"):alert(209==code?"生日一年只能修改一次":"服务器正忙，请稍后重试")}})}))}}return ctrl.$inject=["$scope","$controller","$mainServices"],ctrl}),define("myQqController",[],function(){function ctrl($scope,$controller,$mainServices){$scope.data={qq:""};var u=($controller("baseController",{$scope:$scope}),localStorage.getItem("uid_local"));null!=u&&""!=u&&$mainServices.post(basePath+"getUser.jsp",{t:10,u:u},!0).success(function(JSON_list_user){var qq="";JSON_list_user.length>0&&(qq=JSON_list_user[0].qq+""),$scope.data.qq=qq}),$scope.setQq=function(){var u=localStorage.getItem("uid_local"),qq=$scope.data.qq;if(qq=$mainServices.trim(qq),""==qq)return void alert("请输入您的qq号");if(!$mainServices.yzNumber(qq))return void alert("请输入正确的qq号");var url=basePath+"seting.jsp",dataJson={u:u,t:4,qq:qq};$mainServices.post(url,dataJson,!0).success(function(jsonRet){if(null!=jsonRet){var code=jsonRet.code;200==code?skip("#/"+$scope.host+"/myInfo"):alert("网络异常，请稍后重试")}})}}return ctrl.$inject=["$scope","$controller","$mainServices"],ctrl}),define("mySignatureController",[],function(){function ctrl($scope,$controller,$mainServices){$scope.data={signature:""};var u=($controller("baseController",{$scope:$scope}),localStorage.getItem("uid_local"));null!=u&&""!=u&&$mainServices.post(basePath+"getUser.jsp",{t:7,u:u},!0).success(function(JSON_list_user){var signature="";JSON_list_user.length>0&&(signature=JSON_list_user[0].signature+""),$scope.data.signature=signature}),$scope.setSignature=function(){var u=localStorage.getItem("uid_local"),signature=$mainServices.trim($scope.data.signature);if(""==signature)return void alert("请输入您的签名");var url=basePath+"seting.jsp",dataJson={u:u,t:3,signature:signature};$mainServices.post(url,dataJson,!0).success(function(jsonRet){if(null!=jsonRet){var code=jsonRet.code;200==code?skip("#/"+$scope.host+"/myInfo"):alert(900==code?jsonRet.message:"网络异常，请稍后重试")}})}}return ctrl.$inject=["$scope","$controller","$mainServices"],ctrl}),define("myHometownController",[],function(){function ctrl($scope,$controller,$mainServices){$scope.homeTitle="我的家乡",$scope.addArray=[],$scope.province=[{value:"0",name:"请选择所在省"}],$scope.city=[{value:"0",name:"请选择所在市"}],$scope.user={provinceId:"0",cityId:"0"};var id=($controller("baseController",{$scope:$scope}),$mainServices.getQueryString("id"));"2"==id?$scope.homeTitle="我的地址":id="1",$scope.selectProvince=function(provinceId_,provinceName){provinceId_+="",$scope.province=[{value:"0",name:"请选择所在省"}];var url=basePath+"userAddressUtil.jsp",dataJson={type_:1,provinceId_:provinceId_};$mainServices.post(url,dataJson,!0).success(function(JSON_list){if(JSON_list.length>0){for(var i=0;i<JSON_list.length;i++)$scope.province.push({value:JSON_list[i].serialId,name:JSON_list[i].provinceName}),null!=provinceName&&void 0!=provinceName&&""!=provinceName&&provinceName==JSON_list[i].provinceName&&(provinceId_=JSON_list[i].serialId);null==provinceId_&&(provinceId_="0"),$scope.user.provinceId=provinceId_,null!=provinceName&&""!=provinceName&&$scope.selectCity(provinceId_,0,$scope.addArray[1])}})},$scope.selectCity=function(provinceId_,cityId_,cityName_){if(provinceId_+="",$scope.city=[{value:"0",name:"请选择所在市"}],(null!=provinceId_||null!=cityId_)&&null!=provinceId_&&""!=provinceId_){var url=basePath+"userAddressUtil.jsp",dataJson={type_:2,provinceId_:provinceId_,cityId_:cityId_};$mainServices.post(url,dataJson,!0).success(function(JSON_list){if(JSON_list.length>0){for(var i=0;i<JSON_list.length;i++)$scope.city.push({value:JSON_list[i].serialId,name:JSON_list[i].cityName}),null!=cityName_&&void 0!=cityName_&&""!=cityName_&&cityName_==JSON_list[i].cityName&&(cityId_=JSON_list[i].serialId);null==cityId_&&(cityId_="0"),$scope.user.cityId=cityId_}})}},$scope.provinceChange=function(){$scope.selectCity($scope.user.provinceId),$scope.user.cityId="0"};var u=localStorage.getItem("uid_local");null!=u&&""!=u&&("1"==id?$mainServices.post(basePath+"getUser.jsp",{t:8,u:u},!0).success(function(JSON_list_user){var hometown="";
JSON_list_user.length>0&&(hometown=JSON_list_user[0].hometown+""),null!=hometown&&""!=hometown&&($scope.addArray=$mainServices.splitStr(hometown,",")),$scope.selectProvince(0,$scope.addArray[0])}):"2"==id&&$mainServices.post(basePath+"getUser.jsp",{t:9,u:u},!0).success(function(JSON_list_user){var address="";JSON_list_user.length>0&&(address=JSON_list_user[0].address+""),null!=address&&""!=address&&($scope.addArray=$mainServices.splitStr(address,",")),$scope.selectProvince(0,$scope.addArray[0])})),$scope.setHomeTown=function(){var u=localStorage.getItem("uid_local"),provinceName=$scope.user.provinceId,cityName=$scope.user.cityId;if(""==provinceName||"0"==provinceName)return void alert("请选择省。");if(""==cityName||"0"==cityName)return void alert("请选择市。");for(var i=0;i<$scope.province.length;i++)if(provinceName==$scope.province[i].value){provinceName=$scope.province[i].name;break}for(var i=0;i<$scope.city.length;i++)if(cityName==$scope.city[i].value){cityName=$scope.city[i].name;break}var hometown=provinceName+","+cityName,url=basePath+"seting.jsp",dataJson={u:u,t:5,hometown:hometown};"2"==id&&(dataJson={u:u,t:6,address:hometown}),$mainServices.post(url,dataJson,!0).success(function(jsonRet){if(null!=jsonRet){var code=jsonRet.code;200==code?skip("#/"+$scope.host+"/myInfo"):alert("网络异常，请稍后重试")}})}}return ctrl.$inject=["$scope","$controller","$mainServices"],ctrl}),define("logController",[],function(){function ctrl($scope,$rootScope,$ionicHistory,$mainServices,$controller,$factoryServices,$ionicTabsDelegate,$http){$scope.user={password:"",username:""},$scope.dataJson={sub_:1,username:"",passMD5:"",platform:2,version:""};$controller("baseController",{$scope:$scope});if($factoryServices.hideOrShowAppContent(),window.setAppVersion=function(str1,str2){null!=str2&&($scope.dataJson.version=str2)},$mainServices.getAppVersion(),-1==domain.indexOf("ios.1yuanxing")){var nc_appkey="4SIJ",nc_scene="login_h5",nc_token=[nc_appkey,(new Date).getTime(),Math.random()].join(":"),nc_option={renderTo:"#dom_id",appkey:nc_appkey,scene:nc_scene,token:nc_token,callback:function(data){document.getElementById("csessionid").value=data.csessionid,document.getElementById("sig").value=data.sig,document.getElementById("token").value=nc_token,document.getElementById("scene").value=nc_scene},error:function(){},verifycallback:function(data){"200"==data.code}};NoCaptcha.init(nc_option),NoCaptcha.setEnabled(!0)}$scope.userLoginSubmit=function(){if(-1==domain.indexOf("ios.1yuanxing")){var csessionid=document.getElementById("csessionid").value,sig=document.getElementById("sig").value,token=document.getElementById("token").value,scene=document.getElementById("scene").value;if(""==csessionid)return void alert("请进行滑动验证。");if(-1==$scope.user.username.indexOf("****")&&!$mainServices.yzPhone($scope.user.username)&&!$mainServices.yzEmail($scope.user.username))return alert("请输入有效的手机号或邮箱地址"),document.getElementById("csessionid").value="",document.getElementById("sig").value="",document.getElementById("token").value="",document.getElementById("scene").value="",NoCaptcha.init(nc_option),void NoCaptcha.setEnabled(!0);if(!$mainServices.yzLogPass($scope.user.password))return alert("登录密码输入有误"),document.getElementById("csessionid").value="",document.getElementById("sig").value="",document.getElementById("token").value="",document.getElementById("scene").value="",NoCaptcha.init(nc_option),void NoCaptcha.setEnabled(!0);$http.get(domain2+"validate/slider?csessionid="+csessionid+"&sig="+sig+"&token="+token+"&scene="+scene).success(function(result){if("success"==result.ret&&1==result.data){$scope.dataJson.username=$scope.user.username,$scope.dataJson.passMD5=hex_md5($scope.user.password);var url=basePath+"log.jsp";$mainServices.post(url,$scope.dataJson,!0).success(function(subRetJson){var code=subRetJson.code,message=subRetJson.message;if(200==code){var uid=subRetJson.uid;localStorage.setItem("uid_local",uid),$mainServices.userLogin(uid.substring(uid.indexOf("_")+1,uid.indexOf(".")));var backUrl="#/mine/myIndex",backUrlLogin=localStorage.getItem("backUrlLogin");null!=backUrlLogin&&""!=backUrlLogin&&"undefined"!=typeof backUrlLogin&&(backUrl=backUrlLogin,localStorage.removeItem("backUrlLogin")),"#/index/index"==backUrl?($rootScope.hideTabs="",$ionicTabsDelegate.select(0)):skip(backUrl),$factoryServices.getCardNum()}else alert(message),document.getElementById("csessionid").value="",document.getElementById("sig").value="",document.getElementById("token").value="",document.getElementById("scene").value="",NoCaptcha.init(nc_option),NoCaptcha.setEnabled(!0)})}else alert("请重新进行滑动验证。"),document.getElementById("csessionid").value="",document.getElementById("sig").value="",document.getElementById("token").value="",document.getElementById("scene").value="",NoCaptcha.init(nc_option),NoCaptcha.setEnabled(!0)})}else{if(-1==$scope.user.username.indexOf("****")&&!$mainServices.yzPhone($scope.user.username)&&!$mainServices.yzEmail($scope.user.username))return void alert("请输入有效的手机号或邮箱地址");if(!$mainServices.yzLogPass($scope.user.password))return void alert("登录密码输入有误");$scope.dataJson.username=$scope.user.username,$scope.dataJson.passMD5=hex_md5($scope.user.password);var url=basePath+"log.jsp";$mainServices.post(url,$scope.dataJson,!0).success(function(subRetJson){var code=subRetJson.code,message=subRetJson.message;if(200==code){var uid=subRetJson.uid;localStorage.setItem("uid_local",uid),$mainServices.userLogin(uid.substring(uid.indexOf("_")+1,uid.indexOf(".")));var backUrl="#/mine/myIndex",backUrlLogin=localStorage.getItem("backUrlLogin");null!=backUrlLogin&&""!=backUrlLogin&&"undefined"!=typeof backUrlLogin&&(backUrl=backUrlLogin,localStorage.removeItem("backUrlLogin")),"#/index/index"==backUrl?($rootScope.hideTabs="",$ionicTabsDelegate.select(0)):skip(backUrl),$factoryServices.getCardNum()}else alert(message)})}},window.thirdPartyLogins=function(jsonRet,type){if(null!=jsonRet&&""!=jsonRet&&"undefined"!=typeof jsonRet){var openid=jsonRet.openid;if(isAndroid)var nickname=jsonRet.screen_name;else var nickname=jsonRet.nickname;var headimgurl=jsonRet.headimgurl;if((null==headimgurl||""==headimgurl||"undefined"==typeof headimgurl)&&(headimgurl=jsonRet.figureurl_qq_2),isAndroid&&(headimgurl=jsonRet.profile_image_url),null==openid||"null"==openid||"(null)"==openid)return openid="",void alert("授权登录失败，请重试！");(null==nickname||"null"==nickname)&&(nickname=""),(null==headimgurl||"null"==headimgurl)&&(headimgurl="");var url=basePath+"thirdPartyLogins.jsp",dataJson={sub:"1",type:type,openid:openid,nickname:nickname,headimgurl:headimgurl,platform:"2"};$mainServices.post(url,dataJson,!0).success(function(loggingStatus){var code=loggingStatus.code;if(201==code){{var uid=loggingStatus.uid;loggingStatus.username}localStorage.setItem("uid_local",uid),$mainServices.userLogin(uid.substring(uid.indexOf("_")+1,uid.indexOf(".")));var backUrl="#/mine/myIndex",backUrlLogin=localStorage.getItem("backUrlLogin");null!=backUrlLogin&&""!=backUrlLogin&&"undefined"!=typeof backUrlLogin?(backUrl=backUrlLogin,localStorage.removeItem("backUrlLogin"),"#/mine/myIndex"==backUrl?($rootScope.hideTabs="",$ionicTabsDelegate.select(4)):skip(backUrl)):($rootScope.hideTabs="",$ionicTabsDelegate.select(4)),$factoryServices.getCardNum()}else if(200==code){var openid=loggingStatus.openid,type=loggingStatus.type;localStorage.setItem("openid",openid),localStorage.setItem("type",type),skip("#/"+$scope.host+"/binding")}else alert("操作失败！")})}},$scope.$on("$destroy",function(){$(".nc-h5-overlay .stage.stage2").remove(),$(".nc-h5-overlay._nc").hide()})}return ctrl.$inject=["$scope","$rootScope","$ionicHistory","$mainServices","$controller","$factoryServices","$ionicTabsDelegate","$http"],ctrl}),define("bindingController",[],function(){function ctrl($scope,$controller,$mainServices){$scope.tmp={chk:"noCheck"},$scope.user={mobile:""};$controller("baseController",{$scope:$scope});$scope.toChoose=function(){$scope.tmp.chk="noCheck"==$scope.tmp.chk?"":"noCheck"},$scope.binding=function(){var txtMobile=$scope.user.mobile;return $mainServices.yzPhone(txtMobile)?"noCheck"==$scope.tmp.chk?void alert("请先同意用户服务协议"):(localStorage.setItem("registerMobileLocal",txtMobile),void $mainServices.post(basePath+"userUniqueCheck.jsp",{username:txtMobile},!0).success(function(yzRetJson){var codeYz=yzRetJson.code;skip(200!=codeYz?"#/"+$scope.host+"/changePassword":"#/"+$scope.host+"/SecurityCode")})):void alert("请输入有效的手机号")}}return ctrl.$inject=["$scope","$controller","$mainServices"],ctrl}),define("securityCodeController",[],function(){function ctrl($scope,$controller,$mainServices,$interval,$http,$sce){$scope.data={canNext:!0,canSend:!1},$scope.mobileSmsLi="",$scope.smsBtn="获取验证码",$scope.user={mobileCode:""},$scope.showSmscode=!1,$scope.styleBtn=["orangeBtn","orangeBtn"];var registerMobileLocal=($controller("baseController",{$scope:$scope}),localStorage.getItem("registerMobileLocal"));null!=registerMobileLocal&&11==registerMobileLocal.length&&($scope.mobileSmsLi=$sce.trustAsHtml('<span style="color:#f00">请先滑动验证后，</span>验证码将发送至'+$mainServices.substringPhone(registerMobileLocal)));var nc_appkey="4SIJ",nc_scene="register_h5",nc_token=[nc_appkey,(new Date).getTime(),Math.random()].join(":"),nc_option={renderTo:"#dom_id",appkey:nc_appkey,scene:nc_scene,token:nc_token,callback:function(data){return""==data.csessionid?void alert("请进行滑动验证。"):void $http.get(domain2+"validate/slider?csessionid="+data.csessionid+"&sig="+data.sig+"&token="+nc_token+"&scene="+nc_scene).success(function(result){"success"==result.ret&&1==result.data&&($scope.data.canSend=!0,$scope.showSmscode=!0,$scope.getBdSmscode())})},error:function(){},verifycallback:function(data){"200"==data.code}};NoCaptcha.init(nc_option),NoCaptcha.setEnabled(!0),$scope.daojishiReg=function(){var step=120;$scope.styleBtn=["orangeBtn","grayBtn"],$scope.smsBtn="重新发送("+step+"S)";var _res=$interval(function(){step-=1,$scope.smsBtn="重新发送("+step+"S)",0>=step&&($scope.smsBtn="重新发送",$scope.styleBtn=["orangeBtn","orangeBtn"],$interval.cancel(_res),$scope.data.canNext=!0,$scope.data.canSend=!0)},1e3)},$scope.getBdSmscode=function(){if($scope.data.canSend){$scope.data.canSend=!1,$scope.data.canNext=!0;try{var registerMobileLocal=localStorage.getItem("registerMobileLocal");if(null==registerMobileLocal)return alert("参数丢失"),void setTimeout(function(){skip("#/"+$scope.host+"/log")},3e3);$mainServices.post(basePath+"userUniqueCheck.jsp",{username:registerMobileLocal},!0).success(function(yzRetJson){var codeYz=yzRetJson.code;if(200!=codeYz){var message=yzRetJson.message;return alert(message),void($scope.data.canSend=!0)}$mainServices.post(basePath+"getSMS.jsp",{username:registerMobileLocal},!0).success(function(smsRet){var smsRetCode=smsRet.code,message=smsRet.message;200==smsRetCode?($scope.mobileSmsLi="验证码将发送至"+$mainServices.substringPhone(registerMobileLocal)+"，如未收到验证短信，请在120秒后点击重新发送",localStorage.setItem("registerSmsTimeLocal",smsRet.date),$scope.daojishiReg()):(alert(message),$scope.data.canSend=!0)})})}catch(e){$scope.data.canSend=!0}}},$scope.nextStep=function(){if($scope.data.canNext){var registerMobileLocal=localStorage.getItem("registerMobileLocal");if(null==registerMobileLocal)return void alert("参数丢失,请返回上一步重新绑定手机号。");var mobileCode=$scope.user.mobileCode;if(""==mobileCode)return void alert("请输入短信验证码。");var registerSmsTimeLocal=localStorage.getItem("registerSmsTimeLocal"),nowTime=$mainServices.getServerTimeMilliseconds();if((nowTime-registerSmsTimeLocal)/1e3/60>5)return void alert("验证码已经过期。");localStorage.setItem("registerSms",mobileCode),skip("#/"+$scope.host+"/setPassword")}},$scope.$on("$destroy",function(){$(".nc-h5-overlay .stage.stage2").remove(),$(".nc-h5-overlay._nc").hide()})}return ctrl.$inject=["$scope","$controller","$mainServices","$interval","$http","$sce"],ctrl}),define("setPasswordController",[],function(){function ctrl($scope,$rootScope,$controller,$mainServices,$timeout,$ionicTabsDelegate){$scope.user={txtPassword:"",txtPasswordConfirm:""};$controller("baseController",{$scope:$scope});$scope.tipSetPassSucc=function(){var backUrl="#/mine/myIndex",backUrlLogin=localStorage.getItem("backUrlLogin");null!=backUrlLogin&&""!=backUrlLogin&&"undefined"!=typeof backUrlLogin&&(backUrl=backUrlLogin,localStorage.removeItem("backUrlLogin")),"#/index/index"==backUrl?($rootScope.hideTabs="",$ionicTabsDelegate.select(0)):skip(backUrl)},$scope.binding=function(){var registerMobileLocal=localStorage.getItem("registerMobileLocal"),openid=localStorage.getItem("openid"),type=localStorage.getItem("type");if(null==registerMobileLocal||null==openid||null==type)return alert("参数丢失,请重新登录。"),void $timeout(function(){skip("#/"+$scope.host+"/log")},3e3);var password=$scope.user.txtPassword;if(!$mainServices.yzLogPass(password))return void alert("请输入有效的登录密码。");var passwordconfirm=$scope.user.txtPasswordConfirm;if(""==passwordconfirm)return void alert("请确认登录密码。");if(password!=passwordconfirm)return void alert("两次密码不一致。");var passMD5=hex_md5(password),registerSms=localStorage.getItem("registerSms"),url=basePath+"userBindingSubmit.jsp",dataJson={sub_:1,username:registerMobileLocal,password:passMD5,openid:openid,type:type,platform:2,smscode:registerSms};$mainServices.post(url,dataJson,!0).success(function(subRetJson){var code=subRetJson.code,message=subRetJson.message;if(200==code){var uid=subRetJson.uid;localStorage.setItem("uid_local",uid),$mainServices.userLogin(uid.substring(uid.indexOf("_")+1,uid.indexOf("."))),$mainServices.postNew(domain2+"vouchers/insertSprogRecord.do",{userID:uid},!1).success(function(){}),$("#tipSetPassSucc").show(),localStorage.removeItem("registerSms"),localStorage.removeItem("registerMobileLocal"),localStorage.removeItem("registerSmsTimeLocal")}else alert(message),$timeout(function(){skip("#/"+$scope.host+"/log")},3e3)})}}return ctrl.$inject=["$scope","$rootScope","$controller","$mainServices","$timeout","$ionicTabsDelegate"],ctrl}),define("changePasswordController",[],function(){function ctrl($scope,$controller,$mainServices,$rootScope,$ionicTabsDelegate){$scope.cpw={login_password:""};$controller("baseController",{$scope:$scope});$scope.binding=function(){var passMD5=hex_md5($scope.cpw.login_password),registerMobileLocal=localStorage.getItem("registerMobileLocal"),openid=localStorage.getItem("openid"),type=localStorage.getItem("type");return null==registerMobileLocal||null==openid||null==type?void alert("参数丢失"):void $mainServices.post(basePath+"userpasswordyz.jsp",{username:registerMobileLocal,login_password:passMD5},!0).success(function(mmyzRetJson){var code_mmyz=mmyzRetJson.code;if(200!=code_mmyz){var message_mmyz=mmyzRetJson.message;return void alert(message_mmyz)}var dataJson={sub_:1,username:registerMobileLocal,password:passMD5,openid:openid,type:type,platform:2};$mainServices.post(basePath+"userBindingSubmit.jsp",dataJson,!0).success(function(subRetJson){var code=subRetJson.code,message=subRetJson.message;if(200!=code)return void alert(message);var uid=subRetJson.uid;localStorage.setItem("uid_local",uid),$mainServices.userLogin(uid.substring(uid.indexOf("_")+1,uid.indexOf(".")));var backUrl="#/"+$scope.host+"/log",backUrlLogin=localStorage.getItem("backUrlLogin");null!=backUrlLogin&&""!=backUrlLogin&&"undefined"!=typeof backUrlLogin&&(backUrl=backUrlLogin,localStorage.removeItem("backUrlLogin")),"#/index/index"==backUrl?($rootScope.hideTabs="",$ionicTabsDelegate.select(0)):"#/product/productlist"==backUrl?($rootScope.hideTabs="",$ionicTabsDelegate.select(1)):"#/activite/newPublishList"==backUrl?($rootScope.hideTabs="",$ionicTabsDelegate.select(2)):"#/cart/cart"==backUrl?($rootScope.hideTabs="",$ionicTabsDelegate.select(3)):"#/mine/myIndex"==backUrl?($rootScope.hideTabs="",$ionicTabsDelegate.select(4)):skip(backUrl)})})}}return ctrl.$inject=["$scope","$controller","$mainServices","$rootScope","$ionicTabsDelegate"],ctrl}),define("registerController",[],function(){function ctrl($scope,$controller,$mainServices){$scope.user={txtMobile:""},$scope.tmp={chk:"noCheck"};$controller("baseController",{$scope:$scope});$scope.toChoose=function(){$scope.tmp.chk="noCheck"==$scope.tmp.chk?"":"noCheck"},$scope.register=function(){var txtMobile=$scope.user.txtMobile;return $mainServices.yzPhone(txtMobile)?void $mainServices.post(basePath+"userUniqueCheck.jsp",{username:txtMobile},!0).success(function(yzRetJson){var codeYz=yzRetJson.code;if(200!=codeYz){var message=yzRetJson.message;return void alert(message)}return"noCheck"==$scope.tmp.chk?void alert("请先同意用户服务协议"):(localStorage.setItem("registerMobileLocal",txtMobile),void skip("#/"+$scope.host+"/registerStepTwo"))}):void alert("请输入有效的手机")}}return ctrl.$inject=["$scope","$controller","$mainServices"],ctrl}),define("registerStepTwoController",[],function(){function ctrl($scope,$controller,$mainServices,$interval,$http,$sce,$timeout){$scope.data={canNext:!0,canSend:!0},$scope.mobileSmsLi="",$scope.mobileSilde="",$scope.smsBtn="获取验证码",$scope.user={mobileCode:""},$scope.showSilde=!1,$scope.styleBtn=["orangeBtn","orangeBtn"];var registerMobileLocal=($controller("baseController",{$scope:$scope}),localStorage.getItem("registerMobileLocal"));null!=registerMobileLocal&&11==registerMobileLocal.length&&($scope.mobileSilde=$sce.trustAsHtml('<span style="color:#f00">请先滑动验证后，</span>验证码将发送至'+$mainServices.substringPhone(registerMobileLocal)),$scope.mobileSmsLi=$sce.trustAsHtml("验证码将发送至"+$mainServices.substringPhone(registerMobileLocal))),$scope.daojishiReg=function(){var step=120;$scope.styleBtn=["orangeBtn","grayBtn"],$scope.smsBtn="重新发送("+step+"S)";var _res=$interval(function(){step-=1,$scope.smsBtn="重新发送("+step+"S)",0>=step&&($scope.smsBtn="重新发送",$scope.styleBtn=["orangeBtn","orangeBtn"],$interval.cancel(_res),$scope.data.canNext=!0,$scope.data.canSend=!0)},1e3)},$scope.getSmscode=function(){$scope.data.canSend&&($scope.showSilde=!0,$timeout(function(){var nc_appkey="4SIJ",nc_scene="register_h5",nc_token=[nc_appkey,(new Date).getTime(),Math.random()].join(":"),nc_option={renderTo:"#dom_id",appkey:nc_appkey,scene:nc_scene,token:nc_token,callback:function(data){if(""==data.csessionid)return void alert("请进行滑动验证。");$scope.showSilde=!1,$scope.data.canSend=!1,$scope.data.canNext=!0;try{var registerMobileLocal=localStorage.getItem("registerMobileLocal");if(null==registerMobileLocal)return alert("参数丢失"),void setTimeout(function(){skip("#/"+$scope.host+"/register")},3e3);$mainServices.post(basePath+"userUniqueCheck.jsp",{username:registerMobileLocal},!0).success(function(yzRetJson){var codeYz=yzRetJson.code;if(200!=codeYz){var message=yzRetJson.message;return alert(message),void($scope.data.canSend=!0)}$mainServices.post(basePath+"getSMS.jsp",{username:registerMobileLocal},!0).success(function(smsRet){var smsRetCode=smsRet.code,message=smsRet.message;200==smsRetCode?($scope.mobileSmsLi="验证码将发送至"+$mainServices.substringPhone(registerMobileLocal)+"，如未收到验证短信，请在120秒后点击重新发送",localStorage.setItem("registerSmsTimeLocal",smsRet.date),$scope.daojishiReg(),localStorage.setItem("registerSilde",JSON.stringify({csessionid:data.csessionid,sig:data.sig,token:nc_token,scene:nc_scene}))):(alert(message),$scope.data.canSend=!0)})})}catch(e){$scope.data.canSend=!0}},error:function(){},verifycallback:function(data){"200"==data.code}};NoCaptcha.init(nc_option),NoCaptcha.setEnabled(!0)}))},$scope.register=function(){if($scope.data.canNext){var registerMobileLocal=localStorage.getItem("registerMobileLocal");if(null==registerMobileLocal)return void alert("参数丢失,请返回上一步重新输入手机号。");var mobileCode=$scope.user.mobileCode;if(""==mobileCode)return void alert("请输入短信验证码。");var registerSmsTimeLocal=localStorage.getItem("registerSmsTimeLocal"),nowTime=$mainServices.getServerTimeMilliseconds();if((nowTime-registerSmsTimeLocal)/1e3/60>5)return void alert("验证码已经过期。");localStorage.setItem("registerSms",mobileCode),skip("#/"+$scope.host+"/registerStepThree")}},$scope.$on("$destroy",function(){$(".nc-h5-overlay .stage.stage2").remove(),$(".nc-h5-overlay._nc").hide()})}return ctrl.$inject=["$scope","$controller","$mainServices","$interval","$http","$sce","$timeout"],ctrl}),define("registerStepThreeController",[],function(){function ctrl($scope,$controller,$mainServices,$timeout){$scope.user={txtPassword:"",txtPasswordConfirm:"",invitationCode:""},$scope.tmp={chk:"noCheck",isShow:!1};$controller("baseController",{$scope:$scope});$scope.tipRegSucc=function(){skip("#/"+$scope.host+"/log")},$scope.toChoose=function(){"noCheck"==$scope.tmp.chk?($scope.tmp.chk="",$scope.tmp.isShow=!0):($scope.tmp.chk="noCheck",$scope.tmp.isShow=!1)},$scope.register=function(){var registerMobileLocal=localStorage.getItem("registerMobileLocal");if(null==registerMobileLocal)return alert("参数丢失,请重新注册。"),void $timeout(function(){skip("#/"+$scope.host+"/register")},3e3);var InvitationCode=$scope.user.invitationCode,registerSms=localStorage.getItem("registerSms");"noCheck"==$scope.tmp.chk&&(InvitationCode="");var password=$scope.user.txtPassword;if(!$mainServices.yzLogPass(password))return void alert("请输入有效的登录密码。");var passwordconfirm=$scope.user.txtPasswordConfirm;if(""==passwordconfirm)return void alert("请确认登录密码。");if(password!=passwordconfirm)return void alert("两次密码不一致。");var passMD5=hex_md5(password),registerSilde=JSON.parse(localStorage.getItem("registerSilde")),dataJson={username:registerMobileLocal,password:passMD5,yqm:InvitationCode,platform:$mainServices.flagPlatform(),smscode:registerSms,csessionid:registerSilde.csessionid,sig:registerSilde.sig,token:registerSilde.token,scene:registerSilde.scene};$mainServices.postNew(domain2+"user/register.do",dataJson,!1).success(function(subRetJson){var code=subRetJson.code,message=subRetJson.message;"200"==code||200==code?(setTimeout(function(){$("#tipRegSucc").show()},500),localStorage.removeItem("registerSms"),localStorage.removeItem("registerMobileLocal"),localStorage.removeItem("registerSmsTimeLocal"),localStorage.removeItem("registerSilde")):alert(message)})}}return ctrl.$inject=["$scope","$controller","$mainServices","$timeout"],ctrl}),define("logPassbackController",[],function(){function ctrl($scope,$controller,$mainServices,$interval,$timeout){$scope.data={canNext:!1,canSend:!0},$scope.smsBtn="获取验证码",$scope.user={mobileCode:"",txtMobile:"",txtPassword:"",txtPasswordConfirm:""},$scope.styleBtn=["orangeBtn","orangeBtn"];{var _res;$controller("baseController",{$scope:$scope})}$scope.daojishiReg=function(){var step=120;$scope.styleBtn=["orangeBtn","grayBtn"],$scope.smsBtn="重新发送("+step+"S)",_res=$interval(function(){step-=1,$scope.smsBtn="重新发送("+step+"S)",0>=step&&($scope.smsBtn="重新发送",$scope.styleBtn=["orangeBtn","orangeBtn"],$interval.cancel(_res),$scope.data.canNext=!0,$scope.data.canSend=!0)},1e3)},$scope.getSmscodeBackPass=function(){if($scope.data.canSend){$scope.data.canSend=!1,$scope.data.canNext=!0;try{var txtMobile=$scope.user.txtMobile;if(!$mainServices.yzPhone(txtMobile))return alert("请输入有效的手机"),void($scope.data.canSend=!0);$mainServices.post(basePath+"userValidCheck.jsp",{username:txtMobile},!0).success(function(yzRetJson){var codeYz=yzRetJson.code;if(200!=codeYz){var message=yzRetJson.message;return alert(message),void($scope.data.canSend=!0)}$mainServices.post(basePath+"getSMS.jsp",{username:txtMobile},!0).success(function(smsRet){var smsRetCode=smsRet.code,message=smsRet.message;200==smsRetCode?(localStorage.setItem("backPassSmsTimeLocal",smsRet.date),$scope.daojishiReg()):(alert(message),$scope.data.canSend=!0)})})}catch(e){$scope.data.canSend=!0}}},$scope.logPassBackSubmit=function(){var txtMobile=$scope.user.txtMobile;if(!$mainServices.yzPhone(txtMobile))return void alert("请输入有效的手机");var mobileCode=$scope.user.mobileCode;if(""==mobileCode||6!=mobileCode.length)return void alert("请输入有效的短信验证码");var backPassSmsTimeLocal=localStorage.getItem("backPassSmsTimeLocal"),nowTime=$mainServices.getServerTimeMilliseconds();if((nowTime-backPassSmsTimeLocal)/1e3/60>5)return void alert("验证码已经过期");var password=$scope.user.txtPassword;if(!$mainServices.yzLogPass(password))return void alert("请输入有效的登录密码。");var passwordconfirm=$scope.user.txtPasswordConfirm;if(""==passwordconfirm)return void alert("请确认登录密码。");if(password!=passwordconfirm)return void alert("两次密码不一致。");var passMD5=hex_md5(password),url=basePath+"setUser.jsp",dataJson={t:2,username:txtMobile,p:passMD5,code:mobileCode};$mainServices.post(url,dataJson,!0).success(function(subRetJson){var code=subRetJson.code;if(200==code)localStorage.removeItem("backPassSmsTimeLocal"),alert("密码重置成功"),$timeout(function(){$interval.cancel(_res),skip("#/"+$scope.host+"/log")},3e3);else{var message=subRetJson.message;alert(message)}})}}return ctrl.$inject=["$scope","$controller","$mainServices","$interval","$timeout"],ctrl}),define("commissionController",[],function(){function ctrl($scope,$controller,$mainServices,$rootScope,$ionicTabsDelegate,$timeout,$ionicScrollDelegate){$scope.tab=[{tabClass:"czmx",isShow:!0},{tabClass:"",isShow:!1}],$scope.canLoadRecordInvite={code:!1,nowPageMore:0},$scope.canLoadRecordCommiss={code:!1,nowPageMore:0},$scope.inviteRecords=[],$scope.commissRecords=[],$scope.zllist=["我的邀请","我的奖励"],$scope.getUser={yongjin:"0.00",yongjintotal:"0.00"};var u=($controller("baseController",{$scope:$scope}),localStorage.getItem("uid_local"));if(null==u||""==u||"undefined"==typeof u)return void alert("请先登录。");var url=basePath+"getUsercommission.jsp",dataJson={uid:u};$mainServices.post(url,dataJson,!0).success(function(JSON_list){$scope.getUser.yongjin=JSON_list.yongjin,$scope.getUser.yongjintotal=JSON_list.yongjintotal}),$scope.i=0,$scope.tabAc=function(t){$scope.i=t,0==t?($scope.tab=[{tabClass:"czmx",isShow:!0},{tabClass:"",isShow:!1}],0==$scope.inviteRecords.length&&$scope.recordInvitationLoad()):1==t&&($scope.tab=[{tabClass:"",isShow:!1},{tabClass:"czmx",isShow:!0}],0==$scope.commissRecords.length&&$scope.recordCommissLoad())},$scope.recordCommissLoad=function(){var url=domain2+"accountDetail/getAccountDetail.do";$scope.canLoadRecordCommiss.nowPageMore++;var dataJson={user:{userID:u},page:{currentPage:$scope.canLoadRecordCommiss.nowPageMore,pageNumber:1e4}};$mainServices.postNew(url,dataJson,!1).success(function(JSONObj){if("success"==JSONObj.ret){var pageCount=JSONObj.data.page.totalPage,JSON_list=JSONObj.data.serviceData;if(null!=JSON_list&&JSON_list.length>0){$scope.list=!1,$scope.val="";for(var i=0;i<JSON_list.length;i++){var nickname=JSON_list[i].nickname,intime=JSON_list[i].intime;intime=$mainServices.getTimeNo_0(intime);var money,maths,receiveuid=JSON_list[i].receiveuid,sum=JSON_list[i].sum;null==receiveuid?(receiveuid="转出",money="0"):(receiveuid="收入",money=sum*JSON_list[i].byqruid,maths="("+100/JSON_list[i].byqruid+"%)"),$scope.commissRecords.push({intime:intime,nickname:nickname,receiveuid:receiveuid,sum:money,commiss:sum,maths:maths})}$ionicScrollDelegate.resize(),$scope.canLoadRecordCommiss.code=pageCount<=$scope.canLoadRecordCommiss.nowPageMore?!1:!0,$scope.$broadcast("scroll.infiniteScrollComplete")}else $scope.list=!0,$scope.val="暂无佣金"}else alert("请求失败，请重新刷新页面")})},$scope.zlbye=function(){$(".zlfxfooter").animate({height:"0"},300)},$scope.share=function(){$(".zlfxfooter").animate({height:"3rem"},300),$scope.invitationCode=localStorage.getItem("invitationCode");var u=localStorage.getItem("uid_local");if(null!=u&&""!=u&&"undefined"!=typeof u){var url=basePath+"getUserYqm.jsp",dataJson={u:u};$mainServices.post(url,dataJson,!1).success(function(JSON_list){$scope.invitationCode=JSON_list.yqm,$mainServices.isNull($scope.invitationCode)?$scope.invitationCodeShow=!1:($scope.invitationCodeShow=!0,localStorage.setItem("invitationCode",$scope.invitationCode))})}else $scope.invitationCodeShow=!1;$scope.WeixinAppShare=function(type){$mainServices.WeixinAppShare(type,$scope.invitationCode)}},$scope.recordInvitationLoad=function(){var url=domain2+"accountDetail/getInviteUser.do";$scope.canLoadRecordInvite.nowPageMore++;var dataJson={user:{userID:u},page:{currentPage:$scope.canLoadRecordInvite.nowPageMore,pageNumber:10}};$mainServices.postNew(url,dataJson,!1).success(function(JSONObj){if("success"==JSONObj.ret){var pageCount=JSONObj.data.page.totalPage,JSON_list=JSONObj.data.serviceData;if(null!=JSON_list&&JSON_list.length>0){for(var i=0;i<JSON_list.length;i++){var nickname=JSON_list[i].nickName,experience=JSON_list[i].experience,intime=JSON_list[i].intime;intime=$mainServices.getTimeNo_0(intime),experience=0>=experience?"未消费":"已消费",$scope.inviteRecords.push({intime:intime,nickname:nickname,experience:experience})}$ionicScrollDelegate.resize(),$scope.canLoadRecordInvite.code=pageCount<=$scope.canLoadRecordInvite.nowPageMore?!1:!0,$scope.$broadcast("scroll.infiniteScrollComplete")}}else alert("请求失败，请重新刷新页面")})},$scope.recordInvitationLoad()}return ctrl.$inject=["$scope","$controller","$mainServices","$rootScope","$ionicTabsDelegate","$timeout","$ionicScrollDelegate","$ionicPopup"],ctrl}),define("rollOutController",[],function(){function ctrl($scope,$controller,$mainServices,$timeout){$scope.user={sum:"",traderpassword:""},$scope.isSet=!1,$scope.isForget=!1;var u=($controller("baseController",{$scope:$scope}),localStorage.getItem("uid_local"));if(null==u||""==u||"undefined"==typeof u)return void alert("请先登录。");$mainServices.post(basePath+"getUsercommission.jsp",{uid:u},!0).success(function(JSON_list){$scope.balance=JSON_list.yongjin,0==JSON_list.iszfmm?$scope.isSet=!0:$scope.isForget=!0});var clickFlag=!1;$scope.subCardBtn=function(){if(!clickFlag){var sum=$scope.user.sum,balance=parseFloat($scope.balance);if(1>balance)return void alert("佣金余额不足1元。");if($mainServices.isNull(sum))return void alert("请输入转出金额");if(parseFloat(sum)<1||!$mainServices.yzNumber(parseFloat(sum)))return void alert("请输入正确的转出金额。");if(parseFloat(sum)>balance)return void alert("转出金额必须小于等于佣金余额。");var traderpassword=$scope.user.traderpassword;if(""==traderpassword)return void alert("请输入交易密码。");var passMD5=hex_md5(traderpassword),url=basePath+"commissionCash.jsp",dataJson={uid:u,sum:sum,traderpassword:passMD5,platform:2};$mainServices.post(url,dataJson,!0).success(function(dataJsonRet){var code=dataJsonRet.code,message=dataJsonRet.message;200==code?(clickFlag=!0,alert("转出成功。"),$timeout(function(){skip("#/"+$scope.host+"/commission")},1500)):alert(message)})}}}return ctrl.$inject=["$scope","$controller","$mainServices","$timeout","$rootScope","$ionicTabsDelegate","$ionicScrollDelegate"],ctrl}),define("inviteIntrController",[],function(){function ctrl($scope,$controller,$mainServices){$scope.myVal="";var url=($controller("baseController",{$scope:$scope}),basePath+"getRule.jsp"),dataJson={type:2};$mainServices.post(url,dataJson,!0).success(function(jsonObj){null!=jsonObj&&($scope.myVal=jsonObj.rule)})}return ctrl.$inject=["$scope","$controller","$mainServices","$rootScope","$ionicTabsDelegate","$timeout"],ctrl}),define("customerServiceController",[],function(){function ctrl($scope,$controller,$mainServices){$scope.list=[!1,!1,!1,!1,!1,!1,!1],$scope.style=["","","","","","",""];$controller("baseController",{$scope:$scope});$scope.exchange=function(index){var len=$scope.list.length;if(1==$scope.list[index])for(var i=0;len>i;i++)$scope.list[i]=!1,$scope.style[i]="";else{for(var i=0;len>i;i++)$scope.list[i]=!1,$scope.style[i]="";$scope.list[index]=!0,$scope.style[index]="rotate-180"}};var u=localStorage.getItem("uid_local");if(u){var url="https://api.592huiyi.com/game/account/balance",dataJson={userID:u};$mainServices.postNew(url,dataJson,!1).success(function(JSON_list){if(console.log(JSON_list),"success"==JSON_list.ret&&null!=JSON_list.data.serviceData){var dataObj=JSON_list.data.serviceData;$scope.qimoClientId={userId:u,nickName:dataObj.userName}}})}else $scope.qimoClientId={};$scope.customerService=function(){u?$mainServices.iosBrowerPay("https://www.592huiyi.com/customerService.html?userId="+u+"&nickName="+$scope.qimoClientId.nickName):location.href="https://www.592huiyi.com/customerService.html"}}return ctrl.$inject=["$scope","$controller","$mainServices"],ctrl}),define("userVirtualAddressSubmitController",[],function(){function ctrl($scope,$controller,$mainServices,$stateParams,$timeout,$state,$ionicHistory){$scope.user={count:""},$scope.placeholder="";
var getInfoData={},pid=($controller("baseController",{$scope:$scope}),$stateParams.pid+""),pterm=$stateParams.pterm+"";$mainServices.postNew(domain2+"orderDetailPeople/selectProductInfo.do",{productID:pid},!0).success(function(dataJsonRet){"success"==dataJsonRet.ret?(getInfoData=dataJsonRet.data,$scope.placeholder="请输入充值的"+dataJsonRet.data.type):alert("获取商品信息失败")}),$scope.submit=function(){var account=$scope.user.count+"";return""==account?void alert("请输入"+getInfoData.type):(showVirtualSubmitTankuang(getInfoData.type,getInfoData.costPrice,account),void $("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove();var u=localStorage.getItem("uid_local"),mob=u.substring(u.indexOf("_")+1,u.indexOf(".")),bz=hex_md5(hex_md5(account+pid+pterm+mob)),dataJson={bz:bz,pid:pid,pterm:pterm,ptitle:account};$mainServices.postNew(domain2+"validate/getInsertVirtualCurrency.do",dataJson,!0).success(function(dataJsonRet){"success"==dataJsonRet.ret?$mainServices.get(domain2+"recharge/product/"+pid+"/term/"+pterm,!0).success(function(dataJson){var code=dataJson.errorCode,message=dataJson.errorMsg;alert(message),"00"==code&&setTimeout(function(){$ionicHistory.goBack()},2e3)}):alert(dataJsonRet.message)})}))}}return ctrl.$inject=["$scope","$controller","$mainServices","$stateParams","$timeout","$state","$ionicHistory"],ctrl}),define("giftController",[],function(){function ctrl($scope,$controller,$mainServices,$ionicScrollDelegate,$rootScope,$ionicTabsDelegate){$scope.tab=[{tabClass:"cur",isShow:!0},{tabClass:"",isShow:!1},{tabClass:"",isShow:!1}],$scope.canLoadRecordUse={code:!1,nowPageMore:0},$scope.canLoadRecordDisuse={code:!1,nowPageMore:0},$scope.canLoadRecordOverdue={code:!1,nowPageMore:0},$scope.useRecords=[],$scope.disuseRecords=[],$scope.overdueRecords=[];var u=($controller("baseController",{$scope:$scope}),localStorage.getItem("uid_local"));return $scope.returnIndex=function(){$rootScope.hideTabs="",$ionicTabsDelegate.select(1)},$scope.tabAc=function(t){0==t?($scope.tab=[{tabClass:"cur",isShow:!0},{tabClass:"",isShow:!1},{tabClass:"",isShow:!1}],0==$scope.useRecords.length&&$scope.recordUseLoad()):1==t?($scope.tab=[{tabClass:"",isShow:!1},{tabClass:"cur",isShow:!0},{tabClass:"",isShow:!1}],0==$scope.disuseRecords.length&&$scope.recordDisuseLoad()):2==t&&($scope.tab=[{tabClass:"",isShow:!1},{tabClass:"",isShow:!1},{tabClass:"cur",isShow:!0}],0==$scope.overdueRecords.length&&$scope.recordOverdueLoad())},$scope.seeRule=function(event){event=event.toElement;var obj=angular.element(event).parent();obj.hasClass("show-more")?(obj.removeClass("show-more"),obj.parent().parent().next(".tb-bottom").hide()):(obj.addClass("show-more"),obj.parent().parent().next(".tb-bottom").show())},$scope.buyProduct=function(){skip("#/product/productlist")},$scope.dealTime=function(time){var date=new Date(time),year=date.getFullYear(),mon=date.getMonth()+1+"";1==mon.length&&(mon="0"+mon);var day=date.getDate()+"";return 1==day.length&&(day="0"+day),year+"."+mon+"."+day},$scope.recordUseLoad=function(par){var isShow=!1,nowPageMore=$scope.canLoadRecordUse.nowPageMore;"first"==par&&(isShow=!0),"more"!=par?(nowPageMore=1,$scope.myText=""):nowPageMore++;var url=domain2+"vouchers/checkVouchersInfo.do",dataJson={user:{userID:u,sh:1},page:{currentPage:nowPageMore,pageNumber:10}};$mainServices.postNew(url,dataJson,isShow).success(function(JSONObjRet){if("success"==JSONObjRet.ret){var pageCount=JSONObjRet.page.totalPage,showPage=JSONObjRet.page.currentPage;$scope.canLoadRecordUse.nowPageMore=showPage;var JSON_list=JSONObjRet.obtainRecords;if(JSONObjRet.page.totalNumber<=0&&($scope.canLoadRecordUse.code=!1),null!=JSON_list&&JSON_list.length>0)for(var i=0;i<JSON_list.length;i++){var money=JSON_list[i].money,limitMoney=JSON_list[i].limitMoney,explain=JSON_list[i].explain;if(limitMoney>0)var moneyLimitFlag=!0;else var moneyLimitFlag=!1;var catalogueName=JSON_list[i].catalogueName,typesName=JSON_list[i].typesName,startTime=JSON_list[i].startTime;startTime=$scope.dealTime(startTime);var finishTime=JSON_list[i].finishTime;finishTime=$scope.dealTime(finishTime),$scope.useRecords.push({money:money,limitMoney:limitMoney,moneyLimitFlag:moneyLimitFlag,catalogueName:catalogueName,typesName:typesName,startTime:startTime,finishTime:finishTime,explain:explain})}$ionicScrollDelegate.resize(),$scope.canLoadRecordUse.code=showPage>=pageCount||JSONObjRet.page.totalNumber<=0?!1:!0,"more"==par&&$scope.$broadcast("scroll.infiniteScrollComplete")}else alert(JSONObjRet.message)})},$scope.recordDisuseLoad=function(par){var isShow=!1,nowPageMore=$scope.canLoadRecordDisuse.nowPageMore;"first"==par&&(isShow=!0),"more"!=par?(nowPageMore=1,$scope.myText=""):nowPageMore++;var url=domain2+"vouchers/checkVouchersInfo.do",dataJson={user:{userID:u,sh:2},page:{currentPage:nowPageMore,pageNumber:10}};$mainServices.postNew(url,dataJson,isShow).success(function(JSONObjRet){if("success"==JSONObjRet.ret){var pageCount=JSONObjRet.page.totalPage,showPage=JSONObjRet.page.currentPage;$scope.canLoadRecordDisuse.nowPageMore=showPage;var JSON_list=JSONObjRet.obtainRecords;if(JSONObjRet.page.totalNumber<=0&&($scope.canLoadRecordDisuse.code=!1),null!=JSON_list&&JSON_list.length>0)for(var i=0;i<JSON_list.length;i++){var money=JSON_list[i].money,limitMoney=JSON_list[i].limitMoney,explain=JSON_list[i].explain;if(limitMoney>0)var moneyLimitFlag=!0;else var moneyLimitFlag=!1;var catalogueName=JSON_list[i].catalogueName,typesName=JSON_list[i].typesName,startTime=JSON_list[i].startTime;startTime=$scope.dealTime(startTime);var finishTime=JSON_list[i].finishTime;finishTime=$scope.dealTime(finishTime),$scope.disuseRecords.push({money:money,limitMoney:limitMoney,moneyLimitFlag:moneyLimitFlag,catalogueName:catalogueName,typesName:typesName,startTime:startTime,finishTime:finishTime,explain:explain})}$ionicScrollDelegate.resize(),$scope.canLoadRecordDisuse.code=showPage>=pageCount||JSONObjRet.page.totalNumber<=0?!1:!0,"more"==par&&$scope.$broadcast("scroll.infiniteScrollComplete")}else alert(JSONObjRet.message)})},$scope.recordOverdueLoad=function(par){var isShow=!1,nowPageMore=$scope.canLoadRecordOverdue.nowPageMore;"first"==par&&(isShow=!0),"more"!=par?(nowPageMore=1,$scope.myText=""):nowPageMore++;var url=domain2+"vouchers/checkVouchersInfo.do",dataJson={user:{userID:u,sh:3},page:{currentPage:nowPageMore,pageNumber:10}};$mainServices.postNew(url,dataJson,isShow).success(function(JSONObjRet){if("success"==JSONObjRet.ret){var pageCount=JSONObjRet.page.totalPage,showPage=JSONObjRet.page.currentPage;$scope.canLoadRecordOverdue.nowPageMore=showPage;var JSON_list=JSONObjRet.obtainRecords;if(JSONObjRet.page.totalNumber<=0&&($scope.canLoadRecordOverdue.code=!1),null!=JSON_list&&JSON_list.length>0)for(var i=0;i<JSON_list.length;i++){var money=JSON_list[i].money,limitMoney=JSON_list[i].limitMoney,explain=JSON_list[i].explain;if(limitMoney>0)var moneyLimitFlag=!0;else var moneyLimitFlag=!1;var catalogueName=JSON_list[i].catalogueName,typesName=JSON_list[i].typesName,startTime=JSON_list[i].startTime;startTime=$scope.dealTime(startTime);var finishTime=JSON_list[i].finishTime;finishTime=$scope.dealTime(finishTime),$scope.overdueRecords.push({money:money,limitMoney:limitMoney,moneyLimitFlag:moneyLimitFlag,catalogueName:catalogueName,typesName:typesName,startTime:startTime,finishTime:finishTime,explain:explain})}$ionicScrollDelegate.resize(),$scope.canLoadRecordOverdue.code=showPage>=pageCount||JSONObjRet.page.totalNumber<=0?!1:!0,"more"==par&&$scope.$broadcast("scroll.infiniteScrollComplete")}else alert(JSONObjRet.message)})},null==u||""==u||"undefined"==typeof u?void alert("请先登录。"):($scope.recordUseLoad("first"),$scope.useLoadMore=function(){$scope.recordUseLoad("more")},$scope.disuseLoadMore=function(){$scope.recordDisuseLoad("more")},void($scope.overdueLoadMore=function(){$scope.recordOverdueLoad("more")}))}return ctrl.$inject=["$scope","$controller","$mainServices","$ionicScrollDelegate","$rootScope","$ionicTabsDelegate"],ctrl}),define("mySetingSecretController",[],function(){function ctrl($scope,$controller,$mainServices,$timeout,$ionicHistory){$scope.user={zyygjl:"",zyhdsp:"",zysd:""},$scope.record=["","",""],$scope.goods=["","",""],$scope.orderdetail=["","",""];var u=($controller("baseController",{$scope:$scope}),localStorage.getItem("uid_local"));$mainServices.postNew(domain2+"user/userAuthority.do",{userID:u,zyygjl:"",zyhdsp:"",zysd:"",reserve:1},!0).success(function(subRetJson){"success"==subRetJson.ret?($scope.record[parseInt(subRetJson.user.zyygjl)]="cur",$scope.goods[parseInt(subRetJson.user.zyhdsp)]="cur",$scope.orderdetail[parseInt(subRetJson.user.zysd)]="cur",$scope.user={zyygjl:subRetJson.user.zyygjl,zyhdsp:subRetJson.user.zyhdsp,zysd:subRetJson.user.zysd}):alert($scope.message)}),$scope.exchange=function(num,obj){"undefined"!=typeof obj&&(obj=obj.toElement);var index=$(obj).parent().find("div").index($(obj));1==num?($scope.user.zyygjl=$(obj).attr("data-val"),$scope.record=["","",""],$scope.record[index]="cur"):2==num?($scope.user.zyhdsp=$(obj).attr("data-val"),$scope.goods=["","",""],$scope.goods[index]="cur"):3==num&&($scope.user.zysd=$(obj).attr("data-val"),$scope.orderdetail=["","",""],$scope.orderdetail[index]="cur")},$scope.setSecret=function(){$mainServices.postNew(domain2+"user/userAuthority.do",{userID:u,zyygjl:$scope.user.zyygjl,zyhdsp:$scope.user.zyhdsp,zysd:$scope.user.zysd,reserve:2},!0).success(function(subRetJson){alert(subRetJson.message),$timeout(function(){$ionicHistory.goBack()},1500)})}}return ctrl.$inject=["$scope","$controller","$mainServices","$timeout","$ionicHistory"],ctrl}),define("integralDetailsController",[],function(){function ctrl($scope,$controller,$mainServices,$rootScope,$ionicTabsDelegate,$timeout,$ionicScrollDelegate){$scope.canLoadRecordIntegral={code:!1,nowPageMore:0},$scope.integralRecords=[],$scope.getUser={integral:"0"};var u=($controller("baseController",{$scope:$scope}),localStorage.getItem("uid_local"));if(null==u||""==u||"undefined"==typeof u)return void alert("请先登录。");var url=basePath+"getUser.jsp",dataJson={u:u,t:4};$mainServices.post(url,dataJson,!0).success(function(JSON_list){$scope.getUser.integral=JSON_list[0].integral}),$scope.recordIntegralLoad=function(){var url=domain2+"accountDetail/selectIntegral.do";$scope.canLoadRecordIntegral.nowPageMore++;var dataJson={user:{userID:u},page:{currentPage:$scope.canLoadRecordIntegral.nowPageMore,pageNumber:15}};$mainServices.postNew(url,dataJson,!1).success(function(JSONObj){if("success"==JSONObj.ret){var pageCount=JSONObj.data.page.totalPage,JSON_list=JSONObj.data.serviceData;if(null!=JSON_list&&JSON_list.length>0){for(var i=0;i<JSON_list.length;i++){var remark=JSON_list[i].remark,intime=JSON_list[i].intime;intime=$mainServices.getTimeNo_0(intime);var sum=JSON_list[i].sum,status=JSON_list[i].status;sum=1==status?'<span style="color:#00a800;">+'+sum+"</span>":'<span style="color:#f00;">-'+sum+"</span>",$scope.integralRecords.push({intime:intime,remark:remark,sum:sum})}$ionicScrollDelegate.resize(),$scope.canLoadRecordIntegral.code=pageCount<=$scope.canLoadRecordIntegral.nowPageMore?!1:!0,$scope.$broadcast("scroll.infiniteScrollComplete")}}else alert("请求失败，请重新刷新页面")})},$scope.recordIntegralLoad()}return ctrl.$inject=["$scope","$controller","$mainServices","$rootScope","$ionicTabsDelegate","$timeout","$ionicScrollDelegate"],ctrl}),define("imageTextController",[],function(){function ctrl($scope,$controller,$mainServices,$stateParams){$scope.proDetail="";var pid=$stateParams.pid,url=($controller("baseController",{$scope:$scope}),basePath+"getProduct_detail_v1.jsp"),dataJson={pid:pid,pterm:""};$mainServices.post(url,dataJson,!0).success(function(jsonObj){if(null!=jsonObj){var proInfo=jsonObj.proInfo,content=proInfo.content;$scope.proDetail=content}})}return ctrl.$inject=["$scope","$controller","$mainServices","$stateParams"],ctrl}),define("proBuyDetailController",[],function(){function ctrl($scope,$controller,$mainServices,$stateParams,$ionicScrollDelegate){$scope.buyRecords=[];var pid=$stateParams.pid,pterm=$stateParams.pterm;$scope.recordDataJson={pid:pid,pterm:pterm,toPage:0};$controller("baseController",{$scope:$scope});$scope.canLoadRecord=!1,$scope.recordTermLoad=function(t){var isHide=!1;"first"==t&&(isHide=!0);var url=basePath+"getProductBuyRecord.jsp";$scope.recordDataJson.toPage++,$mainServices.post(url,$scope.recordDataJson,isHide).success(function(JSONObj){var JSON_list4=JSONObj.buyRlist,pageCount=JSONObj.pageCount;if(null!=JSON_list4&&JSON_list4.length>0){for(var i=0;i<JSON_list4.length;i++){var uid_buy=JSON_list4[i].uid,num_buy=JSON_list4[i].num,intime_buy=JSON_list4[i].intime,headpic_buy=JSON_list4[i].headpic,nickname_buy=JSON_list4[i].nickname;""==nickname_buy&&(nickname_buy=JSON_list4[i].username),headpic_buy=$mainServices.getHttpOrlocalHeadPic(headpic_buy),$scope.buyRecords.push({url:"#/"+$scope.host+"/userIndex/"+uid_buy,headpic_buy:headpic_buy,nickname_buy:nickname_buy,num_buy:num_buy,intime_buy:intime_buy})}$ionicScrollDelegate.resize(),$scope.canLoadRecord=pageCount<=$scope.recordDataJson.toPage?!1:!0,"more"==t?$scope.$broadcast("scroll.infiniteScrollComplete"):"refresh"==t&&$scope.$broadcast("scroll.refreshComplete")}})},$scope.recordTermLoad("first"),$scope.loadMore=function(){$scope.recordTermLoad("more")},$scope.doRefresh=function(){$scope.recordDataJson.toPage=0,$scope.buyRecords=[],$scope.recordTermLoad("refresh")}}return ctrl.$inject=["$scope","$controller","$mainServices","$stateParams","$ionicScrollDelegate","$timeout"],ctrl}),define("winGoodsController",[],function(){function ctrl($scope,$controller,$mainServices,$ionicScrollDelegate,$ionicPopup,$timeout,$stateParams){$scope.isbuyRecordShow=!0,$scope.myText="",$scope.shareArr=[],$scope.isLuckDrawShow=!0,$scope.myActText="",$scope.shareLuckArr=[],$scope.tab=[{tabClass:"czmx",isShow:!0},{tabClass:"",isShow:!1}],$scope.canLoadRecordBuy={code:!1,nowPageMore:0},$scope.canLoadRecordAct={code:!1,nowPageMore:0};var gIndex,hd=($controller("baseController",{$scope:$scope}),$stateParams.hd+""),u=localStorage.getItem("uid_local"),winGoodsType=localStorage.getItem("winGoodsType");null==winGoodsType&&(localStorage.setItem("winGoodsType",hd),winGoodsType=hd),window.shareCallBackFn=function(){showTankuangOneBtn("分享成功！"),$("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove()})},$scope.tabAc=function(t){0==t?($scope.tab=[{tabClass:"czmx",isShow:!0},{tabClass:"",isShow:!1}],localStorage.setItem("winGoodsType",1),$scope.canLoadRecordBuy.code=!1,$scope.getBuyRecord()):1==t&&($scope.tab=[{tabClass:"",isShow:!1},{tabClass:"czmx",isShow:!0}],localStorage.setItem("winGoodsType",2),$scope.canLoadRecordAct.code=!1,$scope.getDrawRecord())},$scope.setAdd=function(pid,pterm,source){skip("1"==source||1==source?"#/"+$scope.host+"/userVirtualAddrSubmit/"+pid+"/"+pterm:"#/"+$scope.host+"/userAddressSel/"+pid+"/"+pterm)},$scope.setHuigou=function(pid,pterm,radid){showTankuang("确认转让吗，操作后不可更改。"),$("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove();var u=localStorage.getItem("uid_local"),url=basePath+"setHuigou.jsp",dataJson={pid:pid,pterm:pterm,u:u,platform:2};$mainServices.post(url,dataJson,!0).success(function(JSONObjRet){var code=JSONObjRet.code,message=JSONObjRet.message;alert(message),200==code&&$("#"+radid).find("a:lt(2)").remove()})})},$scope.setShaidan=function(pid,pterm){skip("#/"+$scope.host+"/shaidan?pid="+pid+"&pterm="+pterm)},$scope.seeLogistics=function(pid,pterm){skip("#/"+$scope.host+"/logistics/"+pid+"/"+pterm)},$scope.setShouhuo=function(pid,pterm,radid){showTankuang("确认收货吗，操作后不可更改。"),$("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove();var u=localStorage.getItem("uid_local"),url=basePath+"setShouhuo.jsp",dataJson={pid:pid,pterm:pterm,u:u,platform:2};$mainServices.post(url,dataJson,!0).success(function(JSONObjRet){var code=JSONObjRet.code,message=JSONObjRet.message;alert(message),200==code&&$("#"+radid).find("a").eq(0).remove()})})},$scope.share=function(index){var myPopup=$ionicPopup.show({templateUrl:"templates/mine/shareGoodsTemplate.html",scope:$scope,title:"分享给好友",buttons:[{text:"关闭"}]});myPopup.then(function(){}),$scope.WeixinAppShare=function(type){gIndex=index,$mainServices.goodsWeixinShare(type,JSON.stringify($scope.shareArr[index])),$timeout(function(){myPopup.close()},1e3)}},$scope.setAddAct=function(id,source){skip("1"==source||1==source?"#/"+$scope.host+"/userVirtualAddrActSubmit/"+id:"#/"+$scope.host+"/userAddressActSel/"+id)},$scope.setHuigouAct=function(id,radid){showTankuang("确认转让吗，操作后不可更改。"),$("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove();var u=localStorage.getItem("uid_local"),url=domain2+"draw/drawWinnerGoodsAssignment.do",dataJson={id:id,winnerid:u,platform:1};$mainServices.postNew(url,dataJson,!0).success(function(JSONObjRet){var message=JSONObjRet.message;alert(message),"success"==JSONObjRet.ret&&$("#"+radid).find("a:lt(2)").remove()})})},$scope.setShaidanAct=function(id){skip("#/"+$scope.host+"/shaidanAct/"+id)},$scope.seeLogisticsAct=function(id){skip("#/"+$scope.host+"/logisticsAct/"+id)},$scope.setShouhuoAct=function(id,radid){showTankuang("确认收货吗，操作后不可更改。"),$("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove();var u=localStorage.getItem("uid_local"),url=domain2+"draw/confirmReceipt.do",dataJson={id:id,winnerid:u,platform:1};$mainServices.postNew(url,dataJson,!0).success(function(JSONObjRet){var message=JSONObjRet.message;alert(message),"success"==JSONObjRet.ret&&$("#"+radid).find("a").eq(0).remove()})})},$scope.shareAct=function(index){var myPopup=$ionicPopup.show({templateUrl:"templates/mine/shareGoodsTemplate.html",scope:$scope,title:"分享给好友",buttons:[{text:"关闭"}]});myPopup.then(function(){}),$scope.WeixinAppShare=function(type){gIndex=index,$mainServices.goodsActWeixinShare(type,JSON.stringify($scope.shareLuckArr[index])),$timeout(function(){myPopup.close()},1e3)}},$scope.getBuyRecord=function(more){var nowPageMore=$scope.canLoadRecordBuy.nowPageMore;"more"!=more?(nowPageMore=1,$scope.myText=""):nowPageMore++;var isHide=!1;"first"==more&&(isHide=!0);var url=basePath+"buyRecord.jsp",dataJson={toPage:nowPageMore,u:u,hd:hd};$mainServices.post(url,dataJson,isHide).success(function(JSONObjRet){var JSON_list=JSONObjRet.odlist,pageCount=parseInt(JSONObjRet.pageCount),recount=parseInt(JSONObjRet.recount),showPage=parseInt(JSONObjRet.showPage);$scope.canLoadRecordBuy.nowPageMore=showPage;var num=0;if(0>=recount?($scope.isbuyRecordShow=!1,$scope.canLoadRecordBuy.code=!1):$scope.isbuyRecordShow=!0,JSON_list.length>0)for(var i=0;i<JSON_list.length;i++){var pid=JSON_list[i].pid,pterm=JSON_list[i].pterm,renci=JSON_list[i].renci,publictime=JSON_list[i].publictime,nickname_huodezhe=(JSON_list[i].winnerid,JSON_list[i].winnernickname),winnerusername=JSON_list[i].winnerusername;""==nickname_huodezhe&&(nickname_huodezhe=$mainServices.substringPhone(winnerusername));var total_time=(JSON_list[i].now_term,JSON_list[i].total_time),finish_time=JSON_list[i].finish_time,ptitle=JSON_list[i].ptitle,price=JSON_list[i].price,pic=JSON_list[i].pic;pic=$mainServices.getHttpOrlocalProPic(pic);var shengyu_time=parseInt(total_time)-parseInt(finish_time),baifenbi=parseFloat(finish_time/total_time);baifenbi=100*baifenbi.toFixed(2)+"%";var totitle=ptitle;ptitle="(第"+pterm+"期)"+$mainServices.subStringTitle(ptitle,20);var iswinnerid=JSON_list[i].iswinnerid;if(null!=publictime&&""!=publictime){var publicParse=new Date(Date.parse($mainServices.getTimeNo_0(publictime).replace(/-/g,"/"))),pubTime=Date.UTC(publicParse.getFullYear(),publicParse.getMonth(),publicParse.getDate(),publicParse.getHours(),publicParse.getMinutes(),publicParse.getSeconds())-288e5,nowTime=JSONObjRet.presentTime;if(pubTime>nowTime){var tmp2='<div class="borderbottom1 shadowless pad0  disable-user-behavior"> <a href="javascript:skip(\'#/'+$scope.host+"/buyRecordDetail/"+pid+"/"+pterm+'\')"><div class="gmjl"><div style="float:left;position:relative"> <img class="imgwh" src="'+pic+'" /><p style="left:0;bottom:0;border-radius:0 0 5px 5px"  class="yjx">正在揭晓</p></div><div class="gmjl_jt"><p class="orange1"><em class="fontsize16 ng-binding xbt">'+ptitle+'</em></p><div class="pRate"><div class="Progress-bar" id="29422"><p class="jz">价值：￥'+price+'</p><p style="margin-bottom: 0;line-height:20px;color:#9b9b9b;">您已参与：<em class="ng-binding">'+renci+'人次</em></p><p class="u-progress"><span class="pgbar" style="width:100%;"><span class="pging"></span></span></p><ul class="Pro-bar-li"><li class="P-bar01"><em>'+total_time+'</em>已参与</li><li class="P-bar02"><em>'+total_time+'</em>总需人次</li><li class="P-bar03"><em>0</em>剩余</li></ul></div><a class="add " codeid="29422" href="javascript:;"><s></s></a></div></div></div></a> </div>';if("1"==hd)continue;$scope.myText+=tmp2}else{var luckynumber=JSON_list[i].luckynumber,tmp3='<div class="borderbottom1 shadowless pad0  disable-user-behavior"> <a href="javascript:skip(\'#/'+$scope.host+"/buyRecordDetail/"+pid+"/"+pterm+'\')"><div class="gmjl"><div style="float:left;position:relative"> <img class="imgwh" src="'+pic+'" /><p style="left:0;bottom:0;border-radius:0 0 5px 5px"  class="yjx">已揭晓</p></div><div class="gmjl_jt"><p class="orange1"><em class="fontsize16 ng-binding xbt">'+ptitle+'</em></p><div style="color:#666666; font-size:12px;"><p style="margin-bottom: 0;line-height:20px">您已参与：<em class="ng-binding">'+renci+'人次</em></p><p style="margin-bottom: 0;line-height:20px">获得者：<em class="ng-binding hdz">'+nickname_huodezhe+'</em></p><p style="margin-bottom: 0;line-height:20px">幸运元行码：<em class="ng-binding hdz">'+luckynumber+'</em></p><p style="margin-bottom: 0;line-height:20px">揭晓时间：<em class="ng-binding">'+$mainServices.getTimeNo_0(publictime)+"</em></p></div></div></div></a>";if("1"==iswinnerid){var ostatus=JSON_list[i].ostatus,addressstatus=JSON_list[i].addressstatus,share_status=JSON_list[i].share_status,logisticsStatus=JSON_list[i].logisticsStatus,source=JSON_list[i].source;$scope.shareArr.push({pid:pid,pterm:pterm,u:u,num:renci,pname:totitle,pic:pic});var ranid="win_"+pid+"_"+pterm+"_"+parseInt(100*Math.random()),linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setAdd('+pid+","+pterm+","+source+')">确认发货</a><a ng-click="setHuigou('+pid+","+pterm+",'"+ranid+'\')">转让</a><a ng-click="setShaidan('+pid+","+pterm+')">去晒单</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>';"1"==share_status&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setAdd('+pid+","+pterm+","+source+')">确认发货</a><a ng-click="setHuigou('+pid+","+pterm+",'"+ranid+'\')">转让</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>'),"3"==ostatus&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShaidan('+pid+","+pterm+')">去晒单</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>',"1"==share_status&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>')),"1"==addressstatus&&("1"==ostatus&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShaidan('+pid+","+pterm+')">去晒单</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>',"1"==share_status&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>')),"2"==ostatus&&("0"==logisticsStatus?(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShouhuo('+pid+","+pterm+",'"+ranid+'\')">确认收货</a><a ng-click="setShaidan('+pid+","+pterm+')">去晒单</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>',"1"==share_status&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShouhuo('+pid+","+pterm+",'"+ranid+'\')">确认收货</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>')):(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShouhuo('+pid+","+pterm+",'"+ranid+'\')">确认收货</a><a ng-click="setShaidan('+pid+","+pterm+')">去晒单</a><a ng-click="seeLogistics('+pid+","+pterm+')">查看物流</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>',"1"==share_status&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShouhuo('+pid+","+pterm+",'"+ranid+'\')">确认收货</a><a ng-click="seeLogistics('+pid+","+pterm+')">查看物流</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>'))),"4"==ostatus&&("0"==logisticsStatus?(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShaidan('+pid+","+pterm+')">去晒单</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>',"1"==share_status&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>')):(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShaidan('+pid+","+pterm+')">去晒单</a><a ng-click="seeLogistics('+pid+","+pterm+')">查看物流</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>',"1"==share_status&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="seeLogistics('+pid+","+pterm+')">查看物流</a><a ng-click="share('+($scope.shareArr.length-1)+')">分享</a></div>')))),tmp3+=linkStr}tmp3+=" </div>",$scope.myText+=tmp3}}else{var tmp1='<div class="borderbottom1 shadowless pad0  disable-user-behavior"> <a href="javascript:skip(\'#/'+$scope.host+"/buyRecordDetail/"+pid+"/"+pterm+'\')"><div class="gmjl"><div style="float:left;position:relative"> <img class="imgwh" src="'+pic+'" /><p style="left:0;bottom:0;border-radius:0 0 5px 5px" class="yjx">未揭晓</p></div><div class="gmjl_jt"><p class="orange1"><em class="fontsize16 ng-binding xbt">'+ptitle+'</em></p><div class="pRate"><div class="Progress-bar" id="29422"><p class="jz">价值：￥'+price+'</p><p style="margin-bottom: 0;line-height:20px;color:#9b9b9b;">您已参与：<em class="ng-binding">'+renci+'人次</em></p><p class="u-progress"><span class="pgbar" style="width:'+baifenbi+';"><span class="pging"></span></span></p><ul class="Pro-bar-li"><li class="P-bar01"><em>'+finish_time+'</em>已参与</li><li class="P-bar02"><em>'+total_time+'</em>总需人次</li><li class="P-bar03"><em>'+shengyu_time+'</em>剩余</li></ul></div><a class="add " codeid="29422" href="javascript:;"><s></s></a></div></div></div></a> </div>';if("1"==hd)continue;$scope.myText+=tmp1}num++}$ionicScrollDelegate.resize(),$scope.canLoadRecordBuy.code=showPage>=pageCount||0>=recount?!1:!0,"more"==more&&$scope.$broadcast("scroll.infiniteScrollComplete")})},$scope.getDrawRecord=function(t){var nowPageMore=$scope.canLoadRecordAct.nowPageMore;"more"!=t?(nowPageMore=1,$scope.myActText=""):nowPageMore++;var isHide=!1;"first"==t&&(isHide=!0);var url=domain2+"draw/checkDrawWinnerRecord.do",dataJson={user:{userID:u,platform:1},page:{currentPage:nowPageMore,pageNumber:10}};$mainServices.postNew(url,dataJson,isHide).success(function(JSONObj){if("success"==JSONObj.ret){var pageCount=JSONObj.page.totalPage,showPage=JSONObj.page.currentPage;$scope.canLoadRecordAct.nowPageMore=showPage;var JSON_list=JSONObj.drawWinnerRecord;if(JSONObj.page.totalNumber<=0?($scope.isLuckDrawShow=!1,$scope.canLoadRecordAct.code=!1):$scope.isLuckDrawShow=!0,null!=JSON_list&&JSON_list.length>0)for(var i=0;i<JSON_list.length;i++){var ptitle=JSON_list[i].ptitle,totitle=ptitle;ptitle=$mainServices.subStringTitle(ptitle,40);var pic=JSON_list[i].pic,id=JSON_list[i].id,intime=JSON_list[i].intime;pic=$mainServices.getHttpOrlocalProPic(pic);{var ostatus=JSON_list[i].status,addressstatus=JSON_list[i].aid,ptype=JSON_list[i].type,share_status=JSON_list[i].shareStatus,logisticsStatus="0",courierNumber=JSON_list[i].courierNumber,source=0,laiyuan=JSON_list[i].laiyuan;JSON_list[i].costprice}null!=courierNumber&&"2"==ostatus&&("苏宁"==laiyuan&&-1==courierNumber.indexOf("sd")?logisticsStatus="1":-1!=courierNumber.indexOf("sd")&&(logisticsStatus="1")),$scope.shareLuckArr.push({id:id,u:u,pname:totitle,pic:pic});var tmp3='<div class="borderbottom1 shadowless pad0  disable-user-behavior"> <a href="javascript:skip(\'#/'+$scope.host+"/winGoodsDetail/"+id+'\')"><div class="gmjl"><div style="float:left;position:relative"> <img class="imgwh" src="'+pic+'" /></div><div class="gmjl_jt"><p class="orange1"><em class="fontsize16 ng-binding xbt">'+ptitle+'</em></p><div style="color:#666666; font-size:12px;"><p style="margin-bottom: 0;line-height:20px">获得时间：<em>'+$mainServices.getTimeNo_0(intime)+'</em></p><p style="margin-bottom: 0;line-height:20px">获得途径：<em style="color:#de0000">'+ptype+"</em></p></div></div></div></a>",ranid="winAct_"+id+"_"+parseInt(100*Math.random()),linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setAddAct('+id+","+source+')">确认发货</a><a ng-click="setHuigouAct('+id+",'"+ranid+'\')">转让</a><a ng-click="setShaidanAct('+id+')">去晒单</a><a ng-click="shareAct('+($scope.shareLuckArr.length-1)+')">分享</a></div>';"1"==share_status&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setAddAct('+id+","+source+')">确认发货</a><a ng-click="setHuigouAct('+id+",'"+ranid+'\')">转让</a><a ng-click="shareAct('+($scope.shareLuckArr.length-1)+')">分享</a></div>'),"3"==ostatus&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShaidanAct('+id+')">去晒单</a><a ng-click="shareAct('+($scope.shareLuckArr.length-1)+')">分享</a></div>',"1"==share_status&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="shareAct('+($scope.shareLuckArr.length-1)+')">分享</a></div>')),null!=addressstatus&&"0"!=addressstatus&&("1"==ostatus&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShaidanAct('+id+')">去晒单</a><a ng-click="shareAct('+($scope.shareLuckArr.length-1)+')">分享</a></div>',"1"==share_status&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="shareAct('+($scope.shareLuckArr.length-1)+')">分享</a></div>')),"2"==ostatus&&("0"==logisticsStatus?(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShouhuoAct('+id+",'"+ranid+'\')">确认收货</a><a ng-click="setShaidanAct('+id+')">去晒单</a><a ng-click="shareAct('+($scope.shareLuckArr.length-1)+')">分享</a></div>',"1"==share_status&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShouhuoAct('+id+",'"+ranid+'\')">确认收货</a><a ng-click="shareAct('+($scope.shareLuckArr.length-1)+')">分享</a></div>')):(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShouhuoAct('+id+",'"+ranid+'\')">确认收货</a><a ng-click="setShaidanAct('+id+')">去晒单</a><a ng-click="seeLogisticsAct('+id+')">查看物流</a><a ng-click="shareAct('+($scope.shareLuckArr.length-1)+')">分享</a></div>',"1"==share_status&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShouhuoAct('+id+",'"+ranid+'\')">确认收货</a><a ng-click="seeLogisticsAct('+id+')">查看物流</a><a ng-click="shareAct('+($scope.shareLuckArr.length-1)+')">分享</a></div>'))),"4"==ostatus&&("0"==logisticsStatus?(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShaidanAct('+id+')">去晒单</a><a ng-click="shareAct('+($scope.shareLuckArr.length-1)+')">分享</a></div>',"1"==share_status&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="shareAct('+($scope.shareLuckArr.length-1)+')">分享</a></div>')):(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="setShaidanAct('+id+')">去晒单</a><a ng-click="seeLogisticsAct('+id+')">查看物流</a><a ng-click="shareAct('+($scope.shareLuckArr.length-1)+')">分享</a></div>',"1"==share_status&&(linkStr="<div id="+ranid+' class="clearfix link-box"><a ng-click="seeLogisticsAct('+id+')">查看物流</a><a ng-click="shareAct('+($scope.shareLuckArr.length-1)+')">分享</a></div>')))),tmp3+=linkStr,tmp3+=" </div>",$scope.myActText+=tmp3}$ionicScrollDelegate.resize(),$scope.canLoadRecordAct.code=showPage>=pageCount||JSONObj.page.totalNumber<=0?!1:!0,"more"==t&&$scope.$broadcast("scroll.infiniteScrollComplete")}else alert(JSONObj.message)})},"1"==winGoodsType?($scope.tab=[{tabClass:"czmx",isShow:!0},{tabClass:"",isShow:!1}],$scope.getBuyRecord("first")):($scope.tab=[{tabClass:"",isShow:!1},{tabClass:"czmx",isShow:!0}],$scope.getDrawRecord("first")),$scope.loadBuyMore=function(){$scope.getBuyRecord("more")
},$scope.loadLuckMore=function(){$scope.getDrawRecord("more")}}return ctrl.$inject=["$scope","$controller","$mainServices","$ionicScrollDelegate","$ionicPopup","$timeout","$stateParams"],ctrl}),define("luckDrawController",[],function(){function ctrl($scope,$controller,$mainServices,$timeout){$scope.drawInfo={hasBeenUsedCount:0,unusedCount:0,alreadyConsumed:0,stillNeedSthConsumption:0,imgurl:""},$scope.drawResult={title:"",imgurl:""},$scope.luckRule="",$scope.isShowResult=!1;var timer,rotateFlag=($controller("baseController",{$scope:$scope}),!1),u=localStorage.getItem("uid_local");$mainServices.postNew(domain2+"draw/checkDrawCompute.do",{userID:u,platform:1},!0).success(function(JSONObjRet){if("success"==JSONObjRet.ret){$scope.luckRule=JSONObjRet.description,$scope.drawInfo.imgurl=JSONObjRet.picUrl,$scope.drawInfo.hasBeenUsedCount=JSONObjRet.hasBeenUsedCount,$scope.drawInfo.unusedCount=JSONObjRet.unusedCount,$scope.drawInfo.alreadyConsumed=JSONObjRet.drawCompute.alreadyConsumed,$scope.drawInfo.stillNeedSthConsumption=JSONObjRet.stillNeedSthConsumption;var slide=$("#luckLoop")[0],delta=0,speed=100,wd=$(slide).find("p").width()/2+50,rolling=function(){-wd>=delta?delta=0:delta-=2,slide.style.left=delta+"px"};timer=setInterval(rolling,speed)}else alert(JSONObjRet.message)}),$scope.rotate=function(){if(""!=$scope.luckRule){if(0==$scope.drawInfo.unusedCount)return void alert("本月剩余抽奖还剩0次");if(rotateFlag)return;rotateFlag=!0,$mainServices.postNew(domain2+"draw/drawAction.do",{userID:u,platform:1},!0).success(function(JSONObjRet){"success"==JSONObjRet.ret?($(".outer").rotate({duration:5e3,angle:0,animateTo:1440+JSONObjRet.drawGoods.angle,easing:$.easing.easeInOutQuad,callback:function(){$scope.drawInfo.hasBeenUsedCount++,$scope.drawInfo.unusedCount>0&&$scope.drawInfo.unusedCount--,$scope.drawResult.title=JSONObjRet.drawGoods.goodsName,$scope.drawResult.imgurl=$mainServices.getHttpOrlocalProPic(JSONObjRet.drawGoods.pic),$timeout(function(){$scope.isShowResult=!0,rotateFlag=!1;var ImgObj=new Image;ImgObj.src=$scope.drawResult.imgurl,ImgObj.onload=function(){if($scope.height-$("#dialogLuck").height()<0)$("#dialogLuck").css("margin-top","-10px");else{var mt=($scope.height-$("#dialogLuck").height())/2;$("#dialogLuck").css("margin-top",mt+"px")}}})}}),$(".bg-cont").rotate({duration:5e3,angle:0,animateTo:-(1440+JSONObjRet.drawGoods.angle),easing:$.easing.easeInOutQuad})):(alert(JSONObjRet.message),rotateFlag=!1)})}},$scope.closeDialog=function(){$scope.isShowResult=!1},$scope.$on("$destroy",function(){$scope.isShowResult=!1,clearInterval(timer)})}return ctrl.$inject=["$scope","$controller","$mainServices","$timeout","$q","$ionicScrollDelegate"],ctrl}),define("winGoodsDetailController",[],function(){function ctrl($scope,$controller,$mainServices,$stateParams,$ionicPopup,$timeout){var id=$stateParams.id;$scope.buy={buyRecordDetail:"",huigou:0,bottom:""};var u=($controller("baseController",{$scope:$scope}),localStorage.getItem("uid_local")),url=domain2+"draw/drawWinnerGoodsDetails.do",dataJson={id:id,winnerid:u,platform:1};$scope.shareObj={id:id,u:u,pname:"",pic:""},$mainServices.postNew(url,dataJson,!0).success(function(JSONObjRet){if(null!=JSONObjRet&&""!=JSONObjRet){var drawWinnerRecord=JSONObjRet.drawWinnerRecord,pid=drawWinnerRecord.pid,ptitle=drawWinnerRecord.ptitle;$scope.shareObj.pname=ptitle;var pic=drawWinnerRecord.pic,id=drawWinnerRecord.id,intime=drawWinnerRecord.intime;pic=$mainServices.getHttpOrlocalProPic(pic),$scope.shareObj.pic=pic;var ostatus=drawWinnerRecord.status,addressstatus=drawWinnerRecord.aid,ptype=drawWinnerRecord.type,share_status=drawWinnerRecord.shareStatus,logisticsStatus="0",courierNumber=drawWinnerRecord.courierNumber,source=0,laiyuan=drawWinnerRecord.laiyuan,price_huigou=(drawWinnerRecord.costprice,drawWinnerRecord.priceHuigou),now_term=drawWinnerRecord.nowTerm;null!=courierNumber&&"2"==ostatus&&("苏宁"==laiyuan&&-1==courierNumber.indexOf("sd")?logisticsStatus="1":-1!=courierNumber.indexOf("sd")&&(logisticsStatus="1"));var purl="#/"+$scope.host+"/newproductdetail?type=1&pid="+pid,buyRecordDetailhtml='<div class="item item-avatar padleft bigpadtb"><img class="imgwh" src="'+pic+'" onclick="skip(\''+purl+'\')" /><p class="orange1"><em class="fontsize16 ng-binding xbt" onclick="skip(\''+purl+"')\" >"+ptitle+'</em></p><div style="padding-bottom:5px;color:#999999"><p style="margin-bottom: 0;line-height:20px">获得时间：<em class="ng-binding">'+$mainServices.getTimeNo_0(intime)+'</em></p><p style="margin-bottom: 0;line-height:20px">获得途径：<em>'+ptype+'</em></p></div><div class="zzjx"><a href="javascript:skip(\'#/'+$scope.host+"/newproductdetail?type=1&pid="+pid+'\')" style="display:block;width:100%;height:100%;">第'+now_term+"期 正在进行</a></div></div>";if($scope.buy.buyRecordDetail=buyRecordDetailhtml,$scope.buy.huigou=price_huigou,$scope.buy.bottom='<input style="width:30%;margin-right:2.5%;" type="button" value="确认发货" class="wsdz" ng-click="setAdd('+source+')" /><input style="width:30%;margin-right:2.5%;" type="button" value="商品转让" class="sphg" ng-click="setHuigou()" /><input style="width:30%;margin-right:0%;" type="button" value="去晒单" class="wsdz" ng-click="setShaidan()" />',"1"==share_status&&($scope.buy.bottom='<input style="width:30%;margin-right:2.5%;" type="button" value="确认发货" class="wsdz" ng-click="setAdd('+source+')" /><input style="width:30%;margin-right:2.5%;" type="button" value="商品转让" class="sphg" ng-click="setHuigou()" />'),"3"==ostatus)return $scope.buy.bottom='商品已转让，<a ng-click="setShaidan();" style="color:#ff6600">去晒单</a>',void("1"==share_status&&($scope.buy.bottom="商品已转让"));if(null!=addressstatus&&"0"!=addressstatus){if("1"==ostatus)return $scope.buy.bottom='地址已完善，等待发货，<a ng-click="setShaidan();" style="color:#ff6600">去晒单</a>',void("1"==share_status&&($scope.buy.bottom="地址已完善，等待发货"));if("2"==ostatus)return void("0"==logisticsStatus?($scope.buy.bottom='已发货，<a ng-click="setShouhuo();" style="color:#ff6600">确认收货</a><a ng-click="setShaidan();" style="margin-left:10px;padding:0 5px;color:#ff6600">去晒单</a>',"1"==share_status&&($scope.buy.bottom='已发货，<a ng-click="setShouhuo();" style="color:#ff6600">确认收货</a>')):($scope.buy.bottom="已发货，<a onclick='setShouhuo();' style='color:#ff6600'>确认收货</a><a ng-click='setShaidan();' style='margin-left:10px;padding:0 5px;color:#ff6600'>去晒单</a><a href='#/"+$scope.host+"/logisticsAct/"+id+"' style='margin-left:10px;padding:0 5px;color:#ff6600'>查看物流信息</a>","1"==share_status&&($scope.buy.bottom="已发货，<a onclick='setShouhuo();' style='color:#ff6600'>确认收货</a><a href='#/"+$scope.host+"/logisticsAct/"+id+"' style='margin-left:10px;padding:0 5px;color:#ff6600'>查看物流信息</a>")));"4"==ostatus&&("0"==logisticsStatus?($scope.buy.bottom='已收货，<a ng-click="setShaidan();" style="color:#ff6600">去晒单</a>',"1"==share_status&&($scope.buy.bottom="已确认收货")):($scope.buy.bottom="已收货，<a ng-click='setShaidan();' style='color:#ff6600'>去晒单</a><a href='#/"+$scope.host+"/logisticsAct/"+id+"' style='margin-left:10px;padding:0 5px;color:#ff6600'>查看物流信息</a>","1"==share_status&&($scope.buy.bottom="已确认收货。<a href='#/"+$scope.host+"/logisticsAct/"+id+"' style='margin-left:10px;padding:0 5px;color:#ff6600'>查看物流信息</a>")))}}}),$scope.setAdd=function(source){skip("1"==source||1==source?"#/"+$scope.host+"/userVirtualAddrActSubmit/"+id:"#/"+$scope.host+"/userAddressActSel/"+id)},$scope.setHuigou=function(){showTankuang("确认转让吗，操作后不可更改。"),$("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove();var u=localStorage.getItem("uid_local"),url=domain2+"draw/drawWinnerGoodsAssignment.do",dataJson={id:id,winnerid:u,platform:1};$mainServices.postNew(url,dataJson,!0).success(function(JSONObjRet){var message=JSONObjRet.message;if(alert(message),"success"==JSONObjRet.ret){$scope.buy.bottom="商品已转让。";var share_status=JSONObjRet.share;"0"==share_status&&($scope.buy.bottom='商品已转让，<a ng-click="setShaidan();" style="color:#ff6600">去晒单</a>')}})})},$scope.setShaidan=function(){skip("#/"+$scope.host+"/shaidanAct/"+id)},$scope.setShouhuo=function(){showTankuang("确认收货吗，操作后不可更改。"),$("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove();var u=localStorage.getItem("uid_local"),url=domain2+"draw/confirmReceipt.do",dataJson={id:id,winnerid:u,platform:1};$mainServices.postNew(url,dataJson,!0).success(function(JSONObjRet){var message=JSONObjRet.message;if(alert(message),"success"==JSONObjRet.ret){$scope.buy.bottom="已确认收货";var share_status=JSONObjRet.share;"0"==share_status&&($scope.buy.bottom='已收货，<a ng-click="setShaidan();" style="color:#ff6600">去晒单</a>')}})})},$scope.share=function(){var myPopup=$ionicPopup.show({templateUrl:"templates/mine/shareGoodsTemplate.html",scope:$scope,title:"分享给好友",buttons:[{text:"关闭"}]});myPopup.then(function(){}),$scope.WeixinAppShare=function(type){$mainServices.goodsActWeixinShare(type,JSON.stringify($scope.shareObj)),$timeout(function(){myPopup.close()},1e3)}},window.shareCallBackFn=function(){showTankuangOneBtn("分享成功！"),$("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove()})}}return ctrl.$inject=["$scope","$controller","$mainServices","$stateParams","$ionicPopup","$timeout"],ctrl}),define("logisticsActController",[],function(){function ctrl($scope,$controller,$mainServices,$stateParams){$scope.expr={expressFlag:!1,express:"",expressNo:""};var id=$stateParams.id;$scope.dataList=[];var dataJson=($controller("baseController",{$scope:$scope}),{id:id});$mainServices.postNew(domain2+"draw/logistics.do",dataJson,!0).success(function(JSONObjRet){if("success"==JSONObjRet.ret){var JSON_list=JSON.parse(JSONObjRet.logistics);if("null"==JSON_list||null==JSON_list)return void $scope.dataList.push({operateTime:"",operateState:"订单已提交，请等待发货！"});if(JSON_list.length>0)for(var i=JSON_list.length-1;i>=0;i--)"null"!=JSON_list[i].operateState&&null!=JSON_list[i].operateState&&$scope.dataList.push({operateTime:JSON_list[i].operateTime,operateState:JSON_list[i].operateState}),null!=JSON_list[i].expressNo&&""!=JSON_list[i].expressNo&&($scope.expr={expressFlag:!0,express:JSON_list[i].express,expressNo:JSON_list[i].expressNo})}else alert(JSONObjRet.message)})}return ctrl.$inject=["$scope","$controller","$mainServices","$stateParams"],ctrl}),define("shaidanActController",[],function(){function ctrl($scope,$controller,$mainServices,$timeout,$ionicHistory,$stateParams){var clickFlag=($controller("baseController",{$scope:$scope}),!1);$scope.shaidanSubmit=function(){if(!clickFlag){var id=$stateParams.id;$("#sdid").val(id);var u=localStorage.getItem("uid_local");if(null!=u||""!=u||"undefined"!=typeof u){$("#sdu").val(u);var title=$("#sdtitle").val(),content=$("#sdcontent").val(),pics_length=form_pics.length;if(""==title)return void alert("请输入标题。");if(title.length>20)return void alert("标题输入过长。");if(""==content)return void alert("请输入内容。");if(content.length>100)return void alert("内容输入过长。");if(0==pics_length)return void alert("请选择图片");$mainServices.showLoading(),$("#sdbtnSub").html("提交中..."),clickFlag=!0;var url=basePath+"drawshare.jsp",formData=new FormData($("#shaidanForm")[0]);$.ajax({url:url,type:"POST",data:formData,async:!0,cache:!1,contentType:!1,processData:!1,dataType:"json",success:function(data){var jsonRet=data;if(null!=jsonRet){var code=jsonRet.code;200==code?(alert("提交成功。"),$timeout(function(){$ionicHistory.goBack(-1)},2e3)):(alert(900==code?jsonRet.message:403==code?"您的晒单正在审核中,请勿重复提交。":"提交失败，请稍后重试。"),clickFlag=!1,$("#sdbtnSub").html("提交"))}$mainServices.hideLoading(),clickFlag=!1,$("#sdbtnSub").html("提交")},error:function(){$mainServices.hideLoading(),clickFlag=!1,$("#sdbtnSub").html("提交")}})}}},$scope.$on("$destroy",function(){form_pics.length=0})}return ctrl.$inject=["$scope","$controller","$mainServices","$timeout","$ionicHistory","$stateParams"],ctrl}),define("userAddressActSelController",[],function(){function ctrl($scope,$controller,$mainServices,$stateParams,$state,$ionicHistory,$timeout){function selectAddressSel(){var u=localStorage.getItem("uid_local");if(null==u||""==u)return void alert("请先登录。");var url=basePath+"userAddress.jsp";$mainServices.post(url,{u:u},!0).success(function(JSON_list){if(JSON_list.length>0)for(var i=0;i<JSON_list.length;i++){var aid=JSON_list[i].aid,name=JSON_list[i].name,phone=JSON_list[i].mobile,sheng=JSON_list[i].provinceId,shi=JSON_list[i].cityId,qu=JSON_list[i].districtId,address=JSON_list[i].address,isdefault=JSON_list[i].isdefault,add=sheng+" "+shi+" "+qu+" "+address,tmp_def="";1==isdefault&&(gaid=aid,tmp_def="img/icon_xzdh1.png"),$scope.addressList.push({aid:aid,name:name,phone:phone,sheng:sheng,shi:shi,qu:qu,address:address,addr:add,tmp_def:tmp_def})}})}$scope.addressList=[];{var gaid;$controller("baseController",{$scope:$scope})}$scope.selectAdd=function(aid,index){gaid=aid;for(var t=0;t<$scope.addressList.length;t++)$scope.addressList[t].tmp_def=t==index?"img/icon_xzdh1.png":""},$scope.addSelQueren=function(){return""==gaid||null==gaid?void alert("请选择收货地址。"):(showTankuang("确认完善地址吗，操作后不可更改。"),void $("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove();var id=$stateParams.id,u=localStorage.getItem("uid_local"),url=domain2+"draw/confirmAddress.do",dataJson={id:id,winnerid:u,platform:1,aid:gaid};$mainServices.postNew(url,dataJson,!0).success(function(JSONObjRet){var message=JSONObjRet.message;alert(message),"success"==JSONObjRet.ret&&$timeout(function(){$ionicHistory.goBack(-1)},1e3)})}))},selectAddressSel()}return ctrl.$inject=["$scope","$controller","$mainServices","$stateParams","$state","$ionicHistory","$timeout"],ctrl}),define("userVirtualAddrActSubmitController",[],function(){function ctrl($scope,$controller,$mainServices,$stateParams,$timeout,$state,$ionicHistory){$scope.user={count:""},$scope.placeholder="";var getInfoData={},id=($controller("baseController",{$scope:$scope}),$stateParams.id+"");$mainServices.postNew(domain2+"orderDetailPeople/selectProductInfo.do",{productID:id},!0).success(function(dataJsonRet){"success"==dataJsonRet.ret?(getInfoData=dataJsonRet.data,$scope.placeholder="请输入充值的"+dataJsonRet.data.type):alert("获取商品信息失败")}),$scope.submit=function(){var account=$scope.user.count+"";return""==account?void alert("请输入"+getInfoData.type):(showVirtualSubmitTankuang(getInfoData.type,getInfoData.costPrice,account),void $("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove();var u=localStorage.getItem("uid_local"),mob=u.substring(u.indexOf("_")+1,u.indexOf(".")),bz=hex_md5(hex_md5(account+pid+pterm+mob)),dataJson={bz:bz,pid:pid,pterm:pterm,ptitle:account};$mainServices.postNew(domain2+"validate/getInsertVirtualCurrency.do",dataJson,!0).success(function(dataJsonRet){"success"==dataJsonRet.ret?$mainServices.get(domain2+"recharge/product/"+pid+"/term/"+pterm,!0).success(function(dataJson){var code=dataJson.errorCode,message=dataJson.errorMsg;alert(message),"00"==code&&setTimeout(function(){$ionicHistory.goBack(-1)},1e3)}):alert(dataJsonRet.message)})}))}}return ctrl.$inject=["$scope","$controller","$mainServices","$stateParams","$timeout","$state","$ionicHistory"],ctrl}),define("shareListController",[],function(){function ctrl($scope,$rootScope,$controller,$mainServices,$stateParams,$ionicScrollDelegate,$timeout,$ionicPopup,$ionicModal){function pl(more,id){var nowPageMore=$scope.canLoadMore.commPageMore,toPage=1;"more"==more&&(toPage=nowPageMore+1);var isHide=!1;if("first"==more)var isHide=!0;var url=basePath+"pl.jsp",dataJson={toPage:toPage,id:id};$mainServices.post(url,dataJson,isHide).success(function(JSONObjRet){if(null!=JSONObjRet&&void 0!=JSONObjRet&&""!=JSONObjRet){var JSON_list=JSONObjRet.prolist,pageCount=parseInt(JSONObjRet.pageCount),recount=parseInt(JSONObjRet.recount);if($scope.canLoadMore.commPageMore=parseInt(JSONObjRet.showPage),0>=recount&&($scope.canLoadMore.comment=!1),JSON_list.length>0)for(var i=0;i<JSON_list.length;i++){var uid=(JSON_list[i].id,JSON_list[i].uid),content=JSON_list[i].content,intime=JSON_list[i].intime;intime=intime.substring(5,16);var headpic=JSON_list[i].headpic,nickname=JSON_list[i].nickname;headpic=$mainServices.getHttpOrlocalHeadPic(headpic);var json={uid:uid,headpic:headpic,nickname:nickname,content:content,intime:intime,userUrl:"#/"+$scope.host+"/userIndex/"+uid};$scope.datas.push(json)}$scope.canLoadMore.commPageMore==pageCount||0>=recount?$scope.canLoadMore.comment=!1:($ionicScrollDelegate.resize(),$timeout(function(){$scope.canLoadMore.comment=!0},500)),"more"==more?$scope.$broadcast("scroll.infiniteScrollComplete"):"first"!=more&&$scope.$broadcast("scroll.refreshComplete")}})}$scope.unauditedSharelist=[],$scope.isUnauditedShare=!0,$scope.canLoadUnauditedMore={code:!1,nowPageMore:0},$scope.sharelist=[],$scope.isShare=!0,$scope.canLoadAuditedMore={code:!1,nowPageMore:0},$scope.datas=[],$scope.postData={content:""},$scope.tab=[{tabClass:"czmx",isShow:!0},{tabClass:"",isShow:!1}];$controller("baseController",{$scope:$scope});$scope.canLoadMore.comment=!1,$scope.canLoadMore.commPageMore=0,window.shareCallBackFn=function(){showTankuangOneBtn("分享成功！"),$("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove()})},$scope.tabAc=function(t){0==t?($scope.tab=[{tabClass:"czmx",isShow:!0},{tabClass:"",isShow:!1}],localStorage.setItem("shareListType",1),0==$scope.unauditedSharelist.length&&$scope.getUnauditedShareOrder()):1==t&&($scope.tab=[{tabClass:"",isShow:!1},{tabClass:"czmx",isShow:!0}],localStorage.setItem("shareListType",2),0==$scope.sharelist.length&&$scope.getAuditedShareOrder())},$scope.getUnauditedShareOrder=function(more){var u=localStorage.getItem("uid_local"),isHide=!1;"first"==more&&(isHide=!0);var dataJson={toPage:$scope.canLoadUnauditedMore.nowPageMore+1,uid:u,auditing:0};$mainServices.post(basePath+"getShareList.jsp",dataJson,isHide).success(function(JSONObjRet){var JSON_list=JSONObjRet.sharelistnew,pageCount=parseInt(JSONObjRet.pageCount),recount=parseInt(JSONObjRet.recount);if($scope.canLoadUnauditedMore.nowPageMore=parseInt(JSONObjRet.showPage),($scope.canLoadUnauditedMore.nowPageMore==pageCount||0>=recount)&&($scope.canLoadUnauditedMore.code=!1),0>=recount)return $scope.isUnauditedShare=!1,$scope.canLoadUnauditedMore.code=!1,void $scope.$broadcast("scroll.refreshComplete");if($scope.isUnauditedShare=!0,JSON_list.length>0){for(var i=0;i<JSON_list.length;i++){var id=JSON_list[i].id,uid=JSON_list[i].uid,title=JSON_list[i].title,pics=JSON_list[i].pics,picsArray=$mainServices.splitStr(pics,","),len=3;picsArray.length<3&&(len=picsArray.length);for(var ul_html=[],jj=0;len>jj;jj++)ul_html.push({pic:domain3+picsArray[jj]+""});var content=JSON_list[i].content,intime=JSON_list[i].intime;intime=intime.substring(0,16);var headpic=JSON_list[i].headpic;headpic=$mainServices.getHttpOrlocalHeadPic(headpic);var nickname=JSON_list[i].nickname,href_os="#/"+$scope.host+"/shareDetail/"+id,href_mp="#/"+$scope.host+"/userIndex/"+uid,ul_style="qbsd";i>=JSON_list.length-1&&(ul_style="");var div_style=" ";"more"==more&&0==i&&(div_style="margin-top:10px;");var curJson={id:id,content:content,ul_style:ul_style,div_style:div_style,href_mp:href_mp,headpic:headpic,nickname:nickname,intime:intime,href_os:href_os,title:title,ul_html:ul_html,uid:uid};$scope.unauditedSharelist.push(curJson)}$ionicScrollDelegate.resize(),$scope.canLoadUnauditedMore.nowPageMore==pageCount||0>=recount?$scope.canLoadUnauditedMore.code=!1:$timeout(function(){$scope.canLoadUnauditedMore.code=!0},200),"more"==more?$scope.$broadcast("scroll.infiniteScrollComplete"):"first"!=more&&$scope.$broadcast("scroll.refreshComplete")}})},$scope.getAuditedShareOrder=function(more){var u=localStorage.getItem("uid_local"),isHide=!1;"first"==more&&(isHide=!0);var dataJson={toPage:$scope.canLoadAuditedMore.nowPageMore+1,uid:u,auditing:1};$mainServices.post(basePath+"getShareList.jsp",dataJson,isHide).success(function(JSONObjRet){var JSON_list=JSONObjRet.sharelistnew,pageCount=parseInt(JSONObjRet.pageCount),recount=parseInt(JSONObjRet.recount);if($scope.canLoadAuditedMore.nowPageMore=parseInt(JSONObjRet.showPage),($scope.canLoadAuditedMore.nowPageMore==pageCount||0>=recount)&&($scope.canLoadAuditedMore.code=!1),0>=recount)return $scope.isShare=!1,$scope.canLoadAuditedMore.code=!1,void $scope.$broadcast("scroll.refreshComplete");if($scope.isShare=!0,JSON_list.length>0){for(var i=0;i<JSON_list.length;i++){var id=JSON_list[i].id,uid=JSON_list[i].uid,title=JSON_list[i].title,pics=JSON_list[i].pics,picsArray=$mainServices.splitStr(pics,","),len=3;picsArray.length<3&&(len=picsArray.length);for(var ul_html=[],jj=0;len>jj;jj++)ul_html.push({pic:domain3+picsArray[jj]+""});var content=JSON_list[i].content,num_clicklike=JSON_list[i].num_clicklike,num_comment=JSON_list[i].num_comment,intime=JSON_list[i].intime;intime=intime.substring(0,16);var shareIntegral=JSON_list[i].vouchers;if(""==shareIntegral||"0"==shareIntegral)var shareIntegralFlag=!1;else var shareIntegralFlag=!0;var headpic=JSON_list[i].headpic;headpic=$mainServices.getHttpOrlocalHeadPic(headpic);var nickname=JSON_list[i].nickname,num=JSON_list[i].num,recount_share=JSON_list[i].recount_share,src="icon_dz.png";recount_share>0&&(src="icon_dz_on.png");var href_os="#/"+$scope.host+"/shareDetail/"+id,href_mp="#/"+$scope.host+"/userIndex/"+uid,ul_style="qbsd";i>=JSON_list.length-1&&(ul_style="");var div_style=" ";"more"==more&&0==i&&(div_style="margin-top:10px;");var typename=JSON_list[i].typename;if(""==typename){var curJson={id:id,remark:"一元行真的就花了"+num+"块钱中啦，快来膜拜一下！",num:num,content:content,ul_style:ul_style,div_style:div_style,href_mp:href_mp,headpic:headpic,nickname:nickname,intime:intime,href_os:href_os,title:title,ul_html:ul_html,num_comment:num_comment,src:src,num_clicklike:num_clicklike,uid:uid,plurl:"#/"+$scope.host+"/comment?id="+id,shareIntegralFlag:shareIntegralFlag,shareIntegral:shareIntegral};$scope.sharelist.push(curJson)}else{var curJson={id:id,remark:"一元行"+typename+"活动中啦，快来膜拜一下！",num:num,content:content,ul_style:ul_style,div_style:div_style,href_mp:href_mp,headpic:headpic,nickname:nickname,intime:intime,href_os:href_os,title:title,ul_html:ul_html,num_comment:num_comment,src:src,num_clicklike:num_clicklike,uid:uid,plurl:"#/"+$scope.host+"/comment?id="+id,shareIntegralFlag:shareIntegralFlag,shareIntegral:shareIntegral};$scope.sharelist.push(curJson)}}$ionicScrollDelegate.resize(),$scope.canLoadAuditedMore.nowPageMore==pageCount||0>=recount?$scope.canLoadAuditedMore.code=!1:$timeout(function(){$scope.canLoadAuditedMore.code=!0},200),"more"==more?$scope.$broadcast("scroll.infiniteScrollComplete"):"first"!=more&&$scope.$broadcast("scroll.refreshComplete")}})},$scope.dianzan=function(id){var u=localStorage.getItem("uid_local");if(null==u||""==u)return void alert("请先登录");var src=angular.element("#dianzan_"+id).attr("src");if("img/icon_dz_on.png"==src)return void alert("不能重复点赞");var num_clicklike=angular.element("#num_clicklike_"+id).html(),num_clicklike_int=parseInt(num_clicklike),url=basePath+"setDianzan.jsp",dataJson={u:u,id:id};$mainServices.post(url,dataJson,!1).success(function(jsonRet){if(null!=jsonRet){var code=jsonRet.code;200==code?(angular.element("#num_clicklike_"+id).html(num_clicklike_int+1),angular.element("#dianzan_"+id).attr("src","img/icon_dz_on.png")):alert("网络异常，请稍后重试")}})};var myPopup="";$scope.showPopup=function(remark,content){myPopup=$ionicPopup.show({templateUrl:"templates/index/shareTemplate.html",title:"分享给好友",scope:$scope,buttons:[{text:"取消"}]}),myPopup.then(function(){}),$scope.WeixinShare=function(type){$mainServices.WeixinShare(type,remark,content),$timeout(function(){myPopup.close()},1e3)}},$scope.move=function(index,event){event=event.toElement;var len=angular.element(event).parent().parent().find("li").length;$rootScope.gBanList=[];for(var i=0;len>i;i++)$rootScope.gBanList.push({pic:angular.element(event).parent().parent().find("li").eq(i).find("p").attr("back-image-src")});$rootScope.myActiveSlide=index};var shareListType=localStorage.getItem("shareListType");"2"==shareListType?($scope.tab=[{tabClass:"",isShow:!1},{tabClass:"czmx",isShow:!0}],$scope.getAuditedShareOrder("first")):($scope.tab=[{tabClass:"czmx",isShow:!0},{tabClass:"",isShow:!1}],$scope.getUnauditedShareOrder("first")),$scope.loadUnauditedMore=function(){$scope.getUnauditedShareOrder("more")},$scope.loadAuditedMore=function(){$scope.getAuditedShareOrder("more")},$scope.toComment=function(id){$scope.datas=[],$scope.commentid=id,$scope.postData.content="",pl("first",id),$scope.modal.show()},$scope.plSubmit=function(id){var u=localStorage.getItem("uid_local");if(null==u||""==u)return void alert("请先登录");if(""==$scope.postData.content)return void alert("内容不能为空");var url=basePath+"plSubmit.jsp",dataJson={u:u,id:id,pl_content:$scope.postData.content};$mainServices.post(url,dataJson,!0).success(function(jsonRet){if(null!=jsonRet){var code=jsonRet.code;if(200==code){$scope.postData.content="",$scope.datas=[],pl("",id);for(var t=0;t<$scope.sharelist.length;t++)if($scope.sharelist[t].id==id){$scope.sharelist[t].num_comment++;break}}else alert(jsonRet.message)}})},$ionicModal.fromTemplateUrl("templates/index/comment.html",{scope:$scope,animation:"slide-in-up"}).then(function(modal){$scope.modal=modal}),$scope.closeModal=function(){$scope.modal.hide()},$scope.doRefreshComment=function(){$scope.datas=[],pl("",$scope.commentid)},$scope.loadMoreComment=function(){pl("more",$scope.commentid)},$scope.$on("$destroy",function(){$scope.modal.remove(),$rootScope.gBanList=[],""!=myPopup&&myPopup.close()})}return ctrl.$inject=["$scope","$rootScope","$controller","$mainServices","$stateParams","$ionicScrollDelegate","$timeout","$ionicPopup","$ionicModal"],ctrl}),define("shareDetailController",[],function(){function ctrl($scope,$controller,$mainServices,$stateParams,$ionicScrollDelegate,$timeout,$ionicPopup,$ionicModal){function getShareOrderDetail(){var id=$stateParams.id+"";if(null!=id&&""!=id&&"undefined"!=typeof id){var u=localStorage.getItem("uid_local"),dataJson={uid:u,id:id};$mainServices.post(basePath+"getShareOrderDetail.jsp",dataJson,!0).success(function(jsonObj){if(null!=jsonObj&&""!=jsonObj&&"undefined"!=typeof jsonObj){var uid=jsonObj.uid,pterm=(jsonObj.pid,jsonObj.pterm),ptitle=jsonObj.ptitle,title=jsonObj.title,pics=jsonObj.pics,picsArray=$mainServices.splitStr(pics,","),pic0=basePath+picsArray[0],content=jsonObj.content,intime=jsonObj.intime;intime=intime.substring(0,16);var headpic=jsonObj.headpic;headpic=$mainServices.getHttpOrlocalHeadPic(headpic);var nickname=jsonObj.nickname,auditing=jsonObj.auditing;$scope.isAuditedShow="0"==auditing?!1:!0;var num_clicklike=jsonObj.num_clicklike,num_comment=jsonObj.num_comment,num=jsonObj.num,typename=jsonObj.typename,shareIntegral=jsonObj.vouchers;if(""==shareIntegral||"0"==shareIntegral||"0"==auditing)var shareIntegralFlag=!1;else var shareIntegralFlag=!0;var src="img/icon_dz.png",recount_share=jsonObj.recount_share;recount_share>0&&(src="img/icon_dz_on.png");for(var href_mp="#/"+$scope.host+"/userIndex/"+uid,tmp_pic="",i=0;i<picsArray.length;i++)tmp_pic+='<img src="'+domain3+picsArray[i]+'" />';""!=pterm?($scope.isBuyGet=!0,$scope.curJson={id:id,remark:"一元行真的就花了"+num+"块钱，快来膜拜一下！",pic0:pic0,content:content,headpic:headpic,href_mp:href_mp,nickname:nickname,num:num,pterm:pterm,ptitle:ptitle,title:title,intime:intime,num_comment:num_comment,num_clickline:num_clicklike,plurl:"#/"+$scope.host+"/comment?id="+id,shareSrc:src,tmp_pic:tmp_pic,shareIntegralFlag:shareIntegralFlag,shareIntegral:shareIntegral}):($scope.isBuyGet=!1,$scope.curJson={id:id,remark:"一元行"+typename+"活动中啦，快来膜拜一下！",typename:typename,pic0:pic0,content:content,headpic:headpic,href_mp:href_mp,nickname:nickname,num:num,pterm:pterm,ptitle:ptitle,title:title,intime:intime,num_comment:num_comment,num_clickline:num_clicklike,plurl:"#/"+$scope.host+"/comment?id="+id,shareSrc:src,tmp_pic:tmp_pic,shareIntegralFlag:shareIntegralFlag,shareIntegral:shareIntegral})}})}}function pl(more,id){var nowPageMore=$scope.canLoadMore.commPageMore,toPage=1;"more"==more&&(toPage=nowPageMore+1);var isHide=!1;if("first"==more)var isHide=!0;var url=basePath+"pl.jsp",dataJson={toPage:toPage,id:id};$mainServices.post(url,dataJson,isHide).success(function(JSONObjRet){if(null!=JSONObjRet&&void 0!=JSONObjRet&&""!=JSONObjRet){var JSON_list=JSONObjRet.prolist,pageCount=parseInt(JSONObjRet.pageCount),recount=parseInt(JSONObjRet.recount);if($scope.canLoadMore.commPageMore=parseInt(JSONObjRet.showPage),0>=recount&&($scope.canLoadMore.comment=!1),JSON_list.length>0)for(var i=0;i<JSON_list.length;i++){var uid=(JSON_list[i].id,JSON_list[i].uid),content=JSON_list[i].content,intime=JSON_list[i].intime;intime=intime.substring(5,16);var headpic=JSON_list[i].headpic,nickname=JSON_list[i].nickname;headpic=$mainServices.getHttpOrlocalHeadPic(headpic);var json={uid:uid,headpic:headpic,nickname:nickname,content:content,intime:intime,userUrl:"#/"+$scope.host+"/userIndex/"+uid};$scope.datas.push(json)}$scope.canLoadMore.commPageMore==pageCount||0>=recount?$scope.canLoadMore.comment=!1:($ionicScrollDelegate.resize(),$timeout(function(){$scope.canLoadMore.comment=!0},500)),"more"==more?$scope.$broadcast("scroll.infiniteScrollComplete"):"first"!=more&&$scope.$broadcast("scroll.refreshComplete")}})}$scope.curJson={},$scope.datas=[],$scope.postData={content:""},$scope.isBuyGet=!0,$scope.isAuditedShow=!1;$controller("baseController",{$scope:$scope});$scope.canLoadMore.comment=!1,$scope.canLoadMore.commPageMore=0,window.shareCallBackFn=function(){showTankuangOneBtn("分享成功！"),$("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove()})},$scope.dianzan=function(id){var u=localStorage.getItem("uid_local");if(null==u||""==u)return void alert("请先登录");var src=angular.element("#dianzan").attr("src");if("img/icon_dz_on.png"==src)return void alert("不能重复点赞");var num_clicklike=angular.element("#num_clicklike").html(),num_clicklike_int=parseInt(num_clicklike),url=basePath+"setDianzan.jsp",dataJson={u:u,id:id};$mainServices.post(url,dataJson,!1).success(function(jsonRet){if(null!=jsonRet){var code=jsonRet.code;200==code?(angular.element("#num_clicklike").html(num_clicklike_int+1),angular.element("#dianzan").attr("src","img/icon_dz_on.png")):alert("网络异常，请稍后重试")}})};var myPopup="";$scope.showPopup=function(remark,content){myPopup=$ionicPopup.show({templateUrl:"templates/index/shareTemplate.html",title:"分享给好友",scope:$scope,buttons:[{text:"取消"}]}),myPopup.then(function(){}),$scope.WeixinShare=function(type){$mainServices.WeixinShare(type,remark,content),$timeout(function(){myPopup.close()},1e3)}},getShareOrderDetail(),$scope.toComment=function(id){$scope.datas=[],$scope.commentid=id,$scope.postData.content="",pl("first",id),$scope.modal.show()},$scope.plSubmit=function(id){var u=localStorage.getItem("uid_local");if(null==u||""==u)return void alert("请先登录");if(""==$scope.postData.content)return void alert("内容不能为空");var url=basePath+"plSubmit.jsp",dataJson={u:u,id:id,pl_content:$scope.postData.content};$mainServices.post(url,dataJson,!0).success(function(jsonRet){if(null!=jsonRet){var code=jsonRet.code;200==code?($scope.postData.content="",$scope.datas=[],pl("",id),$scope.curJson.num_comment++):alert(jsonRet.message)}})},$ionicModal.fromTemplateUrl("templates/index/comment.html",{scope:$scope,animation:"slide-in-up"}).then(function(modal){$scope.modal=modal}),$scope.closeModal=function(){$scope.modal.hide()},$scope.doRefreshComment=function(){$scope.datas=[],pl("",$scope.commentid)},$scope.loadMoreComment=function(){pl("more",$scope.commentid)},$scope.$on("$destroy",function(){$scope.modal.remove(),""!=myPopup&&myPopup.close()})}return ctrl.$inject=["$scope","$controller","$mainServices","$stateParams","$ionicScrollDelegate","$timeout","$ionicPopup","$ionicModal"],ctrl}),define("newbieController",[],function(){function ctrl($scope,$controller,$mainServices){$scope.newbieList=[],$scope.newbie={animation:"",myVal:""};$controller("baseController",{$scope:$scope});$scope.getNewbieList=function(){$mainServices.postNew(domain2+"product/selectSprogProduct.do",{},!0).success(function(JSONObjRet){if("success"==JSONObjRet.ret){var JSON_list=JSONObjRet.list;
$scope.newbieList=[],$scope.newbie.myVal=JSONObjRet.rule;for(var i=0;i<JSON_list.length;i++){var pid=JSON_list[i].productID,pic=JSON_list[i].pic,price=JSON_list[i].price,total_time=JSON_list[i].totalTime,finish_time=JSON_list[i].finishTime,now_term=JSON_list[i].nowTerm,ptitle=JSON_list[i].pTitle;pic=$mainServices.getHttpOrlocalProPic(pic);var shengyu_time=parseInt(total_time)-parseInt(finish_time),baifenbi=parseFloat(finish_time/total_time);baifenbi=100*baifenbi.toFixed(2)+"%",$scope.newbieList.push({pid:pid,pic:pic,price:price,baifenbi:baifenbi,finish_time:finish_time,total_time:total_time,shengyu_time:shengyu_time,now_term:now_term,ptitle:ptitle})}}})},$scope.getNewbieList(),$scope.rule=function(){$scope.newbie.animation="moveToRight"},$scope.closeRule=function(){$scope.newbie.animation=""}}return ctrl.$inject=["$scope","$controller","$mainServices","$stateParams"],ctrl}),define("newbieDetailController",[],function(){function ctrl($scope,$rootScope,$controller,$mainServices,$timeout,$ionicScrollDelegate,$ionicTabsDelegate,$ionicHistory,$location,$q,$interval){function productDetail(t,pid,pterm,oprFlage){if(null!=pid&&""!=pid){var url=basePath+"getProduct_detail_v1.jsp?t="+(new Date).getTime(),dataJson={pid:pid,pterm:pterm};$scope.jinduData={},$mainServices.post(url,dataJson,t).success(function(jsonObj){if(null!=jsonObj){var proInfo=jsonObj.proInfo,now_term=parseInt(proInfo.now_term),total_time=proInfo.total_time,finish_time=proInfo.finish_time,price=proInfo.price,premark=proInfo.premark,pic=$mainServices.getHttpOrlocalProPic(proInfo.pic),ptitle=proInfo.ptitle,shengyu_time=parseInt(total_time)-parseInt(finish_time),baifenbi=parseFloat(finish_time/total_time);baifenbi=100*baifenbi.toFixed(2)+"%",(null==pterm||""==pterm)&&(pterm=now_term);var remark=proInfo.remark;if($scope.proData={pic:pic,ptitle:ptitle,price:price,premark:premark,remark:remark,shengyu_time:shengyu_time,num:1},pterm>1){var proPtermLast=jsonObj.proPtermLast;if(null!=proPtermLast){var publictime=proPtermLast.publictime,nowTime=parseInt(proInfo.pdintime),publicParse=new Date(Date.parse($mainServices.getTimeNo_0(publictime).replace(/-/g,"/"))),pubTime=Date.UTC(publicParse.getFullYear(),publicParse.getMonth(),publicParse.getDate(),publicParse.getHours(),publicParse.getMinutes(),publicParse.getSeconds())-288e5;if(""==publictime||null==publictime||pubTime>nowTime)$scope.showPrevPterm=!1,$scope.bottomData={detailUrl:"#/"+$scope.host+"/newbieDetail?type=1&pid="+pid+"&pterm="+now_term,now_term:now_term};else{var winnerid=proPtermLast.winnerid,luckynumber=proPtermLast.luckynumber,intime=proPtermLast.intime,nickname=proPtermLast.nickname,winner_renci=proPtermLast.winner_renci,headpic=$mainServices.getHttpOrlocalHeadPic(proPtermLast.headpic);""==nickname&&(nickname=proPtermLast.username),$scope.proPtermLast={url:"#/"+$scope.host+"/userIndex/"+winnerid,headpic:headpic,nickname:nickname,publictime:publictime,intime:$mainServices.getTimeNo_0(intime),luckynumber:luckynumber,winner_renci:winner_renci},$scope.bottomData={detailUrl:"#/"+$scope.host+"/newbieDetail?type=1&pid="+pid+"&pterm="+now_term,now_term:now_term},$scope.showPrevPterm=!0}}else $scope.showPrevPterm=!1}else $scope.showPrevPterm=!1;var share_num=parseInt(proInfo.share_num);0>share_num&&(share_num=0),$scope.orderShare={url:"#/"+$scope.host+"/productorderdetailshare/"+pid+"/",share_num:share_num};var publictimelast=$mainServices.getTimeNo_0(proInfo.publictime),nowTime=parseInt(proInfo.pdintime),publicParse=new Date(Date.parse(publictimelast.replace(/-/g,"/"))),pubTime=Date.UTC(publicParse.getFullYear(),publicParse.getMonth(),publicParse.getDate(),publicParse.getHours(),publicParse.getMinutes(),publicParse.getSeconds())-288e5;""!=publictimelast&&pubTime>nowTime?($scope.visible=!0,GetRTimeMobilePD(publictimelast,pid,pterm,nowTime),baifenbi="100%",finish_time=total_time,shengyu_time=0):now_term>pterm&&nowTime>=pubTime&&($scope.visible=!1,$interval.cancel(curInterval),$scope.reload("#/"+$scope.host+"/newbieDetail?type=2&pid="+pid+"&pterm="+pterm)),$scope.jinduData={baifenbi:baifenbi,finish_time:finish_time,total_time:total_time,shengyu_time:shengyu_time}}$ionicScrollDelegate.resize(),$scope.dqqishu.pid=pid,$scope.dqqishu.pterm=pterm,"refresh"==oprFlage&&$scope.$broadcast("scroll.refreshComplete")})}}function GetRTimeMobilePD(public_time,pid,pterm,nowTime){var EndTime=new Date(Date.parse(public_time.replace(/-/g,"/"))),EndTime2=Date.UTC(EndTime.getFullYear(),EndTime.getMonth(),EndTime.getDate(),EndTime.getHours(),EndTime.getMinutes(),EndTime.getSeconds())-288e5,t=EndTime2-nowTime;curInterval=$interval(function(){t>0?($scope.daojishi.mm=Math.floor(t/1e3/60%60)+"",$scope.daojishi.ss=Math.floor(t/1e3%60)+"",$scope.daojishi.s_m_100=t+"",$scope.daojishi.s_m_100=$scope.daojishi.s_m_100.substr($scope.daojishi.s_m_100.length-3,2),1==$scope.daojishi.mm.length&&($scope.daojishi.mm="0"+$scope.daojishi.mm),1==$scope.daojishi.ss.length&&($scope.daojishi.ss="0"+$scope.daojishi.ss),t-=30):($interval.cancel(curInterval),$scope.reload("#/"+$scope.host+"/newbieDetail?type=2&pid="+pid+"&pterm="+pterm))},30)}function productDetailTerm(t,pid,pterm,oprFlage){if(null!=pid&&""!=pid){var url=basePath+"getProduct_detail_pterm_v1.jsp",dataJson={pid:pid,pterm:pterm};$scope.bottomData={},$scope.productData={},$scope.jinduData={},$scope.huodezheData={},$scope.otherData=[],$scope.orderShare={},$mainServices.post(url,dataJson,t).success(function(jsonObj){if(null!=jsonObj){var proInfo=jsonObj.proInfo,now_term=parseInt(proInfo.now_term),total_time=proInfo.total_time,price=(proInfo.finish_time,proInfo.price),pic=$mainServices.getHttpOrlocalProPic(proInfo.pic),ptitle=proInfo.ptitle,remark=proInfo.remark;$scope.productData={pic:pic,ptitle:ptitle,price:price,remark:remark};var proPtermLast=jsonObj.proPtermLast;if(null!=proPtermLast){var winnerid=proPtermLast.winnerid,luckynumber=proPtermLast.luckynumber,intime=proPtermLast.intime,publictime=proPtermLast.publictime,nickname=proPtermLast.nickname,headpic=$mainServices.getHttpOrlocalHeadPic(proPtermLast.headpic),winner_renci=proPtermLast.winner_renci;""==nickname&&(nickname=proPtermLast.username),$scope.huodezheData={uurl:"#/"+$scope.host+"/userIndex/"+winnerid,headpic:headpic,nickname:nickname,publictime:$mainServices.getTimeNo_0(publictime),intime:$mainServices.getTimeNo_0(intime),luckynumber:luckynumber},$scope.jinduData={baifenbi:"100%",total_time:total_time,winner_renci:winner_renci};var JSON_list_winner_shopnumber=proPtermLast.shopnumbers;if(null!=JSON_list_winner_shopnumber&&JSON_list_winner_shopnumber.length>0)for(var i=0;i<JSON_list_winner_shopnumber.length;i++){var shopnumber=JSON_list_winner_shopnumber[i].shopnumber,tmpjson={shopnumber:shopnumber,state:""};$scope.otherData.push(tmpjson)}$scope.shopNumber=function(){skip("#/"+$scope.host+"/shopnumber?pid="+pid+"&pterm="+pterm+"&u="+winnerid)}}$scope.orderShare={url:"#/"+$scope.host+"/productJisuan/"+pid+"/"+pterm}}$scope.dqqishu.pid=pid,$scope.dqqishu.pterm=pterm,$scope.bottomData={qishuUrl:"#/"+$scope.host+"/productQishu?pid="+pid+"&pterm="+pterm,pterm:pterm,pid:pid,detailUrl:"#/"+$scope.host+"/newbieDetail?type=1&pid="+pid+"&pterm="+now_term,now_term:now_term},"refresh"==oprFlage&&$scope.$broadcast("scroll.refreshComplete")})}}{var curInterval,type,pid,pterm;$controller("baseController",{$scope:$scope})}$scope.numAdd=function(pid,max){var num=$scope.proData.num;max>num&&(num+=1),$scope.proData.num=num},$scope.numDecrease=function(){var num=$scope.proData.num;num>1&&(num-=1),$scope.proData.num=num},$scope.numChange=function(max){var num=$scope.proData.num;""==num||isNaN(num)?num=1:(num=parseInt(num),num>max?num=max:0>=num&&(num=1)),$scope.proData.num=num},$scope.init=function(){type=$mainServices.getQueryString("type"),pid=$mainServices.getQueryString("pid"),pterm=$mainServices.getQueryString("pterm"),""==pid?(type=$rootScope.pdetail.type,pid=$rootScope.pdetail.pid,pterm=$rootScope.pdetail.pterm):($rootScope.pdetail={},$rootScope.pdetail.type=type,$rootScope.pdetail.pid=pid,$rootScope.pdetail.pterm=pterm),$scope.random=pid+"_"+pterm,$scope.visible=!1,$scope.dqqishu={pid:"",pterm:"",host:$scope.host},$scope.daojishi={mm:"00",ss:"00",s_m_100:"00"},$scope.bottomData={detailUrl:"",now_term:""},$scope.proData={},$scope.proPtermLast={url:"",headpic:"",nickname:"",publictime:"",intime:"",luckynumber:"",winner_renci:""},$scope.orderShare={},$scope.showPrevPterm=!1,$interval.cancel(curInterval),"1"==type?$scope.current=!0:($scope.current=!1,pterm=parseInt(pterm)),$scope.pid=pid,"1"==type?productDetail(!0,pid,pterm):productDetailTerm(!0,pid,pterm)},$scope.init(),$scope.doRefresh=function(){$scope.visible=!1,$scope.dqqishu={pid:"",pterm:"",host:$scope.host},$scope.daojishi={mm:"00",ss:"00",s_m_100:"00"},$scope.bottomData={detailUrl:"",now_term:""},$scope.proData={},$scope.proPtermLast={url:"",headpic:"",nickname:"",publictime:"",intime:"",luckynumber:"",winner_renci:""},$scope.orderShare={},$scope.showPrevPterm=!1,"1"==$rootScope.pdetail.type?($interval.cancel(curInterval),productDetail(!1,pid,pterm,"refresh")):productDetailTerm(!1,pid,pterm,"refresh")},$scope.$on("$destroy",function(){$interval.cancel(curInterval)}),$scope.reload=function(param){skip(param),type=$mainServices.getUrlString(param,"type"),pid=$mainServices.getUrlString(param,"pid"),pterm=$mainServices.getUrlString(param,"pterm"),$scope.random=pid+"_"+pterm,""==pid?(type=$rootScope.pdetail.type,pid=$rootScope.pdetail.pid,pterm=$rootScope.pdetail.pterm):($rootScope.pdetail={},$rootScope.pdetail.type=type,$rootScope.pdetail.pid=pid,$rootScope.pdetail.pterm=pterm),"1"==type?($interval.cancel(curInterval),$scope.current=!0):($scope.current=!1,pterm=parseInt(pterm)),$scope.visible=!1,$scope.dqqishu={pid:"",pterm:"",host:$scope.host},$scope.daojishi={mm:"00",ss:"00",s_m_100:"00"},$scope.bottomData={detailUrl:"",now_term:""},$scope.proData={},$scope.proPtermLast={url:"",headpic:"",nickname:"",publictime:"",intime:"",luckynumber:"",winner_renci:""},$scope.orderShare={},$scope.showPrevPterm=!1,$scope.pid=pid,"1"==type?productDetail(!0,pid,pterm):productDetailTerm(!0,pid,pterm)},$scope.orderBuy=function(){var u=localStorage.getItem("uid_local");return null==u||""==u||"undefined"==typeof u?(localStorage.setItem("backUrlLogin","#"+$ionicHistory.currentView().url),void $location.path("/"+$scope.host+"/log")):($scope.proData.num>=$scope.proData.shengyu_time&&($scope.proData.num=$scope.proData.shengyu_time),void $mainServices.postNew(domain2+"orderDetailPeople/selectSprogSeniority",{user:{userID:u},orderdetailPeople:{pid:$scope.dqqishu.pid,num:$scope.proData.num,pterm:$scope.dqqishu.pterm}},!0).success(function(JSONObjRet){"success"==JSONObjRet.ret?skip("#/"+$scope.host+"/newOrderForm/"+$scope.dqqishu.pid+"/"+$scope.proData.num):(alert(JSONObjRet.message),-1!=JSONObjRet.message.indexOf("剩余购买次数")&&$scope.doRefresh())}))}}return ctrl.$inject=["$scope","$rootScope","$controller","$mainServices","$timeout","$ionicScrollDelegate","$ionicTabsDelegate","$ionicHistory","$location","$q","$interval"],ctrl}),define("newOrderFormController",[],function(){function ctrl($scope,$controller,$mainServices,$factoryServices,$timeout,$state,$ionicModal,$ionicScrollDelegate,$stateParams){$scope.getPayList=[],$scope.getPayListFlag=!1,$scope.order={top:"",integral:0,balanceAll:0,balance:0,summoney_pay_other:0,reactMoney:0},$scope.summoney=$stateParams.num;$controller("baseController",{$scope:$scope});$factoryServices.hideOrShowAppContent(),window.setAppVersion=function(str1,str2){null==str1&&(str1=""),null==str2&&(str2="");var url=basePath+"getPayMode.jsp";$mainServices.post(url,{sysVersion:str1,resVersion:str2,platform:$mainServices.flagPlatform(),type:"pay",u:localStorage.getItem("uid_local")},!0).success(function(dataJson){if(null!=dataJson&&void 0!=dataJson&&0!=dataJson.length){var len=dataJson.mode.length;if(len>0){for(var i=0;len>i;i++)isiOS?"0"!=dataJson.mode[i].show&&$scope.getPayList.push(dataJson.mode[i]):isAndroid&&"1"!=dataJson.mode[i].show&&$scope.getPayList.push(dataJson.mode[i]);$scope.getPayListFlag=!1}else $scope.getPayListFlag=!0}})},$mainServices.getAppVersion(),$scope.userBalance=function($event){var dom=angular.element($event.srcElement),shiyongyueCheck=dom.attr("checked"),paymoney=$scope.summoney;"checked"==shiyongyueCheck&&($scope.order.balance<1?(alert("您的余额不足。"),dom.removeAttr("checked")):paymoney-=$scope.order.balance),0>paymoney&&(paymoney=0),$scope.order.summoney_pay_other=paymoney},$scope.getCartOrder=function(){$scope.order.top="";var u=localStorage.getItem("uid_local"),url=basePath+"getProduct_detail_v1.jsp";$mainServices.post(url,{pid:$stateParams.pid},!0).success(function(dataJson){if(null!=dataJson&&void 0!=dataJson&&0!=dataJson.length){var proInfo=dataJson.proInfo,now_term=parseInt(proInfo.now_term),pic=$mainServices.getHttpOrlocalProPic(proInfo.pic),ptitle=proInfo.ptitle;ptitle="(第"+now_term+"期)"+ptitle;var shengyu=parseInt(proInfo.total_time)-parseInt(proInfo.finish_time);$scope.summoney>shengyu&&($scope.summoney=shengyu);var num=$scope.summoney,tmp='<div class="js_spjt"><div class="js_spjt_img"><img src="'+pic+'" /></div><div class="js_spjt_wz"><p class="ellipsis1">'+ptitle+'</p><p class="js_spjt_sl"><span style="color:#ff5000">￥1.00/次</span><span style="float:right;color:#ff5000">	&times;'+num+"</span></p></div></div>";$scope.order.top+=tmp,$mainServices.post(basePath+"getUser.jsp",{t:4,u:u},!0).success(function(JSON_list){JSON_list.length>0&&($scope.order.balanceAll=parseFloat(JSON_list[0].balance),$scope.order.balance=parseInt($scope.order.balanceAll),$scope.order.summoney_pay_other=$scope.summoney,$scope.order.reactMoney=$scope.summoney)});var old=null;$("input[name='paystyle']").each(function(){this.checked&&(old=this),this.onclick=function(){this==old?(this.checked=!1,old=null):old=this}})}})},$scope.getCartOrder(),$scope.orderFormSubmit=function(){var u=localStorage.getItem("uid_local"),paystyle=$("[name='paystyle']:checked").val(),paymoney=$scope.order.summoney_pay_other,shiyongyueHidden="0";if("checked"==$("#shiyongyue").attr("checked")&&(shiyongyueHidden="1"),"1"==shiyongyueHidden){if(paymoney>0&&("undefined"==typeof paystyle||null==paystyle||""==paystyle))return void alert("请选择支付方式。")}else if("undefined"==typeof paystyle||null==paystyle||""==paystyle)return void alert("请选择支付方式。");showTankuang("确认提交并支付吗？"),$("#quxiaoBtn").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove()}),$("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove();var html_loading="<div class='onLoadingDiv-class' id='onLoadingDiv'><div id='loadingBg'><div id='loadingtext' class='zjz'><p>数据提交中...</p></div></div></div>";$("html").append(html_loading),$timeout(function(){var url=basePath+"sprogPayForm.jsp",dataJson={u:u,paystyle:paystyle,platform:$mainServices.flagPlatform(),shiyongyueHidden:shiyongyueHidden,pid:$stateParams.pid,num:$scope.summoney};$mainServices.post(url,dataJson,!1).success(function(dataJsonRet){var code=dataJsonRet.code;if(200==code){$(".onLoadingDiv-class").remove();var onumber_db=dataJsonRet.onumber,paymoney_db=dataJsonRet.paymoney,paystyle_db=dataJsonRet.paystyle;paymoney_db=parseFloat(paymoney_db);var skipUrl_db=dataJsonRet.redirectUrl;if(localStorage.setItem("local-o",onumber_db),0>=paymoney_db)alert("支付成功。"),$timeout(function(){$state.go($scope.host+".payFinish",{})},1500);else if(""!=paystyle_db)if(""!=skipUrl_db)$mainServices.iosBrowerPay(skipUrl_db),setTimeout(function(){showTankuang("是否完成支付？"),$("#querenBtnRollback").attr("id","querenBtnRollback222"),$("#querenBtnRollback222").attr("onclick","closeTankuang();skip('#/"+$scope.host+"/payFinish')")},2e3);else{var isNativePay=$("[name='paystyle']:checked").attr("attr-type");if(1==isNativePay||"1"==isNativePay){if(9==paystyle_db||"9"==paystyle_db)var signDataStr="merchant="+dataJsonRet.merchant+"&orderId="+dataJsonRet.orderId+"&key=pDvdkozMmDiwKvxz3KejPjip1OgWlyRI",signData=hex_md5(signDataStr).toLowerCase(),content=JSON.stringify({orderId:dataJsonRet.orderId,appId:dataJsonRet.appId,signData:signData,merchant:dataJsonRet.merchant});else if(10==paystyle_db||"10"==paystyle_db)var content=dataJsonRet.token_id;setTimeout(function(){showTankuang("是否完成支付？"),$("#querenBtnRollback").attr("id","querenBtnRollback222"),$("#querenBtnRollback222").attr("onclick","closeTankuang();skip('#/"+$scope.host+"/payFinish')")},3e3),$mainServices.nativePay(paystyle_db,content)}else alert(dataJsonRet.message)}else $(".onLoadingDiv-class").remove(),alert("提交失败。")}else $(".onLoadingDiv-class").remove(),alert(100==code?"下手慢了，已退至账户余额。":dataJsonRet.message)}).error(function(){$(".onLoadingDiv-class").remove(),alert("数据提交失败，请重新提交订单！")})},1e3)})}}return ctrl.$inject=["$scope","$controller","$mainServices","$factoryServices","$timeout","$state","$ionicModal","$ionicScrollDelegate","$stateParams"],ctrl}),define("newbieQishuController",[],function(){function ctrl($scope,$controller,$mainServices,$stateParams,$ionicScrollDelegate,$timeout){$scope.obj={pterm:""},$scope.qishuData=[];{var pid=$stateParams.pid,pterm=$stateParams.pterm;$controller("baseController",{$scope:$scope})}$scope.productQishu=function(page,t){var url=basePath+"getSprogQiShu.jsp",dataJson={pid:pid,pterm:pterm,host:$scope.host,page:page},isHide=!1;if("first"==t)var isHide=!0;$mainServices.post(url,dataJson,isHide).success(function(JsonObj){var pageCount=JsonObj.pageCount,dataText=JsonObj.data;$scope.qishuData=$scope.qishuData.concat(dataText),$ionicScrollDelegate.resize(),pageCount<=$scope.canLoadMore.nowPageMore+1?$scope.canLoadMore.code=!1:$timeout(function(){$scope.canLoadMore.code=!0},500),"more"==t?$scope.$broadcast("scroll.infiniteScrollComplete"):"first"!=t&&$scope.$broadcast("scroll.refreshComplete")})},$scope.productQishu($scope.canLoadMore.nowPageMore,"first"),$scope.termSubmit=function(){var url=basePath+"skipProduct.jsp",dataJson={pid:pid,pterm:$scope.obj.pterm,host:$scope.host,flag:2};return isNaN($scope.obj.pterm)||$scope.obj.pterm<1?void alert("期数只支持正整数"):void $mainServices.post(url,dataJson,!0).success(function(JsonObj){return 200!=JsonObj.code?void alert(JsonObj.message):void skip(JsonObj.url)})},$scope.loadMore=function(){$scope.canLoadMore.nowPageMore++,$scope.productQishu($scope.canLoadMore.nowPageMore,"more")},$scope.doRefresh=function(){$scope.canLoadMore.nowPageMore=0,$scope.qishuData=[],$scope.productQishu($scope.canLoadMore.nowPageMore)}}return ctrl.$inject=["$scope","$controller","$mainServices","$stateParams","$ionicScrollDelegate","$timeout"],ctrl}),define("noticeListController",[],function(){function ctrl($scope,$controller,$mainServices,$ionicScrollDelegate){$scope.noticeArr=[],$scope.noticeFlag=!0,$scope.canLoadMoreList={code:!1,nowPageMore:0};$controller("baseController",{$scope:$scope});$scope.loadPage=function(t){var nowPageMore=$scope.canLoadMoreList.nowPageMore;"more"!=t?(nowPageMore=1,$scope.noticeArr=[]):nowPageMore++;var isHide=!1;"first"==t&&(isHide=!0);var url=domain2+"news/gainNews.do",dataJson={page:{currentPage:nowPageMore,pageNumber:10}};$mainServices.postNew(url,dataJson,isHide).success(function(JSONObj){if("success"==JSONObj.ret){var pageCount=JSONObj.page.totalPage,showPage=JSONObj.page.currentPage;$scope.canLoadMoreList.nowPageMore=showPage;var JSON_list=JSONObj.newList;if(JSONObj.page.totalNumber<=0?($scope.noticeFlag=!1,$scope.canLoadMoreList.code=!1):$scope.noticeFlag=!0,null!=JSON_list&&JSON_list.length>0)for(var i=0;i<JSON_list.length;i++){var intime=$mainServices.getTimeNo_0(JSON_list[i].intime);$scope.noticeArr.push({nid:JSON_list[i].nid,intime:intime,ntitle:JSON_list[i].ntitle})}$ionicScrollDelegate.resize(),$scope.canLoadMoreList.code=showPage>=pageCount||JSONObj.page.totalNumber<=0?!1:!0,"more"==t&&$scope.$broadcast("scroll.infiniteScrollComplete")}else alert(JSONObj.message)})},$scope.loadPage("first"),$scope.showDetail=function(id){skip("#/"+$scope.host+"/noticeDetail/"+id)},$scope.loadListMore=function(){$scope.loadPage("more")}}return ctrl.$inject=["$scope","$controller","$mainServices","$ionicScrollDelegate"],ctrl}),define("noticeDetailController",[],function(){function ctrl($scope,$controller,$mainServices,$stateParams){$scope.ntitle="",$scope.proDetail="";var nid=$stateParams.nid,url=($controller("baseController",{$scope:$scope}),domain2+"news/gainNewsInfo.do"),dataJson={nid:nid};$mainServices.postNew(url,dataJson,!0).success(function(JSONObj){if("success"==JSONObj.ret){var news=JSONObj.news,content=news.content;$scope.ntitle=news.ntitle,$scope.proDetail=content}else alert(JSONObj.message)})}return ctrl.$inject=["$scope","$controller","$mainServices","$stateParams"],ctrl}),define("gainerListController",[],function(){function ctrl($scope,$controller,$mainServices,$ionicScrollDelegate,$stateParams){$scope.canLoadMoreList={code:!1,nowPageMore:0},$scope.gainerList=[];var pid=($controller("baseController",{$scope:$scope}),$stateParams.pid+"");$scope.getList=function(t){var nowPageMore=$scope.canLoadMoreList.nowPageMore;"more"!=t?(nowPageMore=1,$scope.gainerList=[]):nowPageMore++;var isHide=!1;"first"==t&&(isHide=!0);var url=domain2+"productTerm/prizeInfo",dataJson={productTerm:{pid:pid},page:{currentPage:nowPageMore,pageNumber:10}};$mainServices.postNew(url,dataJson,isHide).success(function(data){if("success"==data.ret){var JSONObj=data.data,pageCount=JSONObj.page.totalPage,showPage=JSONObj.page.currentPage;$scope.canLoadMoreList.nowPageMore=showPage;var JSON_list=JSONObj.drawComputeList;if(JSONObj.page.totalNumber<=0&&($scope.canLoadMoreList.code=!1),null!=JSON_list&&JSON_list.length>0)for(var i=0;i<JSON_list.length;i++){var headpic=JSON_list[i].headpic,pid=JSON_list[i].pid,pterm=JSON_list[i].pterm,intime=JSON_list[i].intime;headpic=$mainServices.getHttpOrlocalProPic(headpic);var nickname=JSON_list[i].nickname,total_time=JSON_list[i].total_time,winner_renci=JSON_list[i].winner_renci,winnerid=JSON_list[i].winnerid,luckynumber=JSON_list[i].luckynumber,publictime=JSON_list[i].publictime,url="#/"+$scope.host+"/userIndex/"+winnerid;$scope.gainerList.push({headpic:headpic,pid:pid,pterm:pterm,intime:intime,nickname:nickname,total_time:total_time,winner_renci:winner_renci,winnerid:winnerid,publictime:publictime,luckynumber:luckynumber,url:url})}$ionicScrollDelegate.resize(),$scope.canLoadMoreList.code=showPage>=pageCount||JSONObj.page.totalNumber<=0?!1:!0,"more"==t?$scope.$broadcast("scroll.infiniteScrollComplete"):"refresh"==t&&$scope.$broadcast("scroll.refreshComplete")}else alert(data.message)})},$scope.getList("first"),$scope.doRefresh=function(){$scope.getList("refresh")},$scope.loadListMore=function(){$scope.getList("more")}}return ctrl.$inject=["$scope","$controller","$mainServices","$ionicScrollDelegate","$stateParams"],ctrl}),define("snatchController",[],function(){function ctrl($scope,$controller,$mainServices,$interval,$state,$ionicPopup,$timeout){function getRTime(t){var time=60;$scope.daojishi=$interval(function(){if(t>0){var mm=Math.floor(t/1e3/60)+"",ss=Math.floor(t/1e3%60)+"",s_m_100=t+"";s_m_100=s_m_100.substr(s_m_100.length-3,2),1==mm.length&&(mm="0"+mm),1==ss.length&&(ss="0"+ss),$scope.case2.timeRub=mm+":"+ss+":"+s_m_100,$scope.case2.flag=1,t-=time}else $scope.case2.timeRub="正在开抢中。。。",$interval.cancel($scope.daojishi),$scope.case2.flag=2},time)}$scope.case={case1:!1,case2:!1,case3:!1,case4:!1},$scope.case1={startTime:""},$scope.case2={timeRub:"",flag:0},$scope.case3={isRep:!0,moneyLimitFlag:!0},$scope.case4={startTime:""},$scope.explain="";$controller("baseController",{$scope:$scope});$scope.dealTime=function(time){var time=$mainServices.getTimeNo_0(time),month=parseInt(time.substr(5,2)),day=parseInt(time.substr(8,2)),hour=parseInt(time.substr(11,2)),minute=parseInt(time.substr(14,2));return 0==minute?month+"月"+day+"日"+hour+"点":month+"月"+day+"日"+hour+"点"+minute+"分"},$scope.calcDay=function(time1,time2){var date=time2-time1,days=Math.floor(date/864e5);if(0==days){var leave=date%864e5,hours=Math.floor(leave/36e5);return 0==hours?"即将后":hours+"小时后"}return days+"天后"},$scope.returnIndex=function(){var url=$state.current.name;0==url.indexOf("index.")?skip("#/index/index"):0==url.indexOf("product.")?skip("#/product/productlist"):0==url.indexOf("activite.")?skip("#/activite/newPublishList"):0==url.indexOf("cart.")?skip("#/cart/cart"):0==url.indexOf("mine.")&&skip("#/mine/myIndex")},$scope.loadPage=function(){$mainServices.postNew(domain2+"vouchers/checkVouchers.do",{userID:localStorage.getItem("uid_local")},!0).success(function(jsonObj){$scope.explain=jsonObj.rule,1==jsonObj.status?($scope.case={case1:!0,case2:!1,case3:!1,case4:!1},$scope.case1.startTime=null!=jsonObj.todayVouchers?$scope.dealTime(jsonObj.todayVouchers.startTime):null!=jsonObj.predictVouchers?$scope.dealTime(jsonObj.predictVouchers.startTime):"下一轮暂未开启"):2==jsonObj.status?($scope.case={case1:!1,case2:!0,case3:!1,case4:!1},getRTime(jsonObj.timeRub)):3==jsonObj.status?($scope.case={case1:!1,case2:!1,case3:!0,case4:!1},$scope.case3.isRep=!0,$scope.case3.money=jsonObj.obtainRecord.money,$scope.case3.typesName=jsonObj.obtainRecord.typesName,$scope.case3.limitMoney=jsonObj.obtainRecord.limitMoney,$scope.case3.catalogueName=jsonObj.obtainRecord.catalogueName,$scope.case3.moneyLimitFlag=0==$scope.case3.limitMoney?!1:!0,$scope.case3.validity=$scope.calcDay(jsonObj.obtainRecord.startTime,jsonObj.obtainRecord.finishTime)):4==jsonObj.status&&($scope.case={case1:!1,case2:!1,case3:!1,case4:!0},$scope.case4.startTime=null!=jsonObj.predictVouchers?$scope.dealTime(jsonObj.predictVouchers.startTime):"下一轮暂未开启")})},$scope.loadPage(),$scope.snatch=function(){if(2==$scope.case2.flag){var uid=localStorage.getItem("uid_local");null==uid?skip("#/"+$scope.host+"/log"):$mainServices.postNew(domain2+"vouchers/extractVouchers.do",{userID:uid},!0).success(function(jsonObj){$scope.case={case1:!1,case2:!1,case3:!0,case4:!1},$scope.case3.isRep=203==jsonObj.code?!0:!1,$scope.case3.money=jsonObj.obtainRecord.money,$scope.case3.typesName=jsonObj.obtainRecord.typesName,$scope.case3.limitMoney=jsonObj.obtainRecord.limitMoney,$scope.case3.catalogueName=jsonObj.obtainRecord.catalogueName,$scope.case3.moneyLimitFlag=0==$scope.case3.limitMoney?!1:!0,$scope.case3.validity=$scope.calcDay(jsonObj.obtainRecord.startTime,jsonObj.obtainRecord.finishTime)})}else alert("抢红包时间还未开始,请耐心等待！")};var myPopup="";$scope.showPopup=function(money,typesName,catalogueName){myPopup=$ionicPopup.show({templateUrl:"templates/index/shareTemplate.html",title:"分享给好友",scope:$scope,buttons:[{text:"取消"}]}),myPopup.then(function(){}),$scope.WeixinShare=function(type){$mainServices.snatchShare(type,money,typesName,catalogueName),$timeout(function(){myPopup.close()},1e3)}},$scope.$on("$destroy",function(){""!=myPopup&&myPopup.close()})}return ctrl.$inject=["$scope","$controller","$mainServices","$interval","$state","$ionicPopup","$timeout"],ctrl}),define("suppleController",[],function(){function ctrl($scope,$controller,$mainServices,$timeout,$rootScope,$ionicTabsDelegate){$scope.infoTips='补单不成功，请联系客服QQ：<a style="color:#de0000;font-size:15px" href="mqqwpa://im/chat?chat_type=crm&amp;uin=938176645&amp;version=1&amp;src_type=web&amp;web_src=http:://www.1yuanxing.com">4006818100</a>',$scope.user={balance:"",onumber:""};var u=($controller("baseController",{$scope:$scope}),localStorage.getItem("uid_local"));if(null==u||""==u||"undefined"==typeof u)return void alert("请先登录。");var clickFlag=!1;$scope.subCardBtn=function(){if(!clickFlag){var balance=$scope.user.balance,onumber=$scope.user.onumber;if(""==balance)return void alert("请输入充值的金额");if(!$mainServices.yzPositiveNumber(balance))return void alert("请输入大于零的数字");if(""==onumber)return void alert("请输入充值交易号");showTankuang("确认提交补单吗？"),$("#querenBtnRollback").click(function(){$("#tankuangIdDiv").remove(),$(".reveal-modal-bg").remove();var url=domain2+"pay/aliPay/reOrder",dataJson={uid:u,balance:balance,onumber:onumber,platform:2};$mainServices.post(url,dataJson,!0).success(function(dataJsonRet){var code=dataJsonRet.code,message=dataJsonRet.msg;200==code?(clickFlag=!0,alert(message),$timeout(function(){$rootScope.hideTabs="",$ionicTabsDelegate.select(4)},2e3)):alert(message)})})}}}return ctrl.$inject=["$scope","$controller","$mainServices","$timeout","$rootScope","$ionicTabsDelegate","$ionicScrollDelegate"],ctrl}),define("moneygetController",[],function(){function ctrl($scope,$controller,$mainServices,$rootScope,$ionicTabsDelegate,$timeout,$ionicScrollDelegate){function getShareSx(){var urls="https://www.1yuanxing.com/user/getQrcode.do";$.ajax({type:"post",url:urls,contentType:"application/json",data:JSON.stringify({userID:u}),success:function(res){$scope.app_ewm=domain3+res.qrcode}})}$scope.tab=[{tabClass:"czmx",isShow:!0},{tabClass:"",isShow:!1}],$scope.canLoadRecordInvite={code:!1,nowPageMore:0},$scope.canLoadRecordCommiss={code:!1,nowPageMore:0},$scope.inviteRecords=[],$scope.commissRecords=[],$scope.zlimg={zlbanner:domain3+"images/zlbanner.jpg",zlsjx:domain3+"images/zlsjx.png",zlsjx2:domain3+"images/zlsjx2.png",zlhf:domain3+"images/zlhf.png",zlfooter:domain3+"images/zlfooter.jpg",zlfx:domain3+"images/zlfx.png"},$scope.zlback=function(){return window.history.go(-1),!1},$scope.zlweima=!1,$scope.getUser={yongjin:"0.00",yongjintotal:"0.00"};var u=($controller("baseController",{$scope:$scope}),localStorage.getItem("uid_local"));if(null==u||""==u||"undefined"==typeof u)return void alert("请先登录。");var url=basePath+"getUsercommission.jsp",dataJson={uid:u};$mainServices.post(url,dataJson,!0).success(function(JSON_list){$scope.getUser.yongjin=JSON_list.yongjin,$scope.getUser.yongjintotal=JSON_list.yongjintotal}),$scope.zlfalse=function(){$scope.zlweima=!1},$scope.zlfx=function(){$scope.zlweima=!0,$scope.invitationCode=localStorage.getItem("invitationCode");var u=localStorage.getItem("uid_local");if(null!=u&&""!=u&&"undefined"!=typeof u){var url=basePath+"getUserYqm.jsp",dataJson={u:u};$mainServices.post(url,dataJson,!1).success(function(JSON_list){$scope.invitationCode=JSON_list.yqm,$mainServices.isNull($scope.invitationCode)?$scope.invitationCodeShow=!1:($scope.invitationCodeShow=!0,localStorage.setItem("invitationCode",$scope.invitationCode))})}else $scope.invitationCodeShow=!1},getShareSx(!1),$scope.recordCommissLoad=function(){var url=domain2+"accountDetail/getAccountDetail.do";$scope.canLoadRecordCommiss.nowPageMore++;var dataJson={user:{userID:u},page:{currentPage:$scope.canLoadRecordCommiss.nowPageMore,pageNumber:1e4}};$mainServices.postNew(url,dataJson,!1).success(function(JSONObj){if("success"==JSONObj.ret){var pageCount=JSONObj.data.page.totalPage,JSON_list=JSONObj.data.serviceData;if(null!=JSON_list&&JSON_list.length>0){$scope.list=!1,$scope.val="";for(var i=0;i<JSON_list.length;i++){var nickname=JSON_list[i].nickname,intime=JSON_list[i].intime;intime=$mainServices.getTimeNo_0(intime);var money,maths,receiveuid=JSON_list[i].receiveuid,sum=JSON_list[i].sum;null==receiveuid?(receiveuid="转出",money="0"):(receiveuid="收入",money=sum*JSON_list[i].byqruid,maths=100/JSON_list[i].byqruid+"%"),$scope.commissRecords.push({intime:intime,nickname:nickname,receiveuid:receiveuid,sum:money,commiss:sum,maths:maths})}$ionicScrollDelegate.resize(),$scope.canLoadRecordCommiss.code=pageCount<=$scope.canLoadRecordCommiss.nowPageMore?!1:!0,$scope.$broadcast("scroll.infiniteScrollComplete")}else $scope.list=!0,$scope.val="暂无佣金"}else alert("请求失败，请重新刷新页面")})},console.log(u),$scope.zlbye=function(){$(".zlfxfooter").animate({height:"0"},300)},$scope.share=function(){$(".zlfxfooter").animate({height:"3rem"},300),$scope.invitationCode=localStorage.getItem("invitationCode");var u=localStorage.getItem("uid_local");if(null!=u&&""!=u&&"undefined"!=typeof u){var url=basePath+"getUserYqm.jsp",dataJson={u:u};$mainServices.post(url,dataJson,!1).success(function(JSON_list){$scope.invitationCode=JSON_list.yqm,$mainServices.isNull($scope.invitationCode)?$scope.invitationCodeShow=!1:($scope.invitationCodeShow=!0,localStorage.setItem("invitationCode",$scope.invitationCode))})}else $scope.invitationCodeShow=!1;$scope.WeixinAppShare=function(type){$mainServices.WeixinAppShare(type,$scope.invitationCode)
}},$scope.recordCommissLoad(),$scope.recordInvitationLoad=function(){var url=domain2+"accountDetail/getInviteUser.do";$scope.canLoadRecordInvite.nowPageMore++;var dataJson={user:{userID:u},page:{currentPage:$scope.canLoadRecordInvite.nowPageMore,pageNumber:10}};$mainServices.postNew(url,dataJson,!1).success(function(JSONObj){if("success"==JSONObj.ret){var pageCount=JSONObj.data.page.totalPage,JSON_list=JSONObj.data.serviceData;if(null!=JSON_list&&JSON_list.length>0){for(var i=0;i<JSON_list.length;i++){var nickname=JSON_list[i].nickName,experience=JSON_list[i].experience,intime=JSON_list[i].intime;intime=$mainServices.getTimeNo_0(intime),experience=0>=experience?"未消费":"已消费",$scope.inviteRecords.push({intime:intime,nickname:nickname,experience:experience})}$ionicScrollDelegate.resize(),$scope.canLoadRecordInvite.code=pageCount<=$scope.canLoadRecordInvite.nowPageMore?!1:!0,$scope.$broadcast("scroll.infiniteScrollComplete")}}else alert("请求失败，请重新刷新页面")})},$scope.recordInvitationLoad()}return ctrl.$inject=["$scope","$controller","$mainServices","$rootScope","$ionicTabsDelegate","$timeout","$ionicScrollDelegate","$ionicPopup","$http"],ctrl}),define("gamesController",[],function(){function ctrl($scope,$rootScope,$controller,$mainServices){$scope.list=[!1,!1,!1,!1,!1,!1,!1],$scope.style=["","","","","","",""];var u=($controller("baseController",{$scope:$scope}),localStorage.getItem("uid_local"));if(null!=u&&""!=u&&"undefined"!=typeof u){var url="https://api.592huiyi.com/game/account/balance",dataJson={userID:u};$mainServices.postNew(url,dataJson,!1).success(function(JSON_list){if("success"==JSON_list.ret&&null!=JSON_list.data.serviceData){var dataObj=JSON_list.data.serviceData;console.log(dataObj);var qimoClientId={userId:u,nickName:dataObj.userName};$scope.myUrl="http://www.592huiyi.com/yuanxingQQ.html?userId="+u+"&nickName="+qimoClientId.nickName,$(".zlif").attr({src:$scope.myUrl})}})}else{$scope.myUrl="http://www.592huiyi.com/yuanxingQQ.html",$(".zlif").attr({src:$scope.myUrl})}}return ctrl.$inject=["$scope","$rootScope","$controller","$mainServices"],ctrl}),define("controllers",["app","baseController","indexController","rechargeController","guideController","integralController","buyRecordController","buyRecordTwoController","buyRecordDetailController","showSignHistoryController","productztController","productlistController","searchController","newproductDetailController","productQishuController","orderdetailShareController","orderShareDetailsController","userIndexController","userCardController","shopnumberController","productJisuanController","newPublishListController","cartController","orderFormController","payFinishController","myIndexController","mySetingController","accountDetailController","userAddressController","userAddressSubmitController","userAddressSelController","shaidanController","cashController","traderPassSetController","newsController","lyController","aboutController","mySetingSafeController","logPassModController","logisticsController","myInfoController","myNicknameController","mySexController","myBirthdayController","myQqController","mySignatureController","myHometownController","logController","bindingController","securityCodeController","setPasswordController","changePasswordController","registerController","registerStepTwoController","registerStepThreeController","logPassbackController","commissionController","rollOutController","inviteIntrController","customerServiceController","userVirtualAddressSubmitController","giftController","mySetingSecretController","integralDetailsController","imageTextController","proBuyDetailController","winGoodsController","luckDrawController","winGoodsDetailController","logisticsActController","shaidanActController","userAddressActSelController","userVirtualAddrActSubmitController","shareListController","shareDetailController","newbieController","newbieDetailController","newOrderFormController","newbieQishuController","noticeListController","noticeDetailController","gainerListController","snatchController","suppleController","moneygetController","gamesController","services"],function(){var controllers=angular.module("app.controllers",["app.services","app.config"]);return controllers.controller("baseController",require("baseController")),controllers.controller("indexController",require("indexController")),controllers.controller("rechargeController",require("rechargeController")),controllers.controller("guideController",require("guideController")),controllers.controller("integralController",require("integralController")),controllers.controller("showSignHistoryController",require("showSignHistoryController")),controllers.controller("buyRecordController",require("buyRecordController")),controllers.controller("buyRecordTwoController",require("buyRecordTwoController")),controllers.controller("buyRecordDetailController",require("buyRecordDetailController")),controllers.controller("productztController",require("productztController")),controllers.controller("productlistController",require("productlistController")),controllers.controller("searchController",require("searchController")),controllers.controller("newproductDetailController",require("newproductDetailController")),controllers.controller("productQishuController",require("productQishuController")),controllers.controller("orderdetailShareController",require("orderdetailShareController")),controllers.controller("orderShareDetailsController",require("orderShareDetailsController")),controllers.controller("userIndexController",require("userIndexController")),controllers.controller("userCardController",require("userCardController")),controllers.controller("shopnumberController",require("shopnumberController")),controllers.controller("productJisuanController",require("productJisuanController")),controllers.controller("newPublishListController",require("newPublishListController")),controllers.controller("cartController",require("cartController")),controllers.controller("orderFormController",require("orderFormController")),controllers.controller("payFinishController",require("payFinishController")),controllers.controller("myIndexController",require("myIndexController")),controllers.controller("mySetingController",require("mySetingController")),controllers.controller("accountDetailController",require("accountDetailController")),controllers.controller("userAddressController",require("userAddressController")),controllers.controller("userAddressSubmitController",require("userAddressSubmitController")),controllers.controller("userAddressSelController",require("userAddressSelController")),controllers.controller("shaidanController",require("shaidanController")),controllers.controller("cashController",require("cashController")),controllers.controller("traderPassSetController",require("traderPassSetController")),controllers.controller("newsController",require("newsController")),controllers.controller("lyController",require("lyController")),controllers.controller("aboutController",require("aboutController")),controllers.controller("mySetingSafeController",require("mySetingSafeController")),controllers.controller("logPassModController",require("logPassModController")),controllers.controller("logisticsController",require("logisticsController")),controllers.controller("myInfoController",require("myInfoController")),controllers.controller("myNicknameController",require("myNicknameController")),controllers.controller("mySexController",require("mySexController")),controllers.controller("myBirthdayController",require("myBirthdayController")),controllers.controller("myQqController",require("myQqController")),controllers.controller("mySignatureController",require("mySignatureController")),controllers.controller("myHometownController",require("myHometownController")),controllers.controller("logController",require("logController")),controllers.controller("bindingController",require("bindingController")),controllers.controller("securityCodeController",require("securityCodeController")),controllers.controller("setPasswordController",require("setPasswordController")),controllers.controller("changePasswordController",require("changePasswordController")),controllers.controller("registerController",require("registerController")),controllers.controller("registerStepTwoController",require("registerStepTwoController")),controllers.controller("registerStepThreeController",require("registerStepThreeController")),controllers.controller("logPassbackController",require("logPassbackController")),controllers.controller("commissionController",require("commissionController")),controllers.controller("rollOutController",require("rollOutController")),controllers.controller("inviteIntrController",require("inviteIntrController")),controllers.controller("customerServiceController",require("customerServiceController")),controllers.controller("userVirtualAddressSubmitController",require("userVirtualAddressSubmitController")),controllers.controller("giftController",require("giftController")),controllers.controller("mySetingSecretController",require("mySetingSecretController")),controllers.controller("integralDetailsController",require("integralDetailsController")),controllers.controller("imageTextController",require("imageTextController")),controllers.controller("proBuyDetailController",require("proBuyDetailController")),controllers.controller("winGoodsController",require("winGoodsController")),controllers.controller("luckDrawController",require("luckDrawController")),controllers.controller("winGoodsDetailController",require("winGoodsDetailController")),controllers.controller("logisticsActController",require("logisticsActController")),controllers.controller("shaidanActController",require("shaidanActController")),controllers.controller("userAddressActSelController",require("userAddressActSelController")),controllers.controller("userVirtualAddrActSubmitController",require("userVirtualAddrActSubmitController")),controllers.controller("shareListController",require("shareListController")),controllers.controller("shareDetailController",require("shareDetailController")),controllers.controller("newbieController",require("newbieController")),controllers.controller("newbieDetailController",require("newbieDetailController")),controllers.controller("newOrderFormController",require("newOrderFormController")),controllers.controller("newbieQishuController",require("newbieQishuController")),controllers.controller("noticeListController",require("noticeListController")),controllers.controller("noticeDetailController",require("noticeDetailController")),controllers.controller("gainerListController",require("gainerListController")),controllers.controller("snatchController",require("snatchController")),controllers.controller("suppleController",require("suppleController")),controllers.controller("moneygetController",require("moneygetController")),controllers.controller("gamesController",require("gamesController")),controllers.run(["$rootScope","$factoryServices",function($rootScope,$factoryServices){$rootScope.cartNumber=0,$rootScope.checkFlag=0,$factoryServices.firstCheckLogin(),$rootScope.checkFlag=$factoryServices.hideOrShowAppContent()}]),controllers}),define("directives",["app","services"],function(){var directives=angular.module("app.directives",["app.services"]);return directives.directive("hideTabs",function($rootScope,$location){return{restrict:"AE",link:function($scope){$rootScope.hideTabs="tabs-item-hide",$scope.$on("$ionicView.beforeEnter",function(){("/index/index"==$location.path()||"/product/productlist"==$location.path()||"/activite/newPublishList"==$location.path()||"/cart/cart"==$location.path()||"/mine/myIndex"==$location.path())&&($rootScope.hideTabs=" ")}),$scope.$on("$ionicView.beforeLeave",function(){("/index/index"==$location.path()||"/product/productlist"==$location.path()||"/activite/newPublishList"==$location.path()||"/cart/cart"==$location.path()||"/mine/myIndex"==$location.path())&&($rootScope.hideTabs=" ")})}}}),directives.directive("scrollHeight",function($window){return{restrict:"AE",link:function(scope,element){element[0].style.height=$window.innerHeight-50-36-44+"px"}}}),directives.directive("goBack",["$ionicGesture","$ionicHistory","$ionicNavBarDelegate",function(){return{restrict:"AE",link:function(){}}}]),directives.directive("rjHoldActive",["$ionicGesture","$timeout","$ionicBackdrop",function($ionicGesture,$timeout){return{scope:!1,restrict:"A",replace:!1,link:function(scope,iElm){$ionicGesture.on("tap",function(){iElm.addClass("hodeActive"),$timeout(function(){iElm.removeClass("hodeActive")},300)},iElm)}}}]),directives.directive("focusInput",["$ionicScrollDelegate","$window","$timeout","$ionicPosition",function($ionicScrollDelegate,$window,$timeout,$ionicPosition){return{restrict:"A",scope:!1,link:function($scope,iElm){ionic.Platform.isAndroid()?iElm.off("focus").on("focus",function(){var top=$ionicScrollDelegate.getScrollPosition().top,eleTop=$ionicPosition.offset(iElm).top/2,realTop=eleTop+top;$timeout(function(){if($scope.$last)try{var aim=angular.element(document).find(".scroll");aim.css("transform","translate3d(0px,-"+realTop+"px, 0px) scale(1)"),$timeout(function(){iElm[0].focus()},100)}catch(e){}else $ionicScrollDelegate.scrollTo(0,realTop)},500)}).on("blur",function(){$ionicScrollDelegate.resize()}):ionic.Platform.isIOS()&&iElm.on("blur",function(){$ionicScrollDelegate.resize()})}}}]),directives.directive("dir",function($compile,$parse){return{restrict:"EA",link:function(scope,element,attr){scope.$watch(attr.content,function(){element.html($parse(attr.content)(scope)),$compile(element.contents())(scope)},!0)}}}),directives.directive("backImageSrc",["$document",function(){return{restrict:"A",scope:{backImageSrc:"@"},link:function($scope,$element,$attributes){function backImage(){var iw=$($element[0]).width();$($element[0]).css("height",iw);var ImgObj=new Image;ImgObj.src=$attributes.backImageSrc,ImgObj.onload=function(){{var niw=ImgObj.width,nih=ImgObj.height;Math.min(niw,nih)}if(niw>nih){var mult=niw/nih,left=(ImgObj.width/ImgObj.height*100,(niw-nih)/2/niw*iw*mult);$($element[0]).css({"background-image":"url("+ImgObj.src+")","background-size":100*mult+"% 100%","background-position":"-"+left+"px 0"})}else{var mult=nih/niw,top=(ImgObj.height/ImgObj.width*100,(nih-niw)/2/nih*iw*mult);$($element[0]).css({"background-image":"url("+ImgObj.src+")","background-size":"100% "+100*mult+"%","background-position":"0 -"+top+"px"})}}}backImage()}}}]),directives.directive("imagePosition",function($window){return{restrict:"AE",link:function(scope,element){$(element)[0].onload=function(){var winW=$window.innerWidth,winH=$window.innerHeight,scale=winW/winH,src=$(element).attr("src"),ImgObj=new Image;ImgObj.src=src,ImgObj.onload=function(){var niW=ImgObj.width,niH=ImgObj.height,nScale=niW/niH;if(nScale>scale)if(niW>=winW){var nih=winW/nScale;if(.6*winH>nih){$(element).css("width","100%").css("height","auto");var h=(winH-nih)/2;$(element).css({"margin-left":0,"margin-top":h})}else{nih=.6*winH;var niw=nih*nScale;$(element).css("width",niw+"px").css("height",nih+"px");var w=(winW-niw)/2,h=(winH-nih)/2;$(element).css({"margin-left":w,"margin-top":h})}}else{var nih=winW/nScale;if(nih>.6*winH){nih=.6*winH;var niw=nih*nScale;$(element).css("width",niw+"px").css("height",nih+"px");var w=(winW-niw)/2,h=(winH-nih)/2;$(element).css({"margin-left":w,"margin-top":h})}else{$(element).css("width",niW+"px").css("height","auto");var w=(winW-niW)/2,h=(winH-niH)/2;$(element).css({"margin-left":w,"margin-top":h})}}else{var nih=.6*winH,niw=nih*nScale;if(niW>=niw){$(element).css("width",niw+"px").css("height",nih+"px");var w=(winW-niw)/2,h=(winH-nih)/2;$(element).css({"margin-left":w,"margin-top":h})}else{$(element).css("width",niW+"px").css("height","auto");var w=(winW-niW)/2,h=(winH-niH)/2;$(element).css({"margin-left":w,"margin-top":h})}}}}}}}),directives.directive("ngPinchZoom",function(){return{restrict:"A",link:function(scope,element,attrs){function touchstartHandler(evt){var touches=evt.originalEvent?evt.originalEvent.touches:evt.touches;startX=touches[0].clientX,startY=touches[0].clientY,initialPositionX=positionX,initialPositionY=positionY,moveX=0,moveY=0}function touchmoveHandler(evt){var touches=evt.originalEvent?evt.originalEvent.touches:evt.touches;""===mode&&(1===touches.length&&scale>1?mode="swipe":2===touches.length&&(mode="pinch",initialScale=scale,initialDistance=getDistance(touches),originX=touches[0].clientX-parseInt((touches[0].clientX-touches[1].clientX)/2,10)-element[0].offsetLeft-initialPositionX,originY=touches[0].clientY-parseInt((touches[0].clientY-touches[1].clientY)/2,10)-element[0].offsetTop-initialPositionY)),"swipe"===mode?(evt.preventDefault(),moveX=touches[0].clientX-startX,moveY=touches[0].clientY-startY,positionX=initialPositionX+moveX,positionY=initialPositionY+moveY,transformElement()):"pinch"===mode&&(evt.preventDefault(),distance=getDistance(touches),relativeScale=distance/initialDistance,scale=relativeScale*initialScale,positionX=originX*(1-relativeScale)+initialPositionX+moveX,positionY=originY*(1-relativeScale)+initialPositionY+moveY,transformElement())}function touchendHandler(evt){var touches=evt.originalEvent?evt.originalEvent.touches:evt.touches;""===mode||touches.length>0||("swipe"===mode&&(scale=1),1>scale?(scale=1,positionX=0,positionY=0):scale>maxScale?(scale=maxScale,relativeScale=scale/initialScale,positionX=originX*(1-relativeScale)+initialPositionX+moveX,positionY=originY*(1-relativeScale)+initialPositionY+moveY):(positionX>0?positionX=0:elWidth*(1-scale)>positionX&&(positionX=elWidth*(1-scale)),positionY>0?positionY=0:elHeight*(1-scale)>positionY&&(positionY=elHeight*(1-scale))),transformElement(.1),mode="")}function getDistance(touches){var d=Math.sqrt(Math.pow(touches[0].clientX-touches[1].clientX,2)+Math.pow(touches[0].clientY-touches[1].clientY,2));return parseInt(d,10)}function transformElement(duration){var transition=duration?"all cubic-bezier(0,0,.5,1) "+duration+"s":"",matrixArray=[scale,0,0,scale,positionX,positionY],matrix="matrix("+matrixArray.join(",")+")";element.css({"-webkit-transition":transition,transition:transition,"-webkit-transform":matrix+" translate3d(0,0,0)",transform:matrix})}var elWidth,elHeight,mode="",distance=0,initialDistance=0,scale=1,relativeScale=1,initialScale=1,maxScale=parseInt(attrs.maxScale,10);(isNaN(maxScale)||1>=maxScale)&&(maxScale=3);var positionX=0,positionY=0,initialPositionX=0,initialPositionY=0,originX=0,originY=0,startX=0,startY=0,moveX=0,moveY=0,image=new Image;image.onload=function(){elWidth=element[0].clientWidth,elHeight=element[0].clientHeight,element.css({"-webkit-transform-origin":"0 0","transform-origin":"0 0"}),element.on("touchstart",touchstartHandler),element.on("touchmove",touchmoveHandler),element.on("touchend",touchendHandler)},image.src=attrs.ngSrc?attrs.ngSrc:attrs.src}}}),directives.directive("imageLazySrc",["$document","$timeout","$ionicScrollDelegate","$compile",function($document,$timeout,$ionicScrollDelegate){return{restrict:"A",scope:{lazyScrollResize:"@lazyScrollResize",imageLazyBackgroundImage:"@imageLazyBackgroundImage",imageLazySrc:"@"},link:function($scope,$element,$attributes){function loadImage(){if($element.bind("load",function(){$attributes.imageLazyLoader&&loader.remove(),$element.unbind("load")}),"true"==$scope.imageLazyBackgroundImage){var bgImg=new Image;bgImg.onload=function(){$attributes.imageLazyLoader&&loader.remove(),$element[0].style.backgroundImage="url("+$attributes.imageLazySrc+")","true"==$scope.lazyScrollResize&&$ionicScrollDelegate.resize()},bgImg.src=$attributes.imageLazySrc}else{var ImgObj=new Image;ImgObj.src=$attributes.imageLazySrc,ImgObj.onload=function(){$element[0].src=$attributes.imageLazySrc}}}var loader;loadImage()}}}]),directives.directive("timePicker",["$timeout","$compile","$ionicScrollDelegate","$ionicBackdrop","$q","$timePickerService",function($timeout,$compile,$ionicScrollDelegate,$ionicBackdrop,$q,$timePickerService){return{template:"<div>{{selectDateTime.show}}</div>",restrict:"AE",replace:!0,scope:{format:"@",okHandler:"&",timePickerResult:"=",loadDateTime:"="},link:function(scope,elm,attrs){function init(options){options.hideYear?null:initYear(options),options.hideMonth?null:initMoth(options),options.hideDate?null:initDay(options),options.hideTime?null:initTime(options),tem=angular.element(tem),$compile(tem)(scope),angular.element(document.body).append(tem),getSelectDateTime(),setSelectDateTimeShow()}function initYear(options){scope.yearScroll=$ionicScrollDelegate.$getByHandle("yearScroll_"+globalId);var text,data,top,item,defaultItem,defaultIndex,defaultYear=options.DateTime.getFullYear(),yearSpan=options.yearEnd-options.yearStart;prependLi(scope.yearList,3,"b");for(var i=0;yearSpan>=i;i++)text=options.yearStart+i+"年",data=options.yearStart+i,top=options.height+scope.yearList[scope.yearList.length-1].top,item=createDateTimeLi(0,top,data,data==defaultYear,text),data==defaultYear&&(defaultItem=item,defaultIndex=scope.yearList.length),scope.yearList.push(item);scope.selectDateTime.year.item=defaultItem,scope.selectDateTime.year.index=defaultIndex,prependLi(scope.yearList,3,"e")}function initMoth(options){scope.monthScroll=$ionicScrollDelegate.$getByHandle("monthScroll_"+globalId);var text,data,original,top,item,defaultItem,defaultIndex,defaultMonth=options.DateTime.getMonth()+1==0?12:prependZero(options.DateTime.getMonth()+1,10);prependLi(scope.monthList,3,"b");for(var i=1;12>=i;i++)original=i,data=prependZero(i,10),text=prependZero(i,10)+"月",top=options.height+scope.monthList[scope.monthList.length-1].top,item=createDateTimeLi(0,top,data,data==defaultMonth,text),data==defaultMonth&&(defaultItem=item,defaultIndex=scope.monthList.length),scope.monthList.push(item);scope.selectDateTime.month.item=defaultItem,scope.selectDateTime.month.index=defaultIndex,prependLi(scope.monthList,3,"e")}function initDay(options){scope.dateScroll=$ionicScrollDelegate.$getByHandle("dateScroll_"+globalId);var text,data,top,item,defaultItem,defaultIndex,defaultDay=prependZero(options.DateTime.getDate(),10),dateNum=getDateNum(options.DateTime.getFullYear(),options.DateTime.getMonth()+1);prependLi(scope.dateList,3,"b");for(var i=1;dateNum>=i;i++)data=prependZero(i,10),text=prependZero(i,10)+"日",top=options.height+scope.dateList[scope.dateList.length-1].top,item=createDateTimeLi(0,top,data,data==defaultDay,text),data==defaultDay&&(defaultItem=item,defaultIndex=scope.dateList.length),scope.dateList.push(item);scope.selectDateTime.date.item=defaultItem,scope.selectDateTime.date.index=defaultIndex,prependLi(scope.dateList,3,"e")}function initTime(options){scope.timeScroll=$ionicScrollDelegate.$getByHandle("timeScroll_"+globalId);var defaultItem,defaultIndex,hasSetDefault,nextFirst,defaultTime=options.DateTime.getMinutes();prependLi(scope.timeList,3,"b");for(var timeStart=options.DateTime.getHours(),i=0;i<options.timeNum;i++){var t=timeStart+i;t>=24?(t-=24,t=prependZero(t,10)):10>t&&(t=prependZero(t,10));for(var j=0;j<60/options.timeSpan;j++){var top=options.height+scope.timeList[scope.timeList.length-1].top,selected=!1,bTime=j*options.timeSpan;hasSetDefault||(nextFirst?(selected=!0,hasSetDefault=!0,nextFirst=!1):bTime==defaultTime||bTime>defaultTime?(selected=!0,hasSetDefault=!0):j==60/options.timeSpan-1&&(nextFirst=!0));var data=t+":"+prependZero(j*options.timeSpan,10),item=createDateTimeLi(0,top,data,selected,data);scope.timeList.push(item),selected&&(defaultItem=item,defaultIndex=scope.timeList.length-1)}}prependLi(scope.timeList,3,"e"),scope.selectDateTime.time.item=defaultItem?defaultItem:scope.timeList[3],scope.selectDateTime.time.index=defaultIndex?defaultIndex:3}function scrollToElm(scorllHandler,elm){scorllHandler.scrollTo(elm.left,elm.top,!0)}function scrollToPosi(scorllHandler,posi){scorllHandler.scrollTo(posi.left,posi.top,!0)}function updateSelect(index,type){switch(type){case"year":$timeout(function(){scope.selectDateTime.year.item.selected=!1,scope.yearList[index].selected=!0,scope.selectDateTime.year.item=scope.yearList[index],scope.selectDateTime.year.index=index,scope.options.hideDate||resettingDate(scope.selectDateTime.year.item.data,parseInt(scope.selectDateTime.month.item.data))});break;case"month":$timeout(function(){scope.selectDateTime.month.item.selected=!1,scope.monthList[index].selected=!0,scope.selectDateTime.month.item=scope.monthList[index],scope.selectDateTime.month.index=index,scope.options.hideDate||(scope.options.hideYear&&(scope.selectDateTime.year.item={data:(new Date).getFullYear()}),resettingDate(scope.selectDateTime.year.item.data,parseInt(scope.selectDateTime.month.item.data)))});break;case"date":$timeout(function(){scope.selectDateTime.date.item.selected=!1,scope.dateList[index].selected=!0,scope.selectDateTime.date.item=scope.dateList[index],scope.selectDateTime.date.index=index});break;case"time":$timeout(function(){scope.selectDateTime.time.item.selected=!1,scope.timeList[index].selected=!0,scope.selectDateTime.time.item=scope.timeList[index],scope.selectDateTime.time.index=index})}}function setSelectDateTimeShow(){scope.selectDateTime.show=(scope.options.hideYear?"":scope.selectDateTime.year.item.text+" ")+(scope.options.hideMonth?"":scope.selectDateTime.month.item.text)+(scope.options.hideDate?"":scope.selectDateTime.date.item.text+" ")+(scope.options.hideTime?"":scope.selectDateTime.time.item.text)}function getSelectDateTime(){var value=(scope.options.hideYear?"":scope.selectDateTime.year.item.data+(scope.options.hideMonth?"":"/"))+(scope.options.hideMonth?"":scope.selectDateTime.month.item.data+(scope.options.hideDate?"":"/"))+(scope.options.hideDate?"":scope.selectDateTime.date.item.data+" ")+(scope.options.hideTime?"":scope.selectDateTime.time.item.data);return scope.timePickerResult=scope.format?$timePickerService.format(new Date(value),scope.format):value,scope.timePickerResult}function getDateNum(year,month){var dateNum=30;return scope.specialDateTime.isBigMonth(month)?dateNum++:scope.specialDateTime.isLoopYear(year)?2==month&&dateNum--:2==month&&(dateNum-=2),dateNum}function resettingDate(year,month){var dateNum=getDateNum(year,month);if(dateNum!=scope.dateList.length-6){var text,data,top,item,refreshNum=dateNum-(scope.dateList.length-6);if(refreshNum>0)for(var lastData=scope.dateList[scope.dateList.length-4],i=1;refreshNum>=i;i++)data=lastData.data+i,text=data+"日",top=options.height+scope.dateList[scope.dateList.length-4].top,item=createDateTimeLi(0,top,data,!1,text),scope.dateList.splice(scope.dateList.length-3,0,item);else{var refreshNum_=Math.abs(refreshNum);scope.dateList.splice(scope.dateList.length-4-refreshNum_+1,refreshNum_),scope.selectDateTime.date.item.data>scope.dateList[scope.dateList.length-4].data&&(scope.dateList[scope.dateList.length-4].selected=!0,scope.selectDateTime.date.item=scope.dateList[scope.dateList.length-4],scope.selectDateTime.date.item.index=scope.dateList.length-4,scrollToElm(scope.dateScroll,scope.dateList[scope.selectDateTime.date.index-3]))}}}function getOperateEntity(type){var entity=new Object;switch(type){case"year":entity.scrollTimer="yearScrollTimer",entity.type=type,entity.scrollHandler="yearScroll",entity.data="yearList",entity.defaultSelected=scope.selectDateTime.year.item.data,entity.selectedItem="year";break;case"month":entity.scrollTimer="monthScrollTimer",entity.type=type,entity.scrollHandler="monthScroll",entity.data="monthList",entity.defaultSelected=scope.selectDateTime.month.item.data,entity.selectedItem="month";break;case"date":entity.scrollTimer="dateScrollTimer",entity.type=type,entity.scrollHandler="dateScroll",entity.data="dateList",entity.defaultSelected=scope.selectDateTime.date.item.data,entity.selectedItem="date";break;case"time":entity.scrollTimer="timeScrollTimer",entity.type=type,entity.scrollHandler="timeScroll",entity.data="timeList",entity.defaultSelected=scope.selectDateTime.time.item.data,entity.selectedItem="time"}return entity}function prependZero(data,num){return data>=num?data:"0"+data}function createDateTimeLi(left,top,data,selected,text){var li={left:left,top:top,data:data,selected:selected,text:text};return li}function prependLi(arr,num,loc){switch(loc=loc||"b"){case"b":for(var i=0;num>i;i++)arr.push(createDateTimeLi(0,options.height*i,"",!1,""));break;case"e":for(var lastPosiTop=arr[arr.length-1].top,j=0;num>j;j++)arr.push(createDateTimeLi(0,options.height*(i+1)+lastPosiTop,"",!1,""))}}function show(){scope.options.inModal&&angular.element(document.body).removeClass("modal-open"),$ionicBackdrop.retain(),tem.css("display","block")}function hide(){scope.options.inModal&&angular.element(document.body).addClass("modal-open"),tem.css("display","none"),$ionicBackdrop.release()}function remove(){tem.remove()}var globalId=++$timePickerService.globalId,dateTimeNow=new Date,tem="<div class='pickerContainer datetimeactive'><div class='main'><div  class='header'><div>{{options.title}}</div></div><div class='body'><div class='row row-no-padding'><div class='col'  ng-if='!options.hideYear' ><ion-scroll on-scroll='scrollingEvent(\"year\")' delegate-handle='yearScroll_"+globalId+"' scrollbar-y='false' class='yearContent'><ul><li ng-style='year.selected ? { color: \"#ff8400\",fontWeight: \"bold\", fontSize: \"1.2em\"}:{}' ng-click='selectEvent(\"year\",$index)' ng-repeat='year in yearList'>{{year.text}}</li></ul></ion-scroll></div><div class='col'  ng-if='!options.hideMonth' ><ion-scroll on-scroll='scrollingEvent(\"month\")' delegate-handle='monthScroll_"+globalId+"' scrollbar-y='false' class='monthContent'><ul><li ng-style='month.selected ? { color: \"#ff8400\",fontWeight: \"bold\", fontSize: \"1.2em\"}:{}' ng-click='selectEvent(\"month\",$index)' ng-repeat='month in monthList'>{{month.text}}</li></ul></ion-scroll></div><div class='col ' ng-if='!options.hideDate' ><ion-scroll on-scroll='scrollingEvent(\"date\")' delegate-handle='dateScroll_"+globalId+"' scrollbar-y='false' class='dateContent'><ul><li ng-style='date.selected ? { color: \"#ff8400\",fontWeight: \"bold\", fontSize: \"1.2em\"}:{}' ng-click='selectEvent(\"date\",$index)' ng-repeat='date in dateList'>{{date.text}}</li></ul></ion-scroll></div><div class='col ' ng-if='!options.hideTime' ><ion-scroll on-scroll='scrollingEvent(\"time\")' delegate-handle='timeScroll_"+globalId+"' scrollbar-y='false' class='timeContent'><ul><li ng-style='time.selected ? { color: \"#ff8400\",fontWeight: \"bold\", fontSize: \"1.2em\"}:{}' ng-click='selectEvent(\"time\",$index)' ng-repeat='time in timeList'>{{time.text}}</li></ul></ion-scroll></div></div><div class='body_center_highlight'></div></div><div class='footer'><span ng-click='ok()'>确定</span><span ng-click='cancel()'>取消</span></div></div></div>",options={title:attrs.title||"时间选择",height:40,timeNum:parseInt(attrs.timenum)||24,yearStart:attrs.yearstart&&parseInt(attrs.yearstart)||dateTimeNow.getFullYear()-20,yearEnd:attrs.yearend&&parseInt(attrs.yearend)||dateTimeNow.getFullYear(),monthStart:12,monthEnd:1,DateTime:attrs.datetime&&new Date(attrs.datetime)||dateTimeNow,timeSpan:attrs.timespan&&parseInt(attrs.timespan)||15,loadLazy:attrs.loadlazy||!1,hideYear:attrs.hideyear||!1,hideMonth:attrs.hidemonth||!1,hideDate:attrs.hidedate||!1,hideTime:attrs.hidetime||!1,inModal:attrs.inmodal||!1};if(scope.options=options,scope.yearScrollTimer=null,scope.monthScrollTimer=null,scope.dateScrollTimer=null,scope.timeScrollTimer=null,scope.dateList=[],scope.timeList=[],scope.yearList=[],scope.monthList=[],scope.selectDateTime={year:{item:null,index:0},month:{item:null,index:0},date:{item:null,index:0},time:{item:null,index:0},show:""},scope.specialDateTime={bigMoth:[1,3,5,7,8,10,12],isBigMonth:function(month){for(var length=this.bigMoth.length;length--;)if(this.bigMoth[length]==month)return!0;return!1},isLoopYear:function(year){return year%4==0&&(year%100!=0||year%400==0)}},options.loadLazy)var loadListener=scope.$watch("loadDateTime",function(){scope.loadDateTime&&(options.DateTime=new Date(scope.loadDateTime),scope.options=options,init(options),loadListener=null)
});else scope.options=options,init(options);elm.on("click",function(){show(),options.hideYear?null:scrollToElm(scope.yearScroll,scope.yearList[scope.selectDateTime.year.index-3]),options.hideMonth?null:scrollToElm(scope.monthScroll,scope.monthList[scope.selectDateTime.month.index-3]),options.hideDate?null:scrollToElm(scope.dateScroll,scope.dateList[scope.selectDateTime.date.index-3]),options.hideTime?null:scrollToElm(scope.timeScroll,scope.timeList[scope.selectDateTime.time.index-3])}),scope.scrollingEvent=function(type){var opEntity=getOperateEntity(type);scope[opEntity.scrollTimer]&&$timeout.cancel(scope[opEntity.scrollTimer]);var posi=scope[opEntity.scrollHandler].getScrollPosition(),index=Math.abs(Math.round(posi.top/scope.options.height));posi.top==index*scope.options.height?updateSelect(index+3,type):scope[opEntity.scrollTimer]=$timeout(function(){posi.top=40*index,updateSelect(index+3,type),scrollToPosi(scope[opEntity.scrollHandler],posi)},100)},scope.selectEvent=function(type,index){var opEntity=getOperateEntity(type);index>2&&index<=scope[opEntity.data].length-3&&scrollToElm(scope[opEntity.scrollHandler],scope[opEntity.data][index-3])},scope.ok=function(){var datetime=getSelectDateTime();setSelectDateTimeShow(),hide(),scope.okHandler&&scope.okHandler({result:datetime})},scope.cancel=function(){hide()},scope.$on("$destroy",function(){remove()})}}}]),directives.directive("tabRedPoint",function($compile,$timeout){return{restrict:"A",replace:!1,link:function(scope,element,attrs){var $class="a."+attrs.class,key=attrs.tabRedPoint||!1,template="<b class='tabs-red-point' ng-if="+key+"></b>",html=$compile(template)(scope);$timeout(function(){$($class).css({position:"relative"}).append(html)},100)}}}),directives.directive("linkRedPoint",function($compile,$timeout){return{restrict:"A",replace:!1,link:function(scope,element,attrs){var key=attrs.linkRedPoint||!1,template="<b ng-class={true:'links-red-point',false:''}["+key+"]></b>",$class="a."+attrs.class,html=$compile(template)(scope);$timeout(function(){$($class).css({position:"relative"}).append(html)},100)}}}),directives}),function(F,t,W){function ua(a,b,c){if(!a)throw ngMinErr("areq",b||"?",c||"required");return a}function va(a,b){return a||b?a?b?(X(a)&&(a=a.join(" ")),X(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function Ea(a){var b={};return a&&(a.to||a.from)&&(b.to=a.to,b.from=a.from),b}function ba(a,b,c){var d="";return a=X(a)?a:a&&U(a)&&a.length?a.split(/\s+/):[],u(a,function(a,s){a&&0<a.length&&(d+=s>0?" ":"",d+=c?b+a:a+b)}),d}function Fa(a){if(a instanceof G)switch(a.length){case 0:return[];case 1:if(1===a[0].nodeType)return a;break;default:return G(ka(a))}return 1===a.nodeType?G(a):void 0}function ka(a){if(!a[0])return a;for(var b=0;b<a.length;b++){var c=a[b];if(1==c.nodeType)return c}}function Ga(a,b,c){u(b,function(b){a.addClass(b,c)})}function Ha(a,b,c){u(b,function(b){a.removeClass(b,c)})}function ha(a){return function(b,c){c.addClass&&(Ga(a,b,c.addClass),c.addClass=null),c.removeClass&&(Ha(a,b,c.removeClass),c.removeClass=null)}}function ia(a){if(a=a||{},!a.$$prepared){var b=a.domOperation||H;a.domOperation=function(){a.$$domOperationFired=!0,b(),b=H},a.$$prepared=!0}return a}function ca(a,b){wa(a,b),xa(a,b)}function wa(a,b){b.from&&(a.css(b.from),b.from=null)}function xa(a,b){b.to&&(a.css(b.to),b.to=null)}function R(a,b,c){var d=(b.addClass||"")+" "+(c.addClass||""),e=(b.removeClass||"")+" "+(c.removeClass||"");return a=Ia(a.attr("class"),d,e),ya(b,c),b.addClass=a.addClass?a.addClass:null,b.removeClass=a.removeClass?a.removeClass:null,b}function Ia(a,b,c){function d(a){U(a)&&(a=a.split(" "));var b={};return u(a,function(a){a.length&&(b[a]=!0)}),b}var e={};a=d(a),b=d(b),u(b,function(a,b){e[b]=1}),c=d(c),u(c,function(a,b){e[b]=1===e[b]?null:-1});var s={addClass:"",removeClass:""};return u(e,function(b,c){var d,e;1===b?(d="addClass",e=!a[c]):-1===b&&(d="removeClass",e=a[c]),e&&(s[d].length&&(s[d]+=" "),s[d]+=c)}),s}function z(a){return a instanceof t.element?a[0]:a}function za(a,b,c){var d=Object.create(null),e=a.getComputedStyle(b)||{};return u(c,function(a,b){var c=e[a];if(c){var k=c.charAt(0);("-"===k||"+"===k||k>=0)&&(c=Ja(c)),0===c&&(c=null),d[b]=c}}),d}function Ja(a){var b=0;return a=a.split(/\s*,\s*/),u(a,function(a){"s"==a.charAt(a.length-1)&&(a=a.substring(0,a.length-1)),a=parseFloat(a)||0,b=b?Math.max(a,b):a}),b}function la(a){return 0===a||null!=a}function Aa(a,b){var c=O,d=a+"s";return b?c+="Duration":d+=" linear all",[c,d]}function ja(a,b){var c=b?"-"+b+"s":"";return da(a,[ea,c]),[ea,c]}function ma(a,b){var c=b?"paused":"",d=V+"PlayState";return da(a,[d,c]),[d,c]}function da(a,b){a.style[b[0]]=b[1]}function Ba(){var a=Object.create(null);return{flush:function(){a=Object.create(null)},count:function(b){return(b=a[b])?b.total:0},get:function(b){return(b=a[b])&&b.value},put:function(b,c){a[b]?a[b].total++:a[b]={total:1,value:c}}}}var O,pa,V,qa,H=t.noop,ya=t.extend,G=t.element,u=t.forEach,X=t.isArray,U=t.isString,na=t.isObject,Ka=t.isUndefined,La=t.isDefined,Ca=t.isFunction,oa=t.isElement;F.ontransitionend===W&&F.onwebkittransitionend!==W?(O="WebkitTransition",pa="webkitTransitionEnd transitionend"):(O="transition",pa="transitionend"),F.onanimationend===W&&F.onwebkitanimationend!==W?(V="WebkitAnimation",qa="webkitAnimationEnd animationend"):(V="animation",qa="animationend");var ra=V+"Delay",sa=V+"Duration",ea=O+"Delay";F=O+"Duration";var Ma={transitionDuration:F,transitionDelay:ea,transitionProperty:O+"Property",animationDuration:sa,animationDelay:ra,animationIterationCount:V+"IterationCount"},Na={transitionDuration:F,transitionDelay:ea,animationDuration:sa,animationDelay:ra};t.module("ngAnimate",[]).directive("ngAnimateChildren",[function(){return function(a,b,c){a=c.ngAnimateChildren,t.isString(a)&&0===a.length?b.data("$$ngAnimateChildren",!0):c.$observe("ngAnimateChildren",function(a){b.data("$$ngAnimateChildren","on"===a||"true"===a)})}}]).factory("$$rAFMutex",["$$rAF",function(a){return function(){var b=!1;return a(function(){b=!0}),function(c){b?c():a(c)}}}]).factory("$$rAFScheduler",["$$rAF",function(a){function b(a){d.push([].concat(a)),c()}function c(){if(d.length){for(var b=[],n=0;n<d.length;n++){var h=d[n];h.shift()(),h.length&&b.push(h)}d=b,e||a(function(){e||c()})}}var e,d=[];return b.waitUntilQuiet=function(b){e&&e(),e=a(function(){e=null,b(),c()})},b}]).factory("$$AnimateRunner",["$q","$$rAFMutex",function(a,b){function c(a){this.setHost(a),this._doneCallbacks=[],this._runInAnimationFrame=b(),this._state=0}return c.chain=function(a,b){function c(){n===a.length?b(!0):a[n](function(a){!1===a?b(!1):(n++,c())})}var n=0;c()},c.all=function(a,b){function c(s){h=h&&s,++n===a.length&&b(h)}var n=0,h=!0;u(a,function(a){a.done(c)})},c.prototype={setHost:function(a){this.host=a||{}},done:function(a){2===this._state?a():this._doneCallbacks.push(a)},progress:H,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){!1===b?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},"catch":function(a){return this.getPromise()["catch"](a)},"finally":function(a){return this.getPromise()["finally"](a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(a){var b=this;0===b._state&&(b._state=1,b._runInAnimationFrame(function(){b._resolve(a)}))},_resolve:function(a){2!==this._state&&(u(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=2)}},c}]).provider("$$animateQueue",["$animateProvider",function(a){function b(a,b,c,h){return d[a].some(function(a){return a(b,c,h)})}function c(a,b){a=a||{};var c=0<(a.addClass||"").length,d=0<(a.removeClass||"").length;return b?c&&d:c||d}var d=this.rules={skip:[],cancel:[],join:[]};d.join.push(function(a,b){return!b.structural&&c(b.options)}),d.skip.push(function(a,b){return!b.structural&&!c(b.options)}),d.skip.push(function(a,b,c){return"leave"==c.event&&b.structural}),d.skip.push(function(a,b,c){return c.structural&&!b.structural}),d.cancel.push(function(a,b,c){return c.structural&&b.structural}),d.cancel.push(function(a,b,c){return 2===c.state&&b.structural}),d.cancel.push(function(a,b,c){return a=b.options,c=c.options,a.addClass&&a.addClass===c.removeClass||a.removeClass&&a.removeClass===c.addClass}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite",function(d,s,n,h,k,D,A,Z,I){function w(a,b){var c=z(a),f=[],m=l[b];return m&&u(m,function(a){a.node.contains(c)&&f.push(a.callback)}),f}function B(a,b,c,f){d(function(){u(w(b,a),function(a){a(b,c,f)})})}function r(a,S,p){function d(b,c,f,p){B(c,a,f,p),b.progress(c,f,p)}function g(b){Da(a,p),ca(a,p),p.domOperation(),l.complete(!b)}var P,E;(a=Fa(a))&&(P=z(a),E=a.parent()),p=ia(p);var l=new A;if(!P)return g(),l;X(p.addClass)&&(p.addClass=p.addClass.join(" ")),X(p.removeClass)&&(p.removeClass=p.removeClass.join(" ")),p.from&&!na(p.from)&&(p.from=null),p.to&&!na(p.to)&&(p.to=null);var e=[P.className,p.addClass,p.removeClass].join(" ");if(!v(e))return g(),l;var M=0<=["enter","move","leave"].indexOf(S),h=!x||L.get(P),e=!h&&m.get(P)||{},k=!!e.state;if(h||k&&1==e.state||(h=!ta(a,E,S)),h)return g(),l;if(M&&K(a),h={structural:M,element:a,event:S,close:g,options:p,runner:l},k){if(b("skip",a,h,e))return 2===e.state?(g(),l):(R(a,e.options,p),e.runner);if(b("cancel",a,h,e))2===e.state?e.runner.end():e.structural?e.close():R(a,h.options,e.options);else if(b("join",a,h,e)){if(2!==e.state)return S=h.event=e.event,p=R(a,e.options,h.options),l;R(a,p,{})}}else R(a,p,{});if((k=h.structural)||(k="animate"===h.event&&0<Object.keys(h.options.to||{}).length||c(h.options)),!k)return g(),C(a),l;M&&f(E);var r=(e.counter||0)+1;return h.counter=r,ga(a,1,h),s.$$postDigest(function(){var b=m.get(P),v=!b,b=b||{},e=a.parent()||[],E=0<e.length&&("animate"===b.event||b.structural||c(b.options));v||b.counter!==r||!E?(v&&(Da(a,p),ca(a,p)),(v||M&&b.event!==S)&&(p.domOperation(),l.end()),E||C(a)):(S=!b.structural&&c(b.options,!0)?"setClass":b.event,b.structural&&f(e),ga(a,2),b=D(a,S,b.options),b.done(function(b){g(!b),(b=m.get(P))&&b.counter===r&&C(z(a)),d(l,S,"close",{})}),l.setHost(b),d(l,S,"start",{}))}),l}function K(a){a=z(a).querySelectorAll("[data-ng-animate]"),u(a,function(a){var b=parseInt(a.getAttribute("data-ng-animate")),c=m.get(a);switch(b){case 2:c.runner.end();case 1:c&&m.remove(a)}})}function C(a){a=z(a),a.removeAttribute("data-ng-animate"),m.remove(a)}function E(a,b){return z(a)===z(b)}function f(a){for(a=z(a);;){if(!a||1!==a.nodeType)break;var b=m.get(a);if(b){var f=a;!b.structural&&c(b.options)&&(2===b.state&&b.runner.end(),C(f))}a=a.parentNode}}function ta(a,b,c){var v,f=c=!1,d=!1;for((a=a.data("$ngAnimatePin"))&&(b=a);b&&b.length&&(f||(f=E(b,n)),a=b[0],1===a.nodeType);){var e=m.get(a)||{};if(d||(d=e.structural||L.get(a)),(Ka(v)||!0===v)&&(a=b.data("$$ngAnimateChildren"),La(a)&&(v=a)),d&&!1===v)break;f||(f=E(b,n),f||(a=b.data("$ngAnimatePin"))&&(b=a)),c||(c=E(b,g)),b=b.parent()}return(!d||v)&&f&&c}function ga(a,b,c){c=c||{},c.state=b,a=z(a),a.setAttribute("data-ng-animate",b),c=(b=m.get(a))?ya(b,c):c,m.put(a,c)}var m=new k,L=new k,x=null,M=s.$watch(function(){return 0===Z.totalPendingRequests},function(a){a&&(M(),s.$$postDigest(function(){s.$$postDigest(function(){null===x&&(x=!0)})}))}),g=G(h[0].body),l={},P=a.classNameFilter(),v=P?function(a){return P.test(a)}:function(){return!0},Da=ha(I);return{on:function(a,b,c){b=ka(b),l[a]=l[a]||[],l[a].push({node:b,callback:c})},off:function(a,b,c){function f(a,b,c){var d=ka(b);return a.filter(function(a){return!(a.node===d&&(!c||a.callback===c))})}var d=l[a];d&&(l[a]=1===arguments.length?null:f(d,b,c))},pin:function(a,b){ua(oa(a),"element","not an element"),ua(oa(b),"parentElement","not an element"),a.data("$ngAnimatePin",b)},push:function(a,b,c,f){return c=c||{},c.domOperation=f,r(a,b,c)},enabled:function(a,b){var c=arguments.length;if(0===c)b=!!x;else if(oa(a)){var f=z(a),d=L.get(f);1===c?b=!d:(b=!!b)?d&&L.remove(f):L.put(f,!0)}else b=x=!!a;return b}}}]}]).provider("$$animation",["$animateProvider",function(){function b(a){return a.data("$$animationRunner")}var c=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$rAFScheduler",function(a,e,s,n,h){var k=[],D=ha(a),A=0,Z=0,I=[];return function(w,B,r){function K(a){a=a.hasAttribute("ng-animate-ref")?[a]:a.querySelectorAll("[ng-animate-ref]");var b=[];return u(a,function(a){var c=a.getAttribute("ng-animate-ref");c&&c.length&&b.push(a)}),b}function C(a){var b=[],c={};u(a,function(a,f){var d=z(a.element),m=0<=["enter","move"].indexOf(a.event),d=a.structural?K(d):[];if(d.length){var g=m?"to":"from";u(d,function(a){var b=a.getAttribute("ng-animate-ref");c[b]=c[b]||{},c[b][g]={animationID:f,element:G(a)}})}else b.push(a)});var f={},d={};return u(c,function(c){var g=c.from,e=c.to;if(g&&e){var l=a[g.animationID],h=a[e.animationID],x=g.animationID.toString();if(!d[x]){var B=d[x]={structural:!0,beforeStart:function(){l.beforeStart(),h.beforeStart()},close:function(){l.close(),h.close()},classes:E(l.classes,h.classes),from:l,to:h,anchors:[]};B.classes.length?b.push(B):(b.push(l),b.push(h))}d[x].anchors.push({out:g.element,"in":e.element})}else g=g?g.animationID:e.animationID,e=g.toString(),f[e]||(f[e]=!0,b.push(a[g]))}),b}function E(a,b){a=a.split(" "),b=b.split(" ");for(var c=[],f=0;f<a.length;f++){var d=a[f];if("ng-"!==d.substring(0,3))for(var g=0;g<b.length;g++)if(d===b[g]){c.push(d);break}}return c.join(" ")}function f(a){for(var b=c.length-1;b>=0;b--){var f=c[b];if(s.has(f)&&(f=s.get(f)(a)))return f}}function ta(a,c){a.from&&a.to?(b(a.from.element).setHost(c),b(a.to.element).setHost(c)):b(a.element).setHost(c)}function ga(){var a=b(w);!a||"leave"===B&&r.$$domOperationFired||a.end()}function m(b){w.off("$destroy",ga),w.removeData("$$animationRunner"),D(w,r),ca(w,r),r.domOperation(),g&&a.removeClass(w,g),w.removeClass("ng-animate"),x.complete(!b)}r=ia(r);var L=0<=["enter","move","leave"].indexOf(B),x=new n({end:function(){m()},cancel:function(){m(!0)}});if(!c.length)return m(),x;w.data("$$animationRunner",x);var M=va(w.attr("class"),va(r.addClass,r.removeClass)),g=r.tempClasses;g&&(M+=" "+g,r.tempClasses=null);var l;return L||(l=A,A+=1),k.push({element:w,classes:M,event:B,classBasedIndex:l,structural:L,options:r,beforeStart:function(){w.addClass("ng-animate"),g&&a.addClass(w,g)},close:m}),w.on("$destroy",ga),1<k.length?x:(e.$$postDigest(function(){Z=A,A=0,I.length=0;var a=[];u(k,function(c){b(c.element)&&a.push(c)}),k.length=0,u(C(a),function(a){function c(){a.beforeStart();var d,g=a.close,e=a.anchors?a.from.element||a.to.element:a.element;b(e)&&z(e).parentNode&&(e=f(a))&&(d=e.start),d?(d=d(),d.done(function(a){g(!a)}),ta(a,d)):g()}a.structural?c():(I.push({node:z(a.element),fn:c}),a.classBasedIndex===Z-1&&(I=I.sort(function(a,b){return b.node.contains(a.node)}).map(function(a){return a.fn}),h(I)))})}),x)}}]}]).provider("$animateCss",["$animateProvider",function(){var b=Ba(),c=Ba();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$document","$sniffer","$$rAFScheduler",function(a,e,s,n,h,k,D){function A(a,b){var c=a.parentNode;return(c.$$ngAnimateParentKey||(c.$$ngAnimateParentKey=++r))+"-"+a.getAttribute("class")+"-"+b}function Z(h,f,B,k){var m;return 0<b.count(B)&&(m=c.get(B),m||(f=ba(f,"-stagger"),e.addClass(h,f),m=za(a,h,k),m.animationDuration=Math.max(m.animationDuration,0),m.transitionDuration=Math.max(m.transitionDuration,0),e.removeClass(h,f),c.put(B,m))),m||{}}function I(a){C.push(a),D.waitUntilQuiet(function(){b.flush(),c.flush();for(var a=K.offsetWidth+1,d=0;d<C.length;d++)C[d](a);C.length=0})}function w(c,f,e){return f=b.get(e),f||(f=za(a,c,Ma),"infinite"===f.animationIterationCount&&(f.animationIterationCount=1)),b.put(e,f),c=f,e=c.animationDelay,f=c.transitionDelay,c.maxDelay=e&&f?Math.max(e,f):e||f,c.maxDuration=Math.max(c.animationDuration*c.animationIterationCount,c.transitionDuration),c}var B=ha(e),r=0,K=z(h).body,C=[];return function(a,c){function d(){m()}function h(){m(!0)}function m(b){K||C&&D||(K=!0,D=!1,e.removeClass(a,Y),e.removeClass(a,W),ma(g,!1),ja(g,!1),u(l,function(a){g.style[a[0]]=""}),B(a,c),ca(a,c),c.onDone&&c.onDone(),p&&p.complete(!b))}function L(a){q.blockTransition&&ja(g,a),q.blockKeyframeAnimation&&ma(g,!!a)}function x(){return p=new s({end:d,cancel:h}),m(),{$$willAnimate:!1,start:function(){return p},end:d}}function M(){function b(){if(!K){if(L(!1),u(l,function(a){g.style[a[0]]=a[1]}),B(a,c),e.addClass(a,W),q.recalculateTimingStyles){if(fa=g.className+" "+Y,$=A(g,fa),y=w(g,fa,$),Q=y.maxDelay,H=Math.max(Q,0),J=y.maxDuration,0===J)return void m();q.hasTransitions=0<y.transitionDuration,q.hasAnimations=0<y.animationDuration}if(q.applyTransitionDelay||q.applyAnimationDelay){Q="boolean"!=typeof c.delay&&la(c.delay)?parseFloat(c.delay):Q,H=Math.max(Q,0);var k;q.applyTransitionDelay&&(y.transitionDelay=Q,k=[ea,Q+"s"],l.push(k),g.style[k[0]]=k[1]),q.applyAnimationDelay&&(y.animationDelay=Q,k=[ra,Q+"s"],l.push(k),g.style[k[0]]=k[1])}if(F=1e3*H,G=1e3*J,c.easing){var r=c.easing;q.hasTransitions&&(k=O+"TimingFunction",l.push([k,r]),g.style[k]=r),q.hasAnimations&&(k=V+"TimingFunction",l.push([k,r]),g.style[k]=r)}y.transitionDuration&&p.push(pa),y.animationDuration&&p.push(qa),x=Date.now(),a.on(p.join(" "),h),n(d,F+1.5*G),xa(a,c)}}function d(){m()}function h(a){a.stopPropagation();var b=a.originalEvent||a;a=b.$manualTimeStamp||b.timeStamp||Date.now(),b=parseFloat(b.elapsedTime.toFixed(3)),Math.max(a-x,0)>=F&&b>=J&&(C=!0,m())}if(!K)if(g.parentNode){var x,p=[],k=function(a){if(C)D&&a&&(D=!1,m());else if(D=!a,y.animationDuration)if(a=ma(g,D),D)l.push(a);else{var b=l,c=b.indexOf(a);a>=0&&b.splice(c,1)}},r=U>0&&(y.transitionDuration&&0===T.transitionDuration||y.animationDuration&&0===T.animationDuration)&&Math.max(T.animationDelay,T.transitionDelay);r?n(b,Math.floor(r*U*1e3),!1):b(),t.resume=function(){k(!0)},t.pause=function(){k(!1)}}else m()}var g=z(a);if(!g||!g.parentNode)return x();c=ia(c);var K,D,C,p,t,H,F,J,G,l=[],r=a.attr("class"),v=Ea(c);if(0===c.duration||!k.animations&&!k.transitions)return x();var aa=c.event&&X(c.event)?c.event.join(" "):c.event,R="",N="";aa&&c.structural?R=ba(aa,"ng-",!0):aa&&(R=aa),c.addClass&&(N+=ba(c.addClass,"-add")),c.removeClass&&(N.length&&(N+=" "),N+=ba(c.removeClass,"-remove")),c.applyClassesEarly&&N.length&&(B(a,c),N="");var Y=[R,N].join(" ").trim(),fa=r+" "+Y,W=ba(Y,"-active"),r=v.to&&0<Object.keys(v.to).length;if(!(0<(c.keyframeStyle||"").length||r||Y))return x();var $,T;0<c.stagger?(v=parseFloat(c.stagger),T={transitionDelay:v,animationDelay:v,transitionDuration:0,animationDuration:0}):($=A(g,fa),T=Z(g,Y,$,Na)),e.addClass(a,Y),c.transitionStyle&&(v=[O,c.transitionStyle],da(g,v),l.push(v)),0<=c.duration&&(v=0<g.style[O].length,v=Aa(c.duration,v),da(g,v),l.push(v)),c.keyframeStyle&&(v=[V,c.keyframeStyle],da(g,v),l.push(v));var U=T?0<=c.staggerIndex?c.staggerIndex:b.count($):0;(aa=0===U)&&ja(g,9999);var y=w(g,fa,$),Q=y.maxDelay;H=Math.max(Q,0),J=y.maxDuration;var q={};return q.hasTransitions=0<y.transitionDuration,q.hasAnimations=0<y.animationDuration,q.hasTransitionAll=q.hasTransitions&&"all"==y.transitionProperty,q.applyTransitionDuration=r&&(q.hasTransitions&&!q.hasTransitionAll||q.hasAnimations&&!q.hasTransitions),q.applyAnimationDuration=c.duration&&q.hasAnimations,q.applyTransitionDelay=la(c.delay)&&(q.applyTransitionDuration||q.hasTransitions),q.applyAnimationDelay=la(c.delay)&&q.hasAnimations,q.recalculateTimingStyles=0<N.length,(q.applyTransitionDuration||q.applyAnimationDuration)&&(J=c.duration?parseFloat(c.duration):J,q.applyTransitionDuration&&(q.hasTransitions=!0,y.transitionDuration=J,v=0<g.style[O+"Property"].length,l.push(Aa(J,v))),q.applyAnimationDuration&&(q.hasAnimations=!0,y.animationDuration=J,l.push([sa,J+"s"]))),0!==J||q.recalculateTimingStyles?(null==c.duration&&0<y.transitionDuration&&(q.recalculateTimingStyles=q.recalculateTimingStyles||aa),F=1e3*H,G=1e3*J,c.skipBlocking||(q.blockTransition=0<y.transitionDuration,q.blockKeyframeAnimation=0<y.animationDuration&&0<T.animationDelay&&0===T.animationDuration),wa(a,c),q.blockTransition||ja(g,!1),L(J),{$$willAnimate:!0,end:d,start:function(){return K?void 0:(t={end:d,cancel:h,resume:null,pause:null},p=new s(t),I(M),p)}}):x()}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(a){a.drivers.push("$$animateCssDriver"),this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$document","$sniffer",function(a,c,d,e,s,n){function h(a){return a.replace(/\bng-\S+\b/g,"")}function k(a,b){return U(a)&&(a=a.split(" ")),U(b)&&(b=b.split(" ")),a.filter(function(a){return-1===b.indexOf(a)}).join(" ")}function D(c,e,A){function D(a){var b={},c=z(a).getBoundingClientRect();return u(["width","height","top","left"],function(a){var d=c[a];switch(a){case"top":d+=I.scrollTop;break;case"left":d+=I.scrollLeft}b[a]=Math.floor(d)+"px"}),b}function s(){var c=h(A.attr("class")||""),d=k(c,t),c=k(t,c),d=a(n,{to:D(A),addClass:"ng-anchor-in "+d,removeClass:"ng-anchor-out "+c,delay:!0});return d.$$willAnimate?d:null}function f(){n.remove(),e.removeClass("ng-animate-shim"),A.removeClass("ng-animate-shim")}var n=G(z(e).cloneNode(!0)),t=h(n.attr("class")||"");e.addClass("ng-animate-shim"),A.addClass("ng-animate-shim"),n.addClass("ng-anchor"),w.append(n);var m;if(c=function(){var c=a(n,{addClass:"ng-anchor-out",delay:!0,from:D(e)});return c.$$willAnimate?c:null}(),!c&&(m=s(),!m))return f();var L=c||m;return{start:function(){function a(){c&&c.end()}var b,c=L.start();return c.done(function(){return c=null,!m&&(m=s())?(c=m.start(),c.done(function(){c=null,f(),b.complete()}),c):(f(),void b.complete())}),b=new d({end:a,cancel:a})}}}function A(a,b,c,e){var h=t(a),f=t(b),k=[];return u(e,function(a){(a=D(c,a.out,a["in"]))&&k.push(a)}),h||f||0!==k.length?{start:function(){function a(){u(b,function(a){a.end()})}var b=[];h&&b.push(h.start()),f&&b.push(f.start()),u(k,function(a){b.push(a.start())});var c=new d({end:a,cancel:a});return d.all(b,function(a){c.complete(a)}),c}}:void 0}function t(c){var d=c.element,e=c.options||{};return c.structural?(e.structural=e.applyClassesEarly=!0,e.event=c.event,"leave"===e.event&&(e.onDone=e.domOperation)):e.event=null,c=a(d,e),c.$$willAnimate?c:null}if(!n.animations&&!n.transitions)return H;var I=z(s).body;c=z(e);var w=G(I.parentNode===c?I:c);return function(a){return a.from&&a.to?A(a.from,a.to,a.classes,a.anchors):t(a)}}]}]).provider("$$animateJs",["$animateProvider",function(a){this.$get=["$injector","$$AnimateRunner","$$rAFMutex","$$jqLite",function(b,c,d,e){function s(c){c=X(c)?c:c.split(" ");for(var d=[],e={},A=0;A<c.length;A++){var n=c[A],s=a.$$registeredAnimations[n];s&&!e[n]&&(d.push(b.get(s)),e[n]=!0)}return d}var n=ha(e);return function(a,b,d,e){function t(){e.domOperation(),n(a,e)}function z(a,b,d,e,g){switch(d){case"animate":b=[b,e.from,e.to,g];break;case"setClass":b=[b,r,K,g];break;case"addClass":b=[b,r,g];break;case"removeClass":b=[b,K,g];break;default:b=[b,g]}if(b.push(e),a=a.apply(a,b))if(Ca(a.start)&&(a=a.start()),a instanceof c)a.done(g);else if(Ca(a))return a;return H}function w(a,b,d,e,g){var f=[];return u(e,function(e){var h=e[g];h&&f.push(function(){var e,g,f=!1,l=function(a){f||(f=!0,(g||H)(a),e.complete(!a))};return e=new c({end:function(){l()},cancel:function(){l(!0)}}),g=z(h,a,b,d,function(a){l(!1===a)}),e})}),f}function B(a,b,d,e,g){var f=w(a,b,d,e,g);if(0===f.length){var h,k;"beforeSetClass"===g?(h=w(a,"removeClass",d,e,"beforeRemoveClass"),k=w(a,"addClass",d,e,"beforeAddClass")):"setClass"===g&&(h=w(a,"removeClass",d,e,"removeClass"),k=w(a,"addClass",d,e,"addClass")),h&&(f=f.concat(h)),k&&(f=f.concat(k))}return 0!==f.length?function(a){var b=[];return f.length&&u(f,function(a){b.push(a())}),b.length?c.all(b,a):a(),function(a){u(b,function(b){a?b.cancel():b.end()})}}:void 0}3===arguments.length&&na(d)&&(e=d,d=null),e=ia(e),d||(d=a.attr("class")||"",e.addClass&&(d+=" "+e.addClass),e.removeClass&&(d+=" "+e.removeClass));var E,f,r=e.addClass,K=e.removeClass,C=s(d);if(C.length){var F,G;"leave"==b?(G="leave",F="afterLeave"):(G="before"+b.charAt(0).toUpperCase()+b.substr(1),F=b),"enter"!==b&&"move"!==b&&(E=B(a,b,e,C,G)),f=B(a,b,e,C,F)}return E||f?{start:function(){function b(c){n=!0,t(),ca(a,e),g.complete(c)}var d,k=[];E&&k.push(function(a){d=E(a)}),k.length?k.push(function(a){t(),a(!0)}):t(),f&&k.push(function(a){d=f(a)});var n=!1,g=new c({end:function(){n||((d||H)(void 0),b(void 0))},cancel:function(){n||((d||H)(!0),b(!0))}});return c.chain(k,b),g}}:void 0}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(a){a.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(a,c){function d(c){return a(c.element,c.event,c.classes,c.options)}return function(a){if(!a.from||!a.to)return d(a);var b=d(a.from),n=d(a.to);return b||n?{start:function(){function a(){return function(){u(d,function(a){a.end()})}}var d=[];b&&d.push(b.start()),n&&d.push(n.start()),c.all(d,function(a){e.complete(a)});var e=new c({end:a(),cancel:a()});return e}}:void 0}}]}])}(window,window.angular),define("angularAnimate",["angular"],function(){}),function(n,h,p){function E(a){var f=[];return r(f,h.noop).chars(a),f.join("")}function g(a,f){var b,d={},c=a.split(",");for(b=0;b<c.length;b++)d[f?h.lowercase(c[b]):c[b]]=!0;return d}function F(a,f){function d(a,b,d,l){if(b=h.lowercase(b),s[b])for(;e.last()&&t[e.last()];)c("",e.last());u[b]&&e.last()==b&&c("",b),(l=v[b]||!!l)||e.push(b);var m={};d.replace(G,function(b,a,f,c,d){m[a]=q(f||c||d||"")}),f.start&&f.start(b,m,l)}function c(b,a){var d,c=0;if(a=h.lowercase(a))for(c=e.length-1;c>=0&&e[c]!=a;c--);if(c>=0){for(d=e.length-1;d>=c;d--)f.end&&f.end(e[d]);e.length=c}}"string"!=typeof a&&(a=null===a||"undefined"==typeof a?"":""+a);var b,k,l,e=[],m=a;for(e.last=function(){return e[e.length-1]};a;){if(l="",k=!0,e.last()&&w[e.last()]?(a=a.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+e.last()+"[^>]*>","i"),function(a,b){return b=b.replace(H,"$1").replace(I,"$1"),f.chars&&f.chars(q(b)),""}),c("",e.last())):(0===a.indexOf("<!--")?(b=a.indexOf("--",4),b>=0&&a.lastIndexOf("-->",b)===b&&(f.comment&&f.comment(a.substring(4,b)),a=a.substring(b+3),k=!1)):x.test(a)?(b=a.match(x))&&(a=a.replace(b[0],""),k=!1):J.test(a)?(b=a.match(y))&&(a=a.substring(b[0].length),b[0].replace(y,c),k=!1):K.test(a)&&((b=a.match(z))?(b[4]&&(a=a.substring(b[0].length),b[0].replace(z,d)),k=!1):(l+="<",a=a.substring(1))),k&&(b=a.indexOf("<"),l+=0>b?a:a.substring(0,b),a=0>b?"":a.substring(b),f.chars&&f.chars(q(l)))),a==m)throw L("badparse",a);m=a}c()}function q(a){return a?(A.innerHTML=a.replace(/</g,"&lt;"),A.textContent):""}function B(a){return a.replace(/&/g,"&amp;").replace(M,function(a){var d=a.charCodeAt(0);return a=a.charCodeAt(1),"&#"+(1024*(d-55296)+(a-56320)+65536)+";"}).replace(N,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function r(a,f){var d=!1,c=h.bind(a,a.push);return{start:function(a,k,e){a=h.lowercase(a),!d&&w[a]&&(d=a),d||!0!==C[a]||(c("<"),c(a),h.forEach(k,function(d,e){var k=h.lowercase(e),g="img"===a&&"src"===k||"background"===k;!0!==O[k]||!0===D[k]&&!f(d,g)||(c(" "),c(e),c('="'),c(B(d)),c('"'))}),c(e?"/>":">"))},end:function(a){a=h.lowercase(a),d||!0!==C[a]||(c("</"),c(a),c(">")),a==d&&(d=!1)},chars:function(a){d||c(B(a))}}}var L=h.$$minErr("$sanitize"),z=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,y=/^<\/\s*([\w:-]+)[^>]*>/,G=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,K=/^</,J=/^<\//,H=/\x3c!--(.*?)--\x3e/g,x=/<!DOCTYPE([^>]*?)>/i,I=/<!\[CDATA\[(.*?)]]\x3e/g,M=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,N=/([^\#-~| |!])/g,v=g("area,br,col,hr,img,wbr");n=g("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),p=g("rp,rt");var u=h.extend({},p,n),s=h.extend({},n,g("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),t=h.extend({},p,g("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));n=g("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use");var w=g("script,style"),C=h.extend({},v,s,t,u,n),D=g("background,cite,href,longdesc,src,usemap,xlink:href");n=g("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),p=g("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0);var O=h.extend({},D,p,n),A=document.createElement("pre");h.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(a){return function(f){var d=[];return F(f,r(d,function(c,b){return!/^unsafe/.test(a(c,b))})),d.join("")}}]}),h.module("ngSanitize").filter("linky",["$sanitize",function(a){var f=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,d=/^mailto:/i;return function(c,b){function k(a){a&&g.push(E(a))}function e(a,c){g.push("<a "),h.isDefined(b)&&g.push('target="',b,'" '),g.push('href="',a.replace(/"/g,"&quot;"),'">'),k(c),g.push("</a>")}if(!c)return c;for(var m,n,p,l=c,g=[];m=l.match(f);)n=m[0],m[2]||m[4]||(n=(m[3]?"http://":"mailto:")+n),p=m.index,k(l.substr(0,p)),e(n,m[0].replace(d,"")),l=l.substring(p+m[0].length);return k(l),a(g.join(""))}}])}(window,window.angular),define("angularSanitize",["angular"],function(){}),function(I,d,B){function D(f,q){q=q||{},d.forEach(q,function(d,h){delete q[h]});for(var h in f)!f.hasOwnProperty(h)||"$"===h.charAt(0)&&"$"===h.charAt(1)||(q[h]=f[h]);return q}var x=d.$$minErr("$resource"),C=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;d.module("ngResource",["ng"]).provider("$resource",function(){var f=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$q",function(q,h){function u(d,g){this.template=d,this.defaults=s({},f.defaults,g),this.urlParams={}}function w(y,g,l,m){function c(b,k){var c={};return k=s({},g,k),r(k,function(a,k){v(a)&&(a=a());var d;if(a&&a.charAt&&"@"==a.charAt(0)){d=b;var e=a.substr(1);if(null==e||""===e||"hasOwnProperty"===e||!C.test("."+e))throw x("badmember",e);
for(var e=e.split("."),n=0,g=e.length;g>n&&d!==B;n++){var h=e[n];d=null!==d?d[h]:B}}else d=a;c[k]=d}),c}function F(b){return b.resource}function e(b){D(b||{},this)}var G=new u(y,m);return l=s({},f.defaults.actions,l),e.prototype.toJSON=function(){var b=s({},this);return delete b.$promise,delete b.$resolved,b},r(l,function(b,k){var g=/^(POST|PUT|PATCH)$/i.test(b.method);e[k]=function(a,z,m,y){var f,l,A,n={};switch(arguments.length){case 4:A=y,l=m;case 3:case 2:if(!v(z)){n=a,f=z,l=m;break}if(v(a)){l=a,A=z;break}l=z,A=m;case 1:v(a)?l=a:g?f=a:n=a;break;case 0:break;default:throw x("badargs",arguments.length)}var u=this instanceof e,p=u?f:b.isArray?[]:new e(f),t={},w=b.interceptor&&b.interceptor.response||F,C=b.interceptor&&b.interceptor.responseError||B;return r(b,function(b,a){"params"!=a&&"isArray"!=a&&"interceptor"!=a&&(t[a]=H(b))}),g&&(t.data=f),G.setUrlParams(t,s({},c(f,b.params||{}),n),b.url),n=q(t).then(function(a){var c=a.data,g=p.$promise;if(c){if(d.isArray(c)!==!!b.isArray)throw x("badcfg",k,b.isArray?"array":"object",d.isArray(c)?"array":"object",t.method,t.url);b.isArray?(p.length=0,r(c,function(a){p.push("object"==typeof a?new e(a):a)})):(D(c,p),p.$promise=g)}return p.$resolved=!0,a.resource=p,a},function(a){return p.$resolved=!0,(A||E)(a),h.reject(a)}),n=n.then(function(a){var b=w(a);return(l||E)(b,a.headers),b},C),u?n:(p.$promise=n,p.$resolved=!1,p)},e.prototype["$"+k]=function(a,b,c){return v(a)&&(c=b,b=a,a={}),a=e[k].call(this,a,this,b,c),a.$promise||a}}),e.bind=function(b){return w(y,s({},g,b),l)},e}var E=d.noop,r=d.forEach,s=d.extend,H=d.copy,v=d.isFunction;return u.prototype={setUrlParams:function(f,g,l){var h,e,m=this,c=l||m.template,q=m.urlParams={};r(c.split(/\W/),function(b){if("hasOwnProperty"===b)throw x("badname");!/^\d+$/.test(b)&&b&&new RegExp("(^|[^\\\\]):"+b+"(\\W|$)").test(c)&&(q[b]=!0)}),c=c.replace(/\\:/g,":"),g=g||{},r(m.urlParams,function(b,k){h=g.hasOwnProperty(k)?g[k]:m.defaults[k],d.isDefined(h)&&null!==h?(e=encodeURIComponent(h).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"%20").replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+"),c=c.replace(new RegExp(":"+k+"(\\W|$)","g"),function(b,a){return e+a})):c=c.replace(new RegExp("(/?):"+k+"(\\W|$)","g"),function(b,a,c){return"/"==c.charAt(0)?c:a+c})}),m.defaults.stripTrailingSlashes&&(c=c.replace(/\/+$/,"")||"/"),c=c.replace(/\/\.(?=\w+($|\?))/,"."),f.url=c.replace(/\/\\\./,"/."),r(g,function(b,c){m.urlParams[c]||(f.params=f.params||{},f.params[c]=b)})}},w}]})}(window,window.angular),define("ngResource",["angular"],function(){}),!function(){function a(a,b,c,d,e,f){function g(d,g,h,i,k){function l(){M.resizeRequiresRefresh(t.__clientWidth,t.__clientHeight)&&q()}function m(){var a;return a={dataLength:0,width:0,height:0,resizeRequiresRefresh:function(b,c){var d=a.dataLength&&b&&c&&(b!==a.width||c!==a.height);return a.width=b,a.height=c,!!d},dataChangeRequiresRefresh:function(b){var c=b.length>0||b.length<a.dataLength;return a.dataLength=b.length,!!c}}}function n(){return z||(z=new a({afterItemsNode:L[0],containerNode:w,heightData:D,widthData:E,forceRefreshImages:!(!j(h.forceRefreshImages)||"false"===h.forceRefreshImages),keyExpression:A,renderBuffer:I,scope:d,scrollView:i.scrollView,transclude:k}))}function o(){var b,c,a=angular.element(t.__content.querySelector(".collection-repeat-after-container"));return a.length||(b=!1,c=[].filter.call(t.__content.childNodes,function(a){return ionic.DomUtil.contains(a,w)?(b=!0,!1):b}),a=angular.element('<span class="collection-repeat-after-container">'),t.options.scrollingX&&a.addClass("horizontal"),a.append(c),t.__content.appendChild(a[0])),a}function p(){J?r(J,D):D.computed=!0,K?r(K,E):E.computed=!0}function q(){var a=G.length>0;if(a&&(D.computed||E.computed)&&s(),a&&D.computed){if(D.value=F.height,!D.value)throw new Error('collection-repeat tried to compute the height of repeated elements "'+x+'", but was unable to. Please provide the "item-height" attribute. http://ionicframework.com/docs/api/directive/collectionRepeat/')}else!D.dynamic&&D.getValue&&(D.value=D.getValue());if(a&&E.computed){if(E.value=F.width,!E.value)throw new Error('collection-repeat tried to compute the width of repeated elements "'+x+'", but was unable to. Please provide the "item-width" attribute. http://ionicframework.com/docs/api/directive/collectionRepeat/')}else!E.dynamic&&E.getValue&&(E.value=E.getValue());n().refreshLayout()}function r(a,c){var d,f,g,h;if(a){try{d=b(a)}catch(e){a.trim().match(/\d+(px|%)$/)&&(a='"'+a+'"'),d=b(a)}f=a.replace(/(\'|\"|px|%)/g,"").trim(),g=f.length&&!/([a-zA-Z]|\$|:|\?)/.test(f),c.attrValue=a,g?a.indexOf("%")>-1?(h=parseFloat(d())/100,c.getValue=c===D?function(){return Math.floor(h*t.__clientHeight)}:function(){return Math.floor(h*t.__clientWidth)}):c.value=parseInt(d()):(c.dynamic=!0,c.getValue=c===D?function(a,b){var c=d(a,b);return c.charAt&&"%"===c.charAt(c.length-1)?Math.floor(parseFloat(c)/100*t.__clientHeight):parseInt(c)}:function(a,b){var c=d(a,b);return c.charAt&&"%"===c.charAt(c.length-1)?Math.floor(parseFloat(c)/100*t.__clientWidth):parseInt(c)})}}function s(){O||k(P=d.$new(),function(a){a[0].removeAttribute("collection-repeat"),O=a[0]}),P[A]=(C(d)||[])[0],e.$$phase||P.$digest(),w.appendChild(O);var a=c.getComputedStyle(O);F.width=parseInt(a.width),F.height=parseInt(a.height),w.removeChild(O)}var x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,t=i.scrollView,u=g[0],w=angular.element('<div class="collection-repeat-container">')[0];if(u.parentNode.replaceChild(w,u),t.options.scrollingX&&t.options.scrollingY)throw new Error("collection-repeat expected a parent x or y scrollView, not an xy scrollView.");if(x=h.collectionRepeat,y=x.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),!y)throw new Error("collection-repeat expected expression in form of '_item_ in _collection_[ track by _id_]' but got '"+h.collectionRepeat+"'.");A=y[1],B=y[2],C=b(B),D={},E={},F={},G=[],H=h.itemRenderBuffer||h.collectionBufferSize,I=angular.isDefined(H)?parseInt(H):v,J=h.itemHeight||h.collectionItemHeight,K=h.itemWidth||h.collectionItemWidth,L=o(),M=m(),p(),i.$element.on("scroll-resize",q),angular.element(c).on("resize",l),N=e.$on("$ionicExposeAside",ionic.animationFrameThrottle(function(){i.scrollView.resize(),l()})),f(q,0,!1),d.$watchCollection(C,function(a){if(G=a||(a=[]),!angular.isArray(a))throw new Error("collection-repeat expected an array for '"+B+"', but got a "+typeof value);d.$$postDigest(function(){n().setData(G),M.dataChangeRequiresRefresh(G)&&q()})}),d.$on("$destroy",function(){angular.element(c).off("resize",l),N(),i.$element&&i.$element.off("scroll-resize",q),O&&O.parentNode&&O.parentNode.removeChild(O),P&&P.$destroy(),P=O=null,z&&z.destroy(),z=null})}return{restrict:"A",priority:1e3,transclude:"element",$$tlb:!0,require:"^^$ionicScroll",link:g}}function b(a,b,c){var d={primaryPos:0,secondaryPos:0,primarySize:0,secondarySize:0,rowPrimarySize:0};return function(e){function f(){return g(!0)}function g(b){var c,e,f,j,k,l,m,n,o,p,q,s;if(!g.destroyed){l=ab.getScrollValue(),m=l+ab.scrollPrimarySize,ab.updateRenderRange(l,m),S=Math.max(0,S-z),T=Math.min(D.length-1,T+z);for(c in Z)(S>c||c>T)&&(f=Z[c],delete Z[c],X.push(f),f.isShown=!1);for(c=S;T>=c;c++)c>=D.length||Z[c]&&!b||(f=Z[c]||(Z[c]=X.length?X.pop():W.length?W.shift():new i),Y.push(f),f.isShown=!0,k=f.scope,k.$index=c,k[y]=D[c],k.$first=0===c,k.$last=c===D.length-1,k.$middle=!(k.$first||k.$last),k.$odd=!(k.$even=0===(1&c)),k.$$disconnected&&ionic.Utils.reconnectScope(f.scope),j=ab.getDimensions(c),(f.secondaryPos!==j.secondaryPos||f.primaryPos!==j.primaryPos)&&(f.node.style[ionic.CSS.TRANSFORM]=O.replace(M,f.primaryPos=j.primaryPos).replace(N,f.secondaryPos=j.secondaryPos)),(f.secondarySize!==j.secondarySize||f.primarySize!==j.primarySize)&&(f.node.style.cssText=f.node.style.cssText.replace(u,P.replace(M,(f.primarySize=j.primarySize)+1).replace(N,f.secondarySize=j.secondarySize))));for(T===D.length-1&&(j=ab.getDimensions(D.length-1)||d,r.style[ionic.CSS.TRANSFORM]=O.replace(M,j.primaryPos+j.primarySize).replace(N,0));X.length;)f=X.pop(),f.scope.$broadcast("$collectionRepeatLeave"),ionic.Utils.disconnectScope(f.scope),W.push(f),f.node.style[ionic.CSS.TRANSFORM]="translate3d(-9999px,-9999px,0)",f.primaryPos=f.secondaryPos=null;if(v)for(c=0,e=Y.length;e>c&&(f=Y[c]);c++)if(f.images)for(o=0,p=f.images.length;p>o&&(n=f.images[o]);o++)q=n.src,n.src=t,n.src=q;if(b)for(s=a.$$phase;Y.length;)f=Y.pop(),s||f.scope.$digest();else h()}}function h(){var b;h.running||(h.running=!0,c(function(){for(var c=a.$$phase;Y.length;)b=Y.pop(),b.isShown&&(c||b.scope.$digest());h.running=!1}))}function i(){var a=this;this.scope=A.$new(),this.id="item"+$++,C(this.scope,function(b){a.element=b,a.element.data("$$collectionRepeatItem",a),a.node=b[0],a.node.style[ionic.CSS.TRANSFORM]="translate3d(-9999px,-9999px,0)",a.node.style.cssText+=" height: 0px; width: 0px;",ionic.Utils.disconnectScope(a.scope),s.appendChild(a.node),a.images=b[0].getElementsByTagName("img")})}function j(){this.getItemPrimarySize=G,this.getItemSecondarySize=I,this.getScrollValue=function(){return Math.max(0,Math.min(B.__scrollTop-Q,B.__maxScrollTop-Q-R))},this.refreshDirection=function(){this.scrollPrimarySize=B.__clientHeight,this.scrollSecondarySize=B.__clientWidth,this.estimatedPrimarySize=p,this.estimatedSecondarySize=q,this.estimatedItemsAcross=K&&Math.floor(B.__clientWidth/q)||1}}function k(){this.getItemPrimarySize=I,this.getItemSecondarySize=G,this.getScrollValue=function(){return Math.max(0,Math.min(B.__scrollLeft-Q,B.__maxScrollLeft-Q-R))},this.refreshDirection=function(){this.scrollPrimarySize=B.__clientWidth,this.scrollSecondarySize=B.__clientHeight,this.estimatedPrimarySize=q,this.estimatedSecondarySize=p,this.estimatedItemsAcross=K&&Math.floor(B.__clientHeight/p)||1}}function l(){this.getEstimatedSecondaryPos=function(a){return a%this.estimatedItemsAcross*this.estimatedSecondarySize},this.getEstimatedPrimaryPos=function(a){return Math.floor(a/this.estimatedItemsAcross)*this.estimatedPrimarySize},this.getEstimatedIndex=function(a){return Math.floor(a/this.estimatedPrimarySize)*this.estimatedItemsAcross}}function m(){this.getEstimatedSecondaryPos=function(){return 0},this.getEstimatedPrimaryPos=function(a){return a*this.estimatedPrimarySize},this.getEstimatedIndex=function(a){return Math.floor(a/this.estimatedPrimarySize)}}function n(){this.getContentSize=function(){return this.getEstimatedPrimaryPos(D.length-1)+this.estimatedPrimarySize+Q+R};var a={};this.getDimensions=function(b){return a.primaryPos=this.getEstimatedPrimaryPos(b),a.secondaryPos=this.getEstimatedSecondaryPos(b),a.primarySize=this.estimatedPrimarySize,a.secondarySize=this.estimatedSecondarySize,a},this.updateRenderRange=function(a,b){S=Math.max(0,this.getEstimatedIndex(a)),T=Math.min(D.length-1,this.getEstimatedIndex(b)+this.estimatedItemsAcross-1),V=Math.max(0,this.getEstimatedPrimaryPos(S)),U=this.getEstimatedPrimaryPos(T)+this.estimatedPrimarySize}}function o(){function a(a){var b,f,g;for(b=Math.max(0,c);a>=b&&(g=h[b]);b++)f=h[b-1]||d,g.primarySize=e.getItemPrimarySize(b,D[b]),g.secondarySize=e.scrollSecondarySize,g.primaryPos=f.primaryPos+f.primarySize,g.secondaryPos=0}function b(a){var b,f,g;for(b=Math.max(c,0);a>=b&&(g=h[b]);b++)f=h[b-1]||d,g.secondarySize=Math.min(e.getItemSecondarySize(b,D[b]),e.scrollSecondarySize),g.secondaryPos=f.secondaryPos+f.secondarySize,0===b||g.secondaryPos+g.secondarySize>e.scrollSecondarySize?(g.secondaryPos=0,g.primarySize=e.getItemPrimarySize(b,D[b]),g.primaryPos=f.primaryPos+f.rowPrimarySize,g.rowStartIndex=b,g.rowPrimarySize=g.primarySize):(g.primarySize=e.getItemPrimarySize(b,D[b]),g.primaryPos=f.primaryPos,g.rowStartIndex=f.rowStartIndex,h[g.rowStartIndex].rowPrimarySize=g.rowPrimarySize=Math.max(h[g.rowStartIndex].rowPrimarySize,g.primarySize),g.rowPrimarySize=Math.max(g.primarySize,g.rowPrimarySize))}var c,i,j,e=this,f=ionic.debounce(_,25,!0),g=K?b:a,h=[];this.getContentSize=function(){var a=h[c]||d;return(a.primaryPos+a.primarySize||0)+this.getEstimatedPrimaryPos(D.length-c-1)+Q+R},this.onDestroy=function(){h.length=0},this.onRefreshData=function(){var a,b;for(a=h.length,b=D.length;b>a;a++)h.push({});c=-1},this.onRefreshLayout=function(){c=-1},this.getDimensions=function(a){return a=Math.min(a,D.length-1),a>c&&(a>.9*D.length?(g(D.length-1),c=D.length-1,_()):(g(a),c=a,f())),h[a]},i=-1,j=-1,this.updateRenderRange=function(a,b){var c,d,e,f;if(this.getDimensions(2*this.getEstimatedIndex(b)),-1===i||0===a)c=0;else if(a>=j)for(c=i,d=D.length;d>c&&!((e=this.getDimensions(c))&&e.primaryPos+e.rowPrimarySize>=a);c++);else for(c=i;c>=0;c--)if((e=this.getDimensions(c))&&e.primaryPos<=a){c=K?e.rowStartIndex:c;break}for(S=Math.min(Math.max(0,c),D.length-1),V=-1!==S?this.getDimensions(S).primaryPos:-1,c=S+1,d=D.length;d>c;c++)if((e=this.getDimensions(c))&&e.primaryPos+e.rowPrimarySize>b){if(K)for(f=e;d-1>c&&(e=this.getDimensions(c+1)).primaryPos===f.primaryPos;)c++;break}T=Math.min(c,D.length-1),U=-1!==T?(e=this.getDimensions(T)).primaryPos+(e.rowPrimarySize||e.primarySize):-1,j=a,i=S}}var p,q,bb,cb,db,eb,r=e.afterItemsNode,s=e.containerNode,v=e.forceRefreshImages,w=e.heightData,x=e.widthData,y=e.keyExpression,z=e.renderBuffer,A=e.scope,B=e.scrollView,C=e.transclude,D=[],E={},F=w.getValue||function(){return w.value},G=function(a,b){return E[y]=b,E.$index=a,F(A,E)},H=x.getValue||function(){return x.value},I=function(a,b){return E[y]=b,E.$index=a,H(A,E)},J=!!B.options.scrollingY,K=J?x.dynamic||x.value!==B.__clientWidth:w.dynamic||w.value!==B.__clientHeight,L=!w.dynamic&&!x.dynamic,M="PRIMARY",N="SECONDARY",O=J?"translate3d(SECONDARYpx,PRIMARYpx,0)":"translate3d(PRIMARYpx,SECONDARYpx,0)",P=J?"height: PRIMARYpx; width: SECONDARYpx;":"height: SECONDARYpx; width: PRIMARYpx;",Q=0,R=0,S=-1,T=-1,U=-1,V=-1,W=[],X=[],Y=[],Z={},$=0,_=J?function(){B.setDimensions(null,null,null,ab.getContentSize(),!0)}:function(){B.setDimensions(null,null,ab.getContentSize(),null,!0)},ab=J?new j:new k;(K?l:m).call(ab),(L?n:o).call(ab),bb=J?"getContentHeight":"getContentWidth",cb=B.options[bb],B.options[bb]=angular.bind(ab,ab.getContentSize),B.__$callback=B.__callback,B.__callback=function(a,b,c,d){var e=ab.getScrollValue();(-1===S||e+ab.scrollPrimarySize>U||V>e)&&g(),B.__$callback(a,b,c,d)},db=!1,eb=!1,this.refreshLayout=function(){var a,c,d,e,g,h,j,k,l;D.length?(p=G(0,D[0]),q=I(0,D[0])):(p=100,q=100),a=getComputedStyle(r)||{},c=r.firstElementChild&&getComputedStyle(r.firstElementChild)||{},d=r.lastElementChild&&getComputedStyle(r.lastElementChild)||{},R=(parseInt(a[J?"height":"width"])||0)+(c&&parseInt(c[J?"marginTop":"marginLeft"])||0)+(d&&parseInt(d[J?"marginBottom":"marginRight"])||0),Q=0,e=s;do Q+=e[J?"offsetTop":"offsetLeft"];while(ionic.DomUtil.contains(B.__content,e=e.offsetParent));if(g=s.previousElementSibling,h=g?b.getComputedStyle(g):{},j=parseInt(h[J?"marginBottom":"marginRight"]||0),s.style[ionic.CSS.TRANSFORM]=O.replace(M,-j).replace(N,0),Q-=j,B.__clientHeight&&B.__clientWidth||(B.__clientWidth=B.__container.clientWidth,B.__clientHeight=B.__container.clientHeight),(ab.onRefreshLayout||angular.noop)(),ab.refreshDirection(),_(),!db)for(k=Math.max(20,3*z),l=0;k>l;l++)W.push(new i);db=!0,db&&eb&&((B.__scrollLeft>B.__maxScrollLeft||B.__scrollTop>B.__maxScrollTop)&&B.resize(),f(!0))},this.setData=function(a){D=a,(ab.onRefreshData||angular.noop)(),eb=!0},this.destroy=function(){g.destroyed=!0,W.forEach(function(a){a.scope.$destroy(),a.scope=a.element=a.node=a.images=null}),W.length=Y.length=X.length=0,Z={},B.options[bb]=cb,B.__callback=B.__$callback,B.resize(),(ab.onDestroy||angular.noop)()}}}function c(a){return["$ionicGesture","$parse",function(b,c){var d=a.substr(2).toLowerCase();return function(e,f,g){var h=c(g[a]),i=function(a){e.$apply(function(){h(e,{$event:a})})},j=b.on(d,i,f);e.$on("$destroy",function(){b.off(j,d,i)})}}]}function d(a){return["$document","$timeout",function(b,c){return{restrict:"E",controller:"$ionicHeaderBar",compile:function(d){function e(b,c,d,e){a?(b.$watch(function(){return c[0].className},function(a){var c=-1===a.indexOf("ng-hide"),d=-1!==a.indexOf("bar-subheader");b.$hasHeader=c&&!d,b.$hasSubheader=c&&d,b.$emit("$ionicSubheader",b.$hasSubheader)}),b.$on("$destroy",function(){delete b.$hasHeader,delete b.$hasSubheader}),e.align(),b.$on("$ionicHeader.align",function(){ionic.requestAnimationFrame(function(){e.align()})})):(b.$watch(function(){return c[0].className},function(a){var c=-1===a.indexOf("ng-hide"),d=-1!==a.indexOf("bar-subfooter");b.$hasFooter=c&&!d,b.$hasSubfooter=c&&d}),b.$on("$destroy",function(){delete b.$hasFooter,delete b.$hasSubfooter}),b.$watch("$hasTabs",function(a){c.toggleClass("has-tabs",!!a)}),e.align(),b.$on("$ionicFooter.align",function(){ionic.requestAnimationFrame(function(){e.align()})}))}return d.addClass(a?"bar bar-header":"bar bar-footer"),c(function(){a&&b[0].getElementsByClassName("tabs-top").length&&d.addClass("has-tabs-top")}),{pre:e}}}}]}function e(a){return a.clientHeight}function f(a){a.stopPropagation()}var o,p,q,r,s,t,u,v,w,x,y,z,A,g=angular.module("ionic",["ngAnimate","ngSanitize","ui.router","ngIOS9UIWebViewPatch"]),h=angular.extend,i=angular.forEach,j=angular.isDefined,k=angular.isNumber,l=angular.isString,m=angular.element,n=angular.noop;g.factory("$ionicActionSheet",["$rootScope","$compile","$animate","$timeout","$ionicTemplateLoader","$ionicPlatform","$ionicBody","IONIC_BACK_PRIORITY",function(a,b,c,d,e,f,g,i){function j(e){function j(a){a&&/icon/.test(a)&&(k.$actionSheetHasIcon=!0)}var l,o,p,q,k=a.$new(!0);for(h(k,{cancel:n,destructiveButtonClicked:n,buttonClicked:n,$deregisterBackButton:n,buttons:[],cancelOnStateChange:!0},e||{}),l=0;l<k.buttons.length;l++)j(k.buttons[l].text);return j(k.cancelText),j(k.destructiveText),o=k.element=b('<ion-action-sheet ng-class="cssClass" buttons="buttons"></ion-action-sheet>')(k),p=m(o[0].querySelector(".action-sheet-wrapper")),q=k.cancelOnStateChange?a.$on("$stateChangeSuccess",function(){k.cancel()}):n,k.removeSheet=function(a){k.removed||(k.removed=!0,p.removeClass("action-sheet-up"),d(function(){g.removeClass("action-sheet-open")},400),k.$deregisterBackButton(),q(),c.removeClass(o,"active").then(function(){k.$destroy(),o.remove(),k.cancel.$scope=p=null,(a||n)(e.buttons)}))},k.showSheet=function(a){k.removed||(g.append(o).addClass("action-sheet-open"),c.addClass(o,"active").then(function(){k.removed||(a||n)()}),d(function(){k.removed||p.addClass("action-sheet-up")},20,!1))},k.$deregisterBackButton=f.registerBackButtonAction(function(){d(k.cancel)},i.actionSheet),k.cancel=function(){k.removeSheet(e.cancel)},k.buttonClicked=function(a){e.buttonClicked(a,e.buttons[a])===!0&&k.removeSheet()},k.destructiveButtonClicked=function(){e.destructiveButtonClicked()===!0&&k.removeSheet()},k.showSheet(),k.cancel.$scope=k,k.cancel}return{show:j}}]),m.prototype.addClass=function(a){var b,c,d,e,f,g;if(a&&"ng-scope"!=a&&"ng-isolate-scope"!=a)for(b=0;b<this.length;b++)if(e=this[b],e.setAttribute)if(a.indexOf(" ")<0&&e.classList.add)e.classList.add(a);else{for(g=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),f=a.split(" "),c=0;c<f.length;c++)d=f[c].trim(),-1===g.indexOf(" "+d+" ")&&(g+=d+" ");e.setAttribute("class",g.trim())}return this},m.prototype.removeClass=function(a){var b,c,d,e,f;if(a)for(b=0;b<this.length;b++)if(f=this[b],f.getAttribute)if(a.indexOf(" ")<0&&f.classList.remove)f.classList.remove(a);else for(d=a.split(" "),c=0;c<d.length;c++)e=d[c],f.setAttribute("class",(" "+(f.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+e.trim()+" "," ").trim());return this},g.factory("$ionicBackdrop",["$document","$timeout","$$rAF","$rootScope",function(a,b,c,d){function e(){i++,1===i&&(h.addClass("visible"),d.$broadcast("backdrop.shown"),c(function(){i>=1&&h.addClass("active")}))}function f(){1===i&&(h.removeClass("active"),d.$broadcast("backdrop.hidden"),b(function(){0===i&&h.removeClass("visible")},400,!1)),i=Math.max(0,i-1)}function g(){return h}var h=m('<div class="backdrop">'),i=0;return a[0].body.appendChild(h[0]),{retain:e,release:f,getElement:g,_element:h}}]),g.factory("$ionicBind",["$parse","$interpolate",function(a,b){var c=/^\s*([@=&])(\??)\s*(\w*)\s*$/;return function(d,e,f){i(f||{},function(f,g){var h,i,j=f.match(c)||[],k=j[3]||g,l=j[1];switch(l){case"@":if(!e[k])return;e.$observe(k,function(a){d[g]=a}),e[k]&&(d[g]=b(e[k])(d));break;case"=":if(!e[k])return;i=d.$watch(e[k],function(a){d[g]=a}),d.$on("$destroy",i);break;case"&":if(e[k]&&e[k].match(RegExp(g+"(.*?)")))throw new Error('& expression binding "'+g+'" looks like it will recursively call "'+e[k]+'" and cause a stack overflow! Please choose a different scopeName.');h=a(e[k]),d[g]=function(a){return h(d,a)}}})}}]),g.factory("$ionicBody",["$document",function(a){return{addClass:function(){for(var b=0;b<arguments.length;b++)a[0].body.classList.add(arguments[b]);return this},removeClass:function(){for(var b=0;b<arguments.length;b++)a[0].body.classList.remove(arguments[b]);return this},enableClass:function(a){var b=Array.prototype.slice.call(arguments).slice(1);return a?this.addClass.apply(this,b):this.removeClass.apply(this,b),this},append:function(b){return a[0].body.appendChild(b.length?b[0]:b),this},get:function(){return a[0].body}}}]),g.factory("$ionicClickBlock",["$document","$ionicBody","$timeout",function(a,b,c){function d(a){a.preventDefault(),a.stopPropagation()}function e(){i&&(g?g.classList.remove(j):(g=a[0].createElement("div"),g.className="click-block",b.append(g),g.addEventListener("touchstart",d),g.addEventListener("mousedown",d)),i=!1)}function f(){g&&g.classList.add(j)}var g,h,i,j="click-block-hide";return{show:function(a){i=!0,c.cancel(h),h=c(this.hide,a||310,!1),e()},hide:function(){i=!1,c.cancel(h),f()}}}]),g.factory("$ionicGesture",[function(){return{on:function(a,b,c,d){return window.ionic.onGesture(a,b,c[0],d)},off:function(a,b,c){return window.ionic.offGesture(a,b,c)}}}]),g.factory("$ionicHistory",["$rootScope","$state","$location","$window","$timeout","$ionicViewSwitcher","$ionicNavViewDelegate",function(a,b,c,d,e,f,g){function i(a){return a?K.views[a]:null}function k(a){return a?i(a.backViewId):null}function l(a){return a?i(a.forwardViewId):null}function m(a){return a?K.histories[a]:null}function n(a){var b=o(a);return K.histories[b.historyId]||(K.histories[b.historyId]={historyId:b.historyId,parentHistoryId:o(b.scope.$parent).historyId,stack:[],cursor:-1}),m(b.historyId)}function o(b){for(var c=b;c;){if(c.hasOwnProperty("$historyId"))return{historyId:c.$historyId,scope:c};c=c.$parent}return{historyId:"root",scope:a}}function p(a){K.currentView=i(a),K.backView=k(K.currentView),K.forwardView=l(K.currentView)}function q(){var a,c;if(b&&b.current&&b.current.name){if(a=b.current.name,b.params)for(c in b.params)b.params.hasOwnProperty(c)&&b.params[c]&&(a+="_"+c+"="+b.params[c]);return a}return ionic.Utils.nextUid()}function r(){var a,c;if(b&&b.params)for(c in b.params)b.params.hasOwnProperty(c)&&(a=a||{},a[c]=b.params[c]);return a}function s(a){return a&&a.length&&/ion-side-menus|ion-tabs/i.test(a[0].tagName)}function t(a,b){return b&&b.$$state&&b.$$state.self.canSwipeBack===!1?!1:a&&"false"===a.attr("can-swipe-back")?!1:!0}var u,v,w,x,y,z="initialView",A="newView",B="moveBack",C="moveForward",D="back",E="forward",F="enter",G="exit",H="swap",I="none",J=0,K={histories:{root:{historyId:"root",parentHistoryId:null,stack:[],cursor:-1}},views:{},backView:null,forwardView:null,currentView:null},L=function(){};return L.prototype.initialize=function(a){if(a){for(var b in a)this[b]=a[b];return this}return null},L.prototype.go=function(){if(this.stateName)return b.go(this.stateName,this.stateParams);if(this.url&&this.url!==c.url()){if(K.backView===this)return d.history.go(-1);if(K.forwardView===this)return d.history.go(1);c.url(this.url)}return null},L.prototype.destroy=function(){this.scope&&(this.scope.$destroy&&this.scope.$destroy(),this.scope=null)},{register:function(a,b){var d,g,h,S,T,j=q(),l=n(a),s=K.currentView,L=K.backView,M=K.forwardView,N=null,O=null,P=I,Q=l.historyId,R=c.url();if(u!==j&&(u=j,J++),y)N=y.viewId,O=y.action,P=y.direction,y=null;else if(L&&L.stateId===j)N=L.viewId,Q=L.historyId,O=B,L.historyId===s.historyId?P=D:s&&(P=G,d=m(L.historyId),d&&d.parentHistoryId===s.historyId?P=F:(d=m(s.historyId),d&&d.parentHistoryId===l.parentHistoryId&&(P=H)));else if(M&&M.stateId===j)N=M.viewId,Q=M.historyId,O=C,M.historyId===s.historyId?P=E:s&&(P=G,s.historyId===l.parentHistoryId?P=F:(d=m(s.historyId),d&&d.parentHistoryId===l.parentHistoryId&&(P=H))),d=o(a),M.historyId&&d.scope&&(d.scope.$historyId=M.historyId,Q=M.historyId);else if(s&&s.historyId!==Q&&l.cursor>-1&&l.stack.length>0&&l.cursor<l.stack.length&&l.stack[l.cursor].stateId===j)S=l.stack[l.cursor],N=S.viewId,Q=S.historyId,O=B,P=H,d=m(s.historyId),d&&d.parentHistoryId===Q?P=G:(d=m(Q),d&&d.parentHistoryId===s.historyId&&(P=F)),d=i(S.backViewId),d&&S.historyId!==d.historyId&&(l.stack[l.cursor].backViewId=s.viewId);else{if(h=f.createViewEle(b),this.isAbstractEle(h,b))return{action:"abstractView",direction:I,ele:h};if(N=ionic.Utils.nextUid(),s){if(s.forwardViewId=N,O=A,M&&s.stateId!==M.stateId&&s.historyId===M.historyId&&(d=m(M.historyId))){for(g=d.stack.length-1;g>=M.index;g--)T=d.stack[g],T&&T.destroy&&T.destroy(),d.stack.splice(g);Q=M.historyId}l.historyId===s.historyId?P=E:s.historyId!==l.historyId&&(P=F,d=m(s.historyId),d&&d.parentHistoryId===l.parentHistoryId?P=H:(d=m(d.parentHistoryId),d&&d.historyId===l.historyId&&(P=G)))}else O=z;2>J&&(P=I),K.views[N]=this.createView({viewId:N,index:l.stack.length,historyId:l.historyId,backViewId:s&&s.viewId?s.viewId:null,forwardViewId:null,stateId:j,stateName:this.currentStateName(),stateParams:r(),url:R,canSwipeBack:t(h,b)}),l.stack.push(K.views[N])}if(w&&w(),e.cancel(x),v){if(v.disableAnimate&&(P=I),v.disableBack&&(K.views[N].backViewId=null),v.historyRoot){for(g=0;g<l.stack.length;g++)l.stack[g].viewId===N?(l.stack[g].index=0,l.stack[g].backViewId=l.stack[g].forwardViewId=null):delete K.views[l.stack[g].viewId];l.stack=[K.views[N]]}v=null}if(p(N),K.backView&&Q==K.backView.historyId&&j==K.backView.stateId&&R==K.backView.url)for(g=0;g<l.stack.length;g++)if(l.stack[g].viewId==N){O="dupNav",P=I,g>0&&(l.stack[g-1].forwardViewId=null),K.forwardView=null,K.currentView.index=K.backView.index,K.currentView.backViewId=K.backView.backViewId,K.backView=k(K.backView),l.stack.splice(g,1);break}return l.cursor=K.currentView.index,{viewId:N,action:O,direction:P,historyId:Q,enableBack:this.enabledBack(K.currentView),isHistoryRoot:0===K.currentView.index,ele:h}},registerHistory:function(a){a.$historyId=ionic.Utils.nextUid()},createView:function(a){var b=new L;return b.initialize(a)},getViewById:i,viewHistory:function(){return K},currentView:function(a){return arguments.length&&(K.currentView=a),K.currentView},currentHistoryId:function(){return K.currentView?K.currentView.historyId:null},currentTitle:function(a){return K.currentView?(arguments.length&&(K.currentView.title=a),K.currentView.title):void 0},backView:function(a){return arguments.length&&(K.backView=a),K.backView},backTitle:function(a){var b=a&&i(a.backViewId)||K.backView;return b&&b.title},forwardView:function(a){return arguments.length&&(K.forwardView=a),K.forwardView},currentStateName:function(){return b&&b.current?b.current.name:null},isCurrentStateNavView:function(a){return!!(b&&b.current&&b.current.views&&b.current.views[a])},goToHistoryRoot:function(a){if(a){var b=m(a);if(b&&b.stack.length){if(K.currentView&&K.currentView.viewId===b.stack[0].viewId)return;y={viewId:b.stack[0].viewId,action:B,direction:D},b.stack[0].go()}}},goBack:function(a){var b,c,d,f,g,h;if(j(a)&&-1!==a){if(a>-1)return;for(b=K.histories[this.currentHistoryId()],c=b.cursor+a+1,1>c&&(c=1),b.cursor=c,p(b.stack[c].viewId),d=c-1,f=[],g=i(b.stack[d].forwardViewId);g&&(f.push(g.stateId||g.viewId),d++,!(d>=b.stack.length));)g=i(b.stack[d].forwardViewId);h=this,f.length&&e(function(){h.clearCache(f)},600)}K.backView&&K.backView.go()},enabledBack:function(a){var b=k(a);return!(!b||b.historyId!==a.historyId)},clearHistory:function(){var c,d,a=K.histories,b=K.currentView;if(a)for(c in a)a[c].stack&&(a[c].stack=[],a[c].cursor=-1),b&&b.historyId===c?(b.backViewId=b.forwardViewId=null,a[c].stack.push(b)):a[c].destroy&&a[c].destroy();for(d in K.views)d!==b.viewId&&delete K.views[d];b&&p(b.viewId)},clearCache:function(a){return e(function(){g._instances.forEach(function(b){b.clearCache(a)})})},nextViewOptions:function(b){return w&&w(),arguments.length&&(e.cancel(x),null===b?v=b:(v=v||{},h(v,b),v.expire&&(w=a.$on("$stateChangeSuccess",function(){x=e(function(){v=null},v.expire)})))),v},isAbstractEle:function(a,b){return b&&b.$$state&&b.$$state.self["abstract"]?!0:!(!a||!s(a)&&!s(a.children()))},isActiveScope:function(a){if(!a)return!1;for(var b,c=a,d=this.currentHistoryId();c;){if(c.$$disconnected)return!1;if(!b&&c.hasOwnProperty("$historyId")&&(b=!0),d){if(c.hasOwnProperty("$historyId")&&d==c.$historyId)return!0;if(c.hasOwnProperty("$activeHistoryId")&&d==c.$activeHistoryId){if(c.hasOwnProperty("$historyId"))return!0;if(!b)return!0}}b&&c.hasOwnProperty("$activeHistoryId")&&(b=!1),c=c.$parent}return d?"root"==d:!0}}}]).run(["$rootScope","$state","$location","$document","$ionicPlatform","$ionicHistory","IONIC_BACK_PRIORITY",function(a,b,c,d,e,f,g){function h(a){var b=f.backView();return b?b.go():ionic.Platform.exitApp(),a.preventDefault(),!1}a.$on("$ionicView.beforeEnter",function(){ionic.keyboard&&ionic.keyboard.hide&&ionic.keyboard.hide()}),a.$on("$ionicHistory.change",function(a,d){var e,g,h;return d?(e=f.viewHistory(),g=d.historyId?e.histories[d.historyId]:null,g&&g.cursor>-1&&g.cursor<g.stack.length?(h=g.stack[g.cursor],h.go(d)):(!d.url&&d.uiSref&&(d.url=b.href(d.uiSref)),void(d.url&&(0===d.url.indexOf("#")&&(d.url=d.url.replace("#","")),d.url!==c.url()&&c.url(d.url))))):null}),a.$ionicGoBack=function(a){f.goBack(a)},a.$on("$ionicView.afterEnter",function(a,b){b&&b.title&&(d[0].title=b.title)}),e.registerBackButtonAction(h,g.view)}]),g.provider("$ionicConfig",function(){function a(a,d){g.platform[a]=d,e.platform[a]={},b(g,g.platform[a]),c(g.platform[a],e.platform[a],"")}function b(a,c){for(var d in a)d!=f&&a.hasOwnProperty(d)&&(angular.isObject(a[d])?(j(c[d])||(c[d]={}),b(a[d],c[d])):j(c[d])||(c[d]=null))}function c(a,b,e){i(a,function(h,i){angular.isObject(a[i])?(b[i]={},c(a[i],b[i],e+"."+i)):b[i]=function(c){if(arguments.length)return a[i]=c,b;if(a[i]==f){var h=d(g.platform,ionic.Platform.platform()+e+"."+i);return h||h===!1?h:d(g.platform,"default"+e+"."+i)}return a[i]}})}function d(a,b){b=b.split(".");for(var c=0;c<b.length;c++){if(!a||!j(a[b[c]]))return null;a=a[b[c]]}return a}var f,g,e=this;e.platform={},f="platform",g={views:{maxCache:f,forwardCache:f,transition:f,swipeBackEnabled:f,swipeBackHitWidth:f},navBar:{alignTitle:f,positionPrimaryButtons:f,positionSecondaryButtons:f,transition:f},backButton:{icon:f,text:f,previousTitleText:f},form:{checkbox:f,toggle:f},scrolling:{jsScrolling:f},spinner:{icon:f},tabs:{style:f,position:f},templates:{maxPrefetch:f},platform:{}},c(g,e,""),a("default",{views:{maxCache:10,forwardCache:!1,transition:"ios",swipeBackEnabled:!0,swipeBackHitWidth:45},navBar:{alignTitle:"center",positionPrimaryButtons:"left",positionSecondaryButtons:"right",transition:"view"},backButton:{icon:"ion-ios-arrow-back",text:"Back",previousTitleText:!0},form:{checkbox:"circle",toggle:"large"},scrolling:{jsScrolling:!0},spinner:{icon:"ios"},tabs:{style:"standard",position:"bottom"},templates:{maxPrefetch:30}}),a("ios",{}),a("android",{views:{transition:"android",swipeBackEnabled:!1},navBar:{alignTitle:"left",positionPrimaryButtons:"right",positionSecondaryButtons:"right"},backButton:{icon:"ion-android-arrow-back",text:!1,previousTitleText:!1},form:{checkbox:"square",toggle:"small"},spinner:{icon:"android"},tabs:{style:"striped",position:"top"},scrolling:{jsScrolling:!1}}),a("windowsphone",{spinner:{icon:"android"}}),e.transitions={views:{},navBar:{}},e.transitions.views.ios=function(a,b,c,d){function e(a,b,c,d){var e={};
e[ionic.CSS.TRANSITION_DURATION]=f.shouldAnimate?"":0,e.opacity=b,d>-1&&(e.boxShadow="0 0 10px rgba(0,0,0,"+(f.shouldAnimate?.45*d:.3)+")"),e[ionic.CSS.TRANSFORM]="translate3d("+c+"%,0,0)",ionic.DomUtil.cachedStyles(a,e)}var f={run:function(d){"forward"==c?(e(a,1,99*(1-d),1-d),e(b,1-.1*d,-33*d,-1)):"back"==c?(e(a,1-.1*(1-d),-33*(1-d),-1),e(b,1,100*d,1-d)):(e(a,1,0,-1),e(b,0,0,-1))},shouldAnimate:d&&("forward"==c||"back"==c)};return f},e.transitions.navBar.ios=function(a,b,c,d){function e(a,b,c,d){var e={};e[ionic.CSS.TRANSITION_DURATION]=h.shouldAnimate?"":"0ms",e.opacity=1===b?"":b,a.setCss("buttons-left",e),a.setCss("buttons-right",e),a.setCss("back-button",e),e[ionic.CSS.TRANSFORM]="translate3d("+d+"px,0,0)",a.setCss("back-text",e),e[ionic.CSS.TRANSFORM]="translate3d("+c+"px,0,0)",a.setCss("title",e)}function f(a,b,c){if(a&&b){var d=(a.titleTextX()+a.titleWidth())*(1-c),f=b&&(b.titleTextX()-a.backButtonTextLeft())*(1-c)||0;e(a,c,d,f)}}function g(a,b,c){if(a&&b){var d=(-(a.titleTextX()-b.backButtonTextLeft())-a.titleLeftRight())*c;e(a,1-c,d,0)}}var h={run:function(c){var d=a.controller(),e=b&&b.controller();"back"==h.direction?(g(d,e,1-c),f(e,d,1-c)):(f(d,e,c),g(e,d,c))},direction:c,shouldAnimate:d&&("forward"==c||"back"==c)};return h},e.transitions.views.android=function(a,b,c,d){function e(a,b){var c={};c[ionic.CSS.TRANSITION_DURATION]=f.shouldAnimate?"":0,c[ionic.CSS.TRANSFORM]="translate3d("+b+"%,0,0)",ionic.DomUtil.cachedStyles(a,c)}d=d&&("forward"==c||"back"==c);var f={run:function(d){"forward"==c?(e(a,99*(1-d)),e(b,-100*d)):"back"==c?(e(a,-100*(1-d)),e(b,100*d)):(e(a,0),e(b,0))},shouldAnimate:d};return f},e.transitions.navBar.android=function(a,b,c,d){function e(a,b){if(a){var c={};c.opacity=1===b?"":b,a.setCss("buttons-left",c),a.setCss("buttons-right",c),a.setCss("back-button",c),a.setCss("back-text",c),a.setCss("title",c)}}return{run:function(c){e(a.controller(),c),e(b&&b.controller(),1-c)},shouldAnimate:d&&("forward"==c||"back"==c)}},e.transitions.views.none=function(a,b){return{run:function(c){e.transitions.views.android(a,b,!1,!1).run(c)},shouldAnimate:!1}},e.transitions.navBar.none=function(a,b){return{run:function(c){e.transitions.navBar.ios(a,b,!1,!1).run(c),e.transitions.navBar.android(a,b,!1,!1).run(c)},shouldAnimate:!1}},e.setPlatformConfig=a,e.$get=function(){return e}}).config(["$compileProvider",function(a){a.aHrefSanitizationWhitelist(/^\s*(https?|sms|tel|geo|ftp|mailto|file|ghttps?|ms-appx-web|ms-appx|x-wmapp0):/),a.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|file|content|blob|ms-appx|ms-appx-web|x-wmapp0):|data:image\//)}]),o='<div class="loading-container"><div class="loading"></div></div>',p="$ionicLoading instance.hide() has been deprecated. Use $ionicLoading.hide().",q="$ionicLoading instance.show() has been deprecated. Use $ionicLoading.show().",r="$ionicLoading instance.setContent() has been deprecated. Use $ionicLoading.show({ template: 'my content' }).",g.constant("$ionicLoadingConfig",{template:"<ion-spinner></ion-spinner>"}).factory("$ionicLoading",["$ionicLoadingConfig","$ionicBody","$ionicTemplateLoader","$ionicBackdrop","$timeout","$q","$log","$compile","$ionicPlatform","$rootScope","IONIC_BACK_PRIORITY",function(a,b,c,d,e,f,g,i,j,k,l){function m(){return u||(u=c.compile({template:o,appendTo:b.get()}).then(function(a){return a.show=function(g){var h=g.templateUrl?c.load(g.templateUrl):f.when(g.template||g.content||"");a.scope=g.scope||a.scope,a.isShown||(a.hasBackdrop=!g.noBackdrop&&g.showBackdrop!==!1,a.hasBackdrop&&(d.retain(),d.getElement().addClass("backdrop-loading"))),g.duration&&(e.cancel(a.durationTimeout),a.durationTimeout=e(angular.bind(a,a.hide),+g.duration)),v(),v=j.registerBackButtonAction(n,l.loading),h.then(function(c){if(c){var d=a.element.children();d.html(c),i(d.contents())(a.scope)}a.isShown&&(a.element.addClass("visible"),ionic.requestAnimationFrame(function(){a.isShown&&(a.element.addClass("active"),b.addClass("loading-active"))}))}),a.isShown=!0},a.hide=function(){v(),a.isShown&&(a.hasBackdrop&&(d.release(),d.getElement().removeClass("backdrop-loading")),a.element.removeClass("active"),b.removeClass("loading-active"),a.element.removeClass("visible"),ionic.requestAnimationFrame(function(){!a.isShown&&a.element.removeClass("visible")})),e.cancel(a.durationTimeout),a.isShown=!1;var c=a.element.children();c.html("")},a})),u}function s(b){b=h({},a||{},b||{});var c=b.delay||b.showDelay||0;return w(),x(),b.hideOnStateChange&&(w=k.$on("$stateChangeSuccess",t),x=k.$on("$stateChangeError",t)),e.cancel(y),y=e(n,c),y.then(m).then(function(a){return a.show(b)}),{hide:function(){return g.error(p),t.apply(this,arguments)},show:function(){return g.error(q),s.apply(this,arguments)},setContent:function(a){return g.error(r),m().then(function(b){b.show({template:a})})}}}function t(){w(),x(),e.cancel(y),m().then(function(a){a.hide()})}var u,v=n,w=n,x=n,y=f.when();return{show:s,hide:t,_getLoader:m}}]),g.factory("$ionicModal",["$rootScope","$ionicBody","$compile","$timeout","$ionicPlatform","$ionicTemplateLoader","$$q","$log","$ionicClickBlock","$window","IONIC_BACK_PRIORITY",function(a,b,c,d,e,f,g,i,j,k,l){var o=ionic.views.Modal.inherit({initialize:function(a){ionic.views.Modal.prototype.initialize.call(this,a),this.animation=a.animation||"slide-in-up"},show:function(a){var f,h,c=this;return c.scope.$$destroyed?(i.error("Cannot call "+c.viewType+".show() after remove(). Please create a new "+c.viewType+" instance."),g.when()):(j.show(600),r.add(c),f=m(c.modalEl),c.el.classList.remove("hide"),d(function(){c._isShown&&b.addClass(c.viewType+"-open")},400,!1),c.el.parentElement||(f.addClass(c.animation),b.append(c.el)),h=f.data("$$ionicScrollController"),h&&h.resize(),a&&c.positionView&&(c.positionView(a,f),c._onWindowResize=function(){c._isShown&&c.positionView(a,f)},ionic.on("resize",c._onWindowResize,window)),f.addClass("ng-enter active").removeClass("ng-leave ng-leave-active"),c._isShown=!0,c._deregisterBackButton=e.registerBackButtonAction(c.hardwareBackButtonClose?angular.bind(c,c.hide):n,l.modal),ionic.views.Modal.prototype.show.call(c),d(function(){c._isShown&&(f.addClass("ng-enter-active"),ionic.trigger("resize"),c.scope.$parent&&c.scope.$parent.$broadcast(c.viewType+".shown",c),c.el.classList.add("active"),c.scope.$broadcast("$ionicHeader.align"),c.scope.$broadcast("$ionicFooter.align"))},20),d(function(){c._isShown&&(c.$el.on("touchmove",function(a){var b=ionic.DomUtil.getParentOrSelfWithClass(a.target,"scroll");b||a.preventDefault()}),c.$el.on("click",function(a){c.backdropClickToClose&&a.target===c.el&&r.isHighest(c)&&c.hide()}))},400))},hide:function(){var a=this,c=m(a.modalEl);return j.show(600),r.remove(a),a.el.classList.remove("active"),c.addClass("ng-leave"),d(function(){a._isShown||c.addClass("ng-leave-active").removeClass("ng-enter ng-enter-active active")},20,!1),a.$el.off("click"),a._isShown=!1,a.scope.$parent&&a.scope.$parent.$broadcast(a.viewType+".hidden",a),a._deregisterBackButton&&a._deregisterBackButton(),ionic.views.Modal.prototype.hide.call(a),a.positionView&&ionic.off("resize",a._onWindowResize,window),d(function(){b.removeClass(a.viewType+"-open"),a.el.classList.add("hide")},a.hideDelay||320)},remove:function(){var a=this;return a.scope.$parent&&a.scope.$parent.$broadcast(a.viewType+".removed",a),a.hide().then(function(){a.scope.$destroy(),a.$el.remove()})},isShown:function(){return!!this._isShown}}),p=function(b,d){var f,g,e=d.scope&&d.scope.$new()||a.$new(!0);return d.viewType=d.viewType||"modal",h(e,{$hasHeader:!1,$hasSubheader:!1,$hasFooter:!1,$hasSubfooter:!1,$hasTabs:!1,$hasTabsTop:!1}),f=c("<ion-"+d.viewType+">"+b+"</ion-"+d.viewType+">")(e),d.$el=f,d.el=f[0],d.modalEl=d.el.querySelector("."+d.viewType),g=new o(d),g.scope=e,d.scope||(e[d.viewType]=g),g},q=[],r={add:function(a){q.push(a)},remove:function(a){var b=q.indexOf(a);b>-1&&b<q.length&&q.splice(b,1)},isHighest:function(a){var b=q.indexOf(a);return b>-1&&b===q.length-1}};return{fromTemplate:function(a,b){var c=p(a,b||{});return c},fromTemplateUrl:function(a,b,c){var d;return angular.isFunction(b)&&(d=b,b=c),f.load(a).then(function(a){var c=p(a,b||{});return d&&d(c),c})},stack:r}}]),g.service("$ionicNavBarDelegate",ionic.DelegateService(["align","showBackButton","showBar","title","changeTitle","setTitle","getTitle","back","getPreviousTitle"])),g.service("$ionicNavViewDelegate",ionic.DelegateService(["clearCache"])),g.constant("IONIC_BACK_PRIORITY",{view:100,sideMenu:150,modal:200,actionSheet:300,popup:400,loading:500}).provider("$ionicPlatform",function(){return{$get:["$q","$ionicScrollDelegate",function(a,b){var c={onHardwareBackButton:function(a){ionic.Platform.ready(function(){document.addEventListener("backbutton",a,!1)})},offHardwareBackButton:function(a){ionic.Platform.ready(function(){document.removeEventListener("backbutton",a)})},$backButtonActions:{},registerBackButtonAction:function(a,b,d){c._hasBackButtonHandler||(c.$backButtonActions={},c.onHardwareBackButton(c.hardwareBackButtonClick),c._hasBackButtonHandler=!0);var e={id:d?d:ionic.Utils.nextUid(),priority:b?b:0,fn:a};return c.$backButtonActions[e.id]=e,function(){delete c.$backButtonActions[e.id]}},hardwareBackButtonClick:function(a){var b,d;for(d in c.$backButtonActions)(!b||c.$backButtonActions[d].priority>=b.priority)&&(b=c.$backButtonActions[d]);return b?(b.fn(a),b):void 0},is:function(a){return ionic.Platform.is(a)},on:function(a,b){return ionic.Platform.ready(function(){document.addEventListener(a,b,!1)}),function(){ionic.Platform.ready(function(){document.removeEventListener(a,b)})}},ready:function(b){var c=a.defer();return ionic.Platform.ready(function(){c.resolve(),b&&b()}),c.promise}};return window.addEventListener("statusTap",function(){b.scrollTop(!0)}),c}]}}),g.factory("$ionicPopover",["$ionicModal","$ionicPosition","$document","$window",function(a,b,c,d){function e(a,c){var e=m(a.target||a),g=b.offset(e),h=c.prop("offsetWidth"),i=c.prop("offsetHeight"),j=d.innerWidth,k=d.innerHeight,l={left:g.left+g.width/2-h/2},n=m(c[0].querySelector(".popover-arrow"));l.left<f?l.left=f:l.left+h+f>j&&(l.left=j-h-f),g.top+g.height+i>k&&g.top-i>0?(l.top=g.top-i,c.addClass("popover-bottom")):(l.top=g.top+g.height,c.removeClass("popover-bottom")),n.css({left:g.left+g.width/2-n.prop("offsetWidth")/2-l.left+"px"}),c.css({top:l.top+"px",left:l.left+"px",marginLeft:"0",opacity:"1"})}var f=6,g={viewType:"popover",hideDelay:1,animation:"none",positionView:e};return{fromTemplate:function(b,c){return a.fromTemplate(b,ionic.Utils.extend({},g,c))},fromTemplateUrl:function(b,c){return a.fromTemplateUrl(b,ionic.Utils.extend({},g,c))}}}]),s='<div class="popup-container" ng-class="cssClass"><div class="popup"><div class="popup-head"><h3 class="popup-title" ng-bind-html="title"></h3><h5 class="popup-sub-title" ng-bind-html="subTitle" ng-if="subTitle"></h5></div><div class="popup-body"></div><div class="popup-buttons" ng-show="buttons.length"><button ng-repeat="button in buttons" ng-click="$buttonTapped(button, $event)" class="button" ng-class="button.type || \'button-default\'" ng-bind-html="button.text"></button></div></div></div>',g.factory("$ionicPopup",["$ionicTemplateLoader","$ionicBackdrop","$q","$timeout","$rootScope","$ionicBody","$compile","$ionicPlatform","$ionicModal","IONIC_BACK_PRIORITY",function(a,b,c,d,e,f,g,i,j,k){function l(b){b=h({scope:null,title:"",buttons:[]},b||{});var i={};return i.scope=(b.scope||e).$new(),i.element=m(s),i.responseDeferred=c.defer(),f.get().appendChild(i.element[0]),g(i.element)(i.scope),h(i.scope,{title:b.title,buttons:b.buttons,subTitle:b.subTitle,cssClass:b.cssClass,$buttonTapped:function(a,b){var c=(a.onTap||n).apply(i,[b]);b=b.originalEvent||b,b.defaultPrevented||i.responseDeferred.resolve(c)}}),c.when(b.templateUrl?a.load(b.templateUrl):b.template||b.content||"").then(function(a){var b=m(i.element[0].querySelector(".popup-body"));a?(b.html(a),g(b.contents())(i.scope)):b.remove()}),i.show=function(){i.isShown||i.removed||(j.stack.add(i),i.isShown=!0,ionic.requestAnimationFrame(function(){i.isShown&&(i.element.removeClass("popup-hidden"),i.element.addClass("popup-showing active"),q(i.element))}))},i.hide=function(a){return a=a||n,i.isShown?(j.stack.remove(i),i.isShown=!1,i.element.removeClass("active"),i.element.addClass("popup-hidden"),void d(a,250,!1)):a()},i.remove=function(){i.removed||(i.hide(function(){i.element.remove(),i.scope.$destroy()}),i.removed=!0)},i}function o(){var a=w[w.length-1];a&&a.responseDeferred.resolve()}function p(a){function c(){w.push(e),d(e.show,g,!1),e.responseDeferred.promise.then(function(a){var c=w.indexOf(e);return-1!==c&&w.splice(c,1),e.remove(),w.length>0?w[w.length-1].show():(b.release(),d(function(){w.length||f.removeClass("popup-open")},400,!1),(x._backButtonActionDone||n)()),a})}var e=x._createPopup(a),g=0;return w.length>0?(g=v.stackPushDelay,d(w[w.length-1].hide,g,!1)):(f.addClass("popup-open"),b.retain(),x._backButtonActionDone=i.registerBackButtonAction(o,k.popup)),e.responseDeferred.promise.close=function(a){e.removed||e.responseDeferred.resolve(a)},e.responseDeferred.notify({close:e.responseDeferred.close}),c(),e.responseDeferred.promise}function q(a){var b=a[0].querySelector("[autofocus]");b&&b.focus()}function r(a){return p(h({buttons:[{text:a.okText||"OK",type:a.okType||"button-positive",onTap:function(){return!0}}]},a||{}))}function t(a){return p(h({buttons:[{text:a.cancelText||"Cancel",type:a.cancelType||"button-default",onTap:function(){return!1}},{text:a.okText||"OK",type:a.okType||"button-positive",onTap:function(){return!0}}]},a||{}))}function u(a){var c,b=e.$new(!0);return b.data={},b.data.fieldtype=a.inputType?a.inputType:"text",b.data.response=a.defaultText?a.defaultText:"",b.data.placeholder=a.inputPlaceholder?a.inputPlaceholder:"",b.data.maxlength=a.maxLength?parseInt(a.maxLength):"",c="",a.template&&/<[a-z][\s\S]*>/i.test(a.template)===!1&&(c="<span>"+a.template+"</span>",delete a.template),p(h({template:c+'<input ng-model="data.response" type="{{ data.fieldtype }}"maxlength="{{ data.maxlength }}"placeholder="{{ data.placeholder }}">',scope:b,buttons:[{text:a.cancelText||"Cancel",type:a.cancelType||"button-default",onTap:function(){}},{text:a.okText||"OK",type:a.okType||"button-positive",onTap:function(){return b.data.response||""}}]},a||{}))}var v={stackPushDelay:75},w=[],x={show:p,alert:r,confirm:t,prompt:u,_createPopup:l,_popupStack:w};return x}]),g.factory("$ionicPosition",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var g,c=this.offset(b),d={top:0,left:0},f=e(b[0]);return f!=a[0]&&(d=this.offset(m(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft),g=b[0].getBoundingClientRect(),{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}}}}]),g.service("$ionicScrollDelegate",ionic.DelegateService(["resize","scrollTop","scrollBottom","scrollTo","scrollBy","zoomTo","zoomBy","getScrollPosition","anchorScroll","freezeScroll","freezeAllScrolls","getScrollView"])),g.service("$ionicSideMenuDelegate",ionic.DelegateService(["toggleLeft","toggleRight","getOpenRatio","isOpen","isOpenLeft","isOpenRight","canDragContent","edgeDragThreshold"])),g.service("$ionicSlideBoxDelegate",ionic.DelegateService(["update","slide","select","enableSlide","previous","next","stop","autoPlay","start","currentIndex","selected","slidesCount","count","loop"])),g.service("$ionicTabsDelegate",ionic.DelegateService(["select","selectedIndex","showBar"])),function(){var a=[];g.factory("$ionicTemplateCache",["$http","$templateCache","$timeout",function(b,c,d){function e(a){return"undefined"==typeof a?f():(l(a)&&(a=[a]),i(a,function(a){h.push(a)}),void(g&&f()))}function f(){var a,i;if(e._runCount++,g=!0,0!==h.length){for(i=0;4>i&&(a=h.pop());)l(a)&&b.get(a,{cache:c}),i++;h.length&&d(f,1e3)}}var g,h=a;return e._runCount=0,e}]).config(["$stateProvider","$ionicConfigProvider",function(b,c){var d=b.state;b.state=function(e,f){var g,h;if("object"==typeof f&&(g=f.prefetchTemplate!==!1&&a.length<c.templates.maxPrefetch(),g&&l(f.templateUrl)&&a.push(f.templateUrl),angular.isObject(f.views)))for(h in f.views)g=f.views[h].prefetchTemplate!==!1&&a.length<c.templates.maxPrefetch(),g&&l(f.views[h].templateUrl)&&a.push(f.views[h].templateUrl);return d.call(b,e,f)}}]).run(["$ionicTemplateCache",function(a){a()}])}(),g.factory("$ionicTemplateLoader",["$compile","$controller","$http","$q","$rootScope","$templateCache",function(a,b,c,d,e,f){function g(a){return c.get(a,{cache:f}).then(function(a){return a.data&&a.data.trim()})}function i(c){c=h({template:"",templateUrl:"",scope:null,controller:null,locals:{},appendTo:null},c||{});var f=c.templateUrl?this.load(c.templateUrl):d.when(c.template);return f.then(function(d){var f,g=c.scope||e.$new(),i=m("<div>").html(d).contents();return c.controller&&(f=b(c.controller,h(c.locals,{$scope:g})),i.children().data("$ngControllerController",f)),c.appendTo&&m(c.appendTo).append(i),a(i)(g),{element:i,scope:g}})}return{load:g,compile:i}}]),g.factory("$ionicViewService",["$ionicHistory","$log",function(a,b){function c(a,c){b.warn("$ionicViewService"+a+" is deprecated, please use $ionicHistory"+c+" instead: http://ionicframework.com/docs/nightly/api/service/$ionicHistory/")}c("","");var d={getCurrentView:"currentView",getBackView:"backView",getForwardView:"forwardView",getCurrentStateName:"currentStateName",nextViewOptions:"nextViewOptions",clearHistory:"clearHistory"};return i(d,function(b,e){d[e]=function(){return c("."+e,"."+b),a[b].apply(this,arguments)}}),d}]),g.factory("$ionicViewSwitcher",["$timeout","$document","$q","$ionicClickBlock","$ionicConfig","$ionicNavBarDelegate",function(a,b,c,d,e,f){function g(a,b){return k(a)["abstract"]?k(a).name:b?b.stateId||b.viewId:ionic.Utils.nextUid()}function k(a){return a&&a.$$state&&a.$$state.self||{}}function l(a,b,c,d){var f=k(a),g=q||F(b,"view-transition")||f.viewTransition||e.views.transition()||"ios",i=e.navBar.transition();return c=r||F(b,"view-direction")||f.viewDirection||c||"none",h(n(d),{transition:g,navBarTransition:"view"===i?g:i,direction:c,shouldAnimate:"none"!==g&&"none"!==c})}function n(a){return a=a||{},{viewId:a.viewId,historyId:a.historyId,stateId:a.stateId,stateName:a.stateName,stateParams:a.stateParams}}function o(a,b){return arguments.length>1?void F(a,z,b):F(a,z)}function p(a){if(a&&a.length){var b=a.scope();b&&(b.$emit("$ionicView.unloaded",a.data(y)),b.$destroy()),a.remove()}}var q,r,E,F,G,H,I,s="webkitTransitionEnd transitionend",t="$noCache",u="$destroyEle",v="$eleId",w="$accessed",x="$fallbackTimer",y="$viewData",z="nav-view",A="active",B="cached",C="stage",D=0;return ionic.transition=ionic.transition||{},ionic.transition.isActive=!1,F=ionic.DomUtil.cachedAttr,G=[],H=1100,I={create:function(b,i,m,z,E,J){var K,L,M,N=++D,O={init:function(a,b){I.isTransitioning(!0),O.loadViewElements(a),O.render(a,function(){b&&b()})},loadViewElements:function(a){var c,d,e,f=b.getViewElements(),h=g(i,m),k=b.activeEleId();for(c=0,d=f.length;d>c&&(e=f.eq(c),e.data(v)===h?e.data(t)?(e.data(v,h+ionic.Utils.nextUid()),e.data(u,!0)):K=e:j(k)&&e.data(v)===k&&(L=e),!K||!L);c++);M=!!K,M||(K=a.ele||I.createViewEle(i),K.data(v,h)),J&&b.activeEleId(h),a.ele=null},render:function(a,c){var d,f,g;M?ionic.Utils.reconnectScope(K.scope()):(o(K,C),d=l(i,K,a.direction,m),f=e.transitions.views[d.transition]||e.transitions.views.none,f(K,null,d.direction,!0).run(0),K.data(y,{viewId:d.viewId,historyId:d.historyId,stateName:d.stateName,stateParams:d.stateParams}),(k(i).cache===!1||"false"===k(i).cache||"false"==K.attr("cache-view")||0===e.views.maxCache())&&K.data(t,!0),g=b.appendViewElement(K,i),delete d.direction,delete d.transition,g.$emit("$ionicView.loaded",d)),K.data(w,Date.now()),c&&c()},transition:function(g,j,k){function p(){o(K,S.shouldAnimate?"entering":A),o(L,S.shouldAnimate?"leaving":B),S.run(1),f._instances.forEach(function(a){a.triggerTransitionStart(N)}),S.shouldAnimate||u()}function t(a){a.target===this&&u()}function u(){u.x||(u.x=!0,K.off(s,t),a.cancel(K.data(x)),L&&a.cancel(L.data(x)),y&&y.resolve(b),N===D&&(c.all(G).then(I.transitionEnd),O.emit("after",P,Q),O.cleanup(P)),f._instances.forEach(function(a){a.triggerTransitionEnd()}),q=r=m=z=K=L=null)}function v(a){a.target===this&&w()}function w(){o(K,B),o(L,A),K.off(s,v),a.cancel(K.data(x)),I.transitionEnd([b])}var y,R,S,P=l(i,K,g,m),Q=h(h({},P),n(z));if(P.transitionId=Q.transitionId=N,P.fromCache=!!M,P.enableBack=!!j,P.renderStart=E,P.renderEnd=J,F(K.parent(),"nav-view-transition",P.transition),F(K.parent(),"nav-view-direction",P.direction),a.cancel(K.data(x)),R=e.transitions.views[P.transition]||e.transitions.views.none,S=R(K,L,P.direction,P.shouldAnimate&&k&&J),S.shouldAnimate&&(K.on(s,t),K.data(x,a(u,H)),d.show(H)),E&&(O.emit("before",P,Q),o(K,C),S.run(0)),J&&(y=c.defer(),G.push(y.promise)),E&&J&&"swap"!==g)ionic.requestAnimationFrame(p);else{if(!J)return o(K,"entering"),o(L,"leaving"),{run:S.run,cancel:function(b){b?(K.on(s,v),K.data(x,a(w,H)),d.show(H)):w(),S.shouldAnimate=b,S.run(0),S=null}};J&&p()}},emit:function(a,b,c){var d=K.scope(),e=L&&L.scope();"after"==a&&(d&&d.$emit("$ionicView.enter",b),e?e.$emit("$ionicView.leave",c):d&&c&&c.viewId&&d.$emit("$ionicNavView.leave",c)),d&&d.$emit("$ionicView."+a+"Enter",b),e?e.$emit("$ionicView."+a+"Leave",c):d&&c&&c.viewId&&d.$emit("$ionicNavView."+a+"Leave",c)},cleanup:function(a){L&&"back"==a.direction&&!e.views.forwardCache()&&p(L);var c,d,f,g=b.getViewElements(),h=g.length,i=h-1>e.views.maxCache(),j=Date.now();for(c=0;h>c;c++)d=g.eq(c),i&&d.data(w)<j?(j=d.data(w),f=g.eq(c)):d.data(u)&&o(d)!=A&&p(d);p(f),K.data(t)&&K.data(u,!0)},enteringEle:function(){return K},leavingEle:function(){return L}};return O},transitionEnd:function(a){i(a,function(a){a.transitionEnd()}),I.isTransitioning(!1),d.hide(),G=[]},nextTransition:function(a){q=a},nextDirection:function(a){r=a},isTransitioning:function(b){return arguments.length&&(ionic.transition.isActive=!!b,a.cancel(E),b&&(E=a(function(){I.isTransitioning(!1)},999))),ionic.transition.isActive},createViewEle:function(a){var c=b[0].createElement("div");return a&&a.$template&&(c.innerHTML=a.$template,1===c.children.length)?(c.children[0].classList.add("pane"),m(c.children[0])):(c.className="pane",m(c))},viewEleIsActive:function(a,b){o(a,b?A:B)},getTransitionData:l,navViewAttr:o,destroyViewEle:p}}]),angular.module("ngIOS9UIWebViewPatch",["ng"]).config(["$provide",function(a){a.decorator("$browser",["$delegate","$window",function(a,b){function c(a){return/(iPhone|iPad|iPod).* OS 9_\d/.test(a)&&!/Version\/9\./.test(a)}function d(a){function b(){c=null}var c=null,d=a.url;return a.url=function(){return arguments.length?(c=arguments[0],d.apply(a,arguments)):c||d.apply(a,arguments)},window.addEventListener("popstate",b,!1),window.addEventListener("hashchange",b,!1),a}return c(b.navigator.userAgent)?d(a):a}])}]),g.config(["$provide",function(a){a.decorator("$compile",["$delegate",function(a){return a.$$addScopeInfo=function(a,b,c,d){var e=c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope";a.data(e,b)},a}])}]),g.config(["$provide",function(a){function b(a,b){return a.__hash=a.hash,a.hash=function(c){return j(c)&&c.length>0&&b(function(){var a=document.querySelector(".scroll-content");a&&(a.scrollTop=0)},0,!1),a.__hash(c)},a}a.decorator("$location",["$delegate","$timeout",b])}]),g.controller("$ionicHeaderBar",["$scope","$element","$attrs","$q","$ionicConfig","$ionicHistory",function(a,b,c,d,e,f){function g(a){return y[a]||(y[a]=b[0].querySelector("."+a)),y[a]}var y,h="title",i="back-text",j="back-button",k="default-title",l="previous-title",m="hide",n=this,o="",p="",q=0,r=0,s="",t=!1,u=!0,v=!0,w=!1,x=0;n.beforeEnter=function(b){a.$broadcast("$ionicView.beforeEnter",b)},n.title=function(a){return arguments.length&&a!==o&&(g(h).innerHTML=a,o=a,x=0),o},n.enableBack=function(a,b){return arguments.length&&(t=a,b||n.updateBackButton()),t},n.showBack=function(a,b){return arguments.length&&(u=a,b||n.updateBackButton()),u},n.showNavBack=function(a){v=a,n.updateBackButton()},n.updateBackButton=function(){var a;(u&&v&&t)!==w&&(w=u&&v&&t,a=g(j),a&&a.classList[w?"remove":"add"](m)),t&&(a=a||g(j),a&&(n.backButtonIcon!==e.backButton.icon()&&(a=g(j+" .icon"),a&&(n.backButtonIcon=e.backButton.icon(),a.className="icon "+n.backButtonIcon)),n.backButtonText!==e.backButton.text()&&(a=g(j+" .back-text"),a&&(a.textContent=n.backButtonText=e.backButton.text()))))},n.titleTextWidth=function(){if(!x){var a=ionic.DomUtil.getTextBounds(g(h));x=Math.min(a&&a.width||30)}return x},n.titleWidth=function(){var a=n.titleTextWidth(),b=g(h).offsetWidth;return a>b&&(a=b+(q-r-5)),a},n.titleTextX=function(){return b[0].offsetWidth/2-n.titleWidth()/2},n.titleLeftRight=function(){return q-r},n.backButtonTextLeft=function(){for(var a=0,b=g(i);b;)a+=b.offsetLeft,b=b.parentElement;return a},n.resetBackButton=function(a){var b,c,d,h;e.backButton.previousTitleText()&&(b=g(l),b&&(b.classList.remove(m),c=a&&f.getViewById(a.viewId),d=f.backTitle(c),d!==p&&(p=b.innerHTML=d)),h=g(k),h&&h.classList.remove(m))},n.align=function(a){var f,i,j,d=g(h);return a=a||c.alignTitle||e.navBar.alignTitle(),f=n.calcWidths(a,!1),u&&p&&e.backButton.previousTitleText()&&(i=n.calcWidths(a,!0),j=b[0].offsetWidth-i.titleLeft-i.titleRight,n.titleTextWidth()<=j&&(f=i)),n.updatePositions(d,f.titleLeft,f.titleRight,f.buttonsLeft,f.buttonsRight,f.css,f.showPrevTitle)},n.calcWidths=function(a,c){var d,e,f,n,o,p,q,r,s,D,t=g(h),v=g(j),w=b[0].childNodes,x=0,y=0,z=0,A=0,B="",C=0;for(d=0;d<w.length;d++){if(o=w[d],q=0,1==o.nodeType){if(o===t){s=!0;continue}if(o.classList.contains(m))continue;if(u&&o===v){for(e=0;e<o.childNodes.length;e++)if(n=o.childNodes[e],1==n.nodeType)if(n.classList.contains(i))for(f=0;f<n.children.length;f++)if(p=n.children[f],c){if(p.classList.contains(k))continue;C+=p.offsetWidth}else{if(p.classList.contains(l))continue;C+=p.offsetWidth}else C+=n.offsetWidth;else 3==n.nodeType&&n.nodeValue.trim()&&(r=ionic.DomUtil.getTextBounds(n),C+=r&&r.width||0);q=C||o.offsetWidth}else q=o.offsetWidth}else 3==o.nodeType&&o.nodeValue.trim()&&(r=ionic.DomUtil.getTextBounds(o),q=r&&r.width||0);s?y+=q:x+=q}return"left"==a?(B="title-left",x&&(z=x+15),y&&(A=y+15)):"right"==a?(B="title-right",x&&(z=x+15),y&&(A=y+15)):(D=Math.max(x,y)+10,D>10&&(z=A=D)),{backButtonWidth:C,buttonsLeft:x,buttonsRight:y,titleLeft:z,titleRight:A,showPrevTitle:c,css:B}},n.updatePositions=function(a,c,f,h,i,j,o){var t,u,p=d.defer();return a&&(c!==q&&(a.style.left=c?c+"px":"",q=c),f!==r&&(a.style.right=f?f+"px":"",r=f),j!==s&&(j&&a.classList.add(j),s&&a.classList.remove(s),s=j)),e.backButton.previousTitleText()&&(t=g(l),u=g(k),t&&t.classList[o?"remove":"add"](m),u&&u.classList[o?"add":"remove"](m)),ionic.requestAnimationFrame(function(){if(a&&a.offsetWidth+10<a.scrollWidth){var c=i+5,d=b[0].offsetWidth-q-n.titleTextWidth()-20;f=c>d?c:d,f!==r&&(a.style.right=f+"px",r=f)}p.resolve()}),p.promise},n.setCss=function(a,b){ionic.DomUtil.cachedStyles(g(a),b)},y={},a.$on("$destroy",function(){for(var a in y)y[a]=null})}]),g.controller("$ionInfiniteScroll",["$scope","$attrs","$element","$timeout",function(a,b,c,d){function e(){ionic.requestAnimationFrame(function(){c[0].classList.add("active")}),i.isLoading=!0,a.$parent&&a.$parent.$apply(b.onInfinite||"")}function f(){ionic.requestAnimationFrame(function(){c[0].classList.remove("active")}),d(function(){i.jsScrolling&&i.scrollView.resize(),(i.jsScrolling&&i.scrollView.__container&&i.scrollView.__container.offsetHeight>0||!i.jsScrolling)&&i.checkBounds()},30,!1),i.isLoading=!1}function g(){var a,b;i.isLoading||(a={},i.jsScrolling?(a=i.getJSMaxScroll(),b=i.scrollView.getValues(),(-1!==a.left&&b.left>=a.left||-1!==a.top&&b.top>=a.top)&&e()):(a=i.getNativeMaxScroll(),(-1!==a.left&&i.scrollEl.scrollLeft>=a.left-i.scrollEl.clientWidth||-1!==a.top&&i.scrollEl.scrollTop>=a.top-i.scrollEl.clientHeight)&&e()))}function h(a){var c=(b.distance||"2.5%").trim(),d=-1!==c.indexOf("%");return d?a*(1-parseFloat(c)/100):a-parseFloat(c)}var i=this;i.isLoading=!1,a.icon=function(){return j(b.icon)?b.icon:"ion-load-d"},a.spinner=function(){return j(b.spinner)?b.spinner:""},a.$on("scroll.infiniteScrollComplete",function(){f()}),a.$on("$destroy",function(){i.scrollCtrl&&i.scrollCtrl.$element&&i.scrollCtrl.$element.off("scroll",i.checkBounds),i.scrollEl&&i.scrollEl.removeEventListener&&i.scrollEl.removeEventListener("scroll",i.checkBounds)}),i.checkBounds=ionic.Utils.throttle(g,300),i.getJSMaxScroll=function(){var a=i.scrollView.getScrollMax();return{left:i.scrollView.options.scrollingX?h(a.left):-1,top:i.scrollView.options.scrollingY?h(a.top):-1}},i.getNativeMaxScroll=function(){var a={left:i.scrollEl.scrollWidth,top:i.scrollEl.scrollHeight},b=window.getComputedStyle(i.scrollEl)||{};return{left:!a.left||"scroll"!==b.overflowX&&"auto"!==b.overflowX&&"scroll"!==i.scrollEl.style["overflow-x"]?-1:h(a.left),top:!a.top||"scroll"!==b.overflowY&&"auto"!==b.overflowY&&"scroll"!==i.scrollEl.style["overflow-y"]?-1:h(a.top)}},i.__finishInfiniteScroll=f}]),g.service("$ionicListDelegate",ionic.DelegateService(["showReorder","showDelete","canSwipeItems","closeOptionButtons"])).controller("$ionicList",["$scope","$attrs","$ionicListDelegate","$ionicHistory",function(a,b,c,d){var e=this,f=!0,g=!1,h=!1,i=c._registerInstance(e,b.delegateHandle,function(){return d.isActiveScope(a)});a.$on("$destroy",i),e.showReorder=function(a){return arguments.length&&(g=!!a),g},e.showDelete=function(a){return arguments.length&&(h=!!a),h},e.canSwipeItems=function(a){return arguments.length&&(f=!!a),f},e.closeOptionButtons=function(){e.listView&&e.listView.clearDragEffects()}}]),g.controller("$ionicNavBar",["$scope","$element","$attrs","$compile","$timeout","$ionicNavBarDelegate","$ionicConfig","$ionicHistory",function(a,b,c,d,e,f,g,h){function k(a,b){var c=console.warn||console.log;c&&c.call(console,"navBarController."+a+" is deprecated, please use "+b+" instead")}function l(a){return C[a]?m(C[a]):void 0}function n(){for(var a=0;a<B.length;a++)if(B[a].isActive)return B[a]}function o(){for(var a=0;a<B.length;a++)if(!B[a].isActive)return B[a]}function p(a,b){a&&ionic.DomUtil.cachedAttr(a.containerEle(),"nav-bar",b)}function q(a){ionic.DomUtil.cachedAttr(b,"nav-swipe",a)}var r,s,t,E,F,u="hide",v="$ionNavBarController",w="primaryButtons",x="secondaryButtons",y="backButton",z="primaryButtons secondaryButtons leftButtons rightButtons title".split(" "),A=this,B=[],C={},D=!0;b.parent().data(v,A),E=c.delegateHandle||"navBar"+ionic.Utils.nextUid(),F=f._registerInstance(A,E),A.init=function(){b.addClass("nav-bar-container"),ionic.DomUtil.cachedAttr(b,"nav-bar-transition",g.views.transition()),A.createHeaderBar(!1),A.createHeaderBar(!0),a.$emit("ionNavBar.init",E)},A.createHeaderBar=function(e){function f(a,b){a&&("title"===b?q.append(a):"rightButtons"==b||b==x&&"left"!=g.navBar.positionSecondaryButtons()||b==w&&"right"==g.navBar.positionPrimaryButtons()?(p||(p=m('<div class="buttons buttons-right">'),n.append(p)),b==x?p.append(a):p.prepend(a)):(o||(o=m('<div class="buttons buttons-left">'),r[y]?r[y].after(o):n.prepend(o)),b==x?o.append(a):o.prepend(a)))}var k,n,o,p,q,r,s,t,v,A,h=m('<div class="nav-bar-block">');for(ionic.DomUtil.cachedAttr(h,"nav-bar",e?"active":"cached"),k=c.alignTitle||g.navBar.alignTitle(),n=m("<ion-header-bar>").addClass(c["class"]).attr("align-title",k),j(c.noTapScroll)&&n.attr("no-tap-scroll",c.noTapScroll),q=m('<div class="title title-'+k+'">'),r={},s={},r[y]=l(y),r[y]&&n.append(r[y]),n.append(q),i(z,function(a){r[a]=l(a),f(r[a],a)
}),t=0;t<n[0].children.length;t++)n[0].children[t].classList.add("header-item");return h.append(n),b.append(d(h)(a.$new())),v=n.data("$ionHeaderBarController"),v.backButtonIcon=g.backButton.icon(),v.backButtonText=g.backButton.text(),A={isActive:e,title:function(a){v.title(a)},setItem:function(a,b){A.removeItem(b),a?("title"===b&&A.title(""),f(a,b),r[b]&&r[b].addClass(u),s[b]=a):r[b]&&r[b].removeClass(u)},removeItem:function(a){s[a]&&(s[a].scope().$destroy(),s[a].remove(),s[a]=null)},containerEle:function(){return h},headerBarEle:function(){return n},afterLeave:function(){i(z,function(a){A.removeItem(a)}),v.resetBackButton()},controller:function(){return v},destroy:function(){i(z,function(a){A.removeItem(a)}),h.scope().$destroy();for(var a in r)r[a]&&(r[a].removeData(),r[a]=null);o&&o.removeData(),p&&p.removeData(),q.removeData(),n.removeData(),h.remove(),h=n=q=o=p=null}},B.push(A),A},A.navElement=function(a,b){return j(b)&&(C[a]=b),C[a]},A.update=function(a){var c,d,e,b=!a.hasHeaderBar&&a.showNavBar;a.transition=g.views.transition(),b||(a.direction="none"),A.enable(b),c=A.isInitialized?o():n(),d=A.isInitialized?n():null,e=c.controller(),e.enableBack(a.enableBack,!0),e.showBack(a.showBack,!0),e.updateBackButton(),A.title(a.title,c),A.showBar(b),a.navBarItems&&i(z,function(b){c.setItem(a.navBarItems[b],b)}),A.transition(c,d,a),A.isInitialized=!0,q("")},A.transition=function(c,d,f){function h(){for(var a=0;a<B.length;a++)B[a].isActive=!1;c.isActive=!0,p(c,"active"),p(d,"cached"),A.activeTransition=l=s=null}var l,i=c.controller(),j=g.transitions.navBar[f.navBarTransition]||g.transitions.navBar.none,k=f.transitionId;i.beforeEnter(f),l=j(c,d,f.direction,f.shouldAnimate&&A.isInitialized),ionic.DomUtil.cachedAttr(b,"nav-bar-transition",f.navBarTransition),ionic.DomUtil.cachedAttr(b,"nav-bar-direction",f.direction),l.shouldAnimate&&f.renderEnd?p(c,"stage"):(p(c,"entering"),p(d,"leaving")),i.resetBackButton(f),l.run(0),A.activeTransition={run:function(a){l.shouldAnimate=!1,l.direction="back",l.run(a)},cancel:function(b,e,f){q(e),p(d,"active"),p(c,"cached"),l.shouldAnimate=b,l.run(0),A.activeTransition=l=null;var g;f.showBar!==A.showBar()&&A.showBar(f.showBar),f.showBackButton!==A.showBackButton()&&A.showBackButton(f.showBackButton),g&&a.$apply()},complete:function(a,b){q(b),l.shouldAnimate=a,l.run(1),s=h}},e(i.align,16),(r=function(){t===k&&(p(c,"entering"),p(d,"leaving"),l.run(1),s=function(){t!=k&&l.shouldAnimate||h()},r=null)})()},A.triggerTransitionStart=function(a){t=a,r&&r()},A.triggerTransitionEnd=function(){s&&s()},A.showBar=function(b){return arguments.length&&(A.visibleBar(b),a.$parent.$hasHeader=!!b),!!a.$parent.$hasHeader},A.visibleBar=function(a){a&&!D?(b.removeClass(u),A.align()):!a&&D&&b.addClass(u),D=a},A.enable=function(a){A.visibleBar(a);for(var b=0;b<f._instances.length;b++)f._instances[b]!==A&&f._instances[b].visibleBar(!1)},A.showBackButton=function(b){if(arguments.length){for(var c=0;c<B.length;c++)B[c].controller().showNavBack(!!b);a.$isBackButtonShown=!!b}return a.$isBackButtonShown},A.showActiveBackButton=function(a){var b=n();return b?arguments.length?b.controller().showBack(a):b.controller().showBack():void 0},A.title=function(b,c){return j(b)&&(b=b||"",c=c||n(),c&&c.title(b),a.$title=b,h.currentTitle(b)),a.$title},A.align=function(a,b){b=b||n(),b&&b.controller().align(a)},A.hasTabsTop=function(a){b[a?"addClass":"removeClass"]("nav-bar-tabs-top")},A.hasBarSubheader=function(a){b[a?"addClass":"removeClass"]("nav-bar-has-subheader")},A.changeTitle=function(a){k("changeTitle(val)","title(val)"),A.title(a)},A.setTitle=function(a){k("setTitle(val)","title(val)"),A.title(a)},A.getTitle=function(){return k("getTitle()","title()"),A.title()},A.back=function(){k("back()","$ionicHistory.goBack()"),h.goBack()},A.getPreviousTitle=function(){k("getPreviousTitle()","$ionicHistory.backTitle()"),h.goBack()},a.$on("$destroy",function(){a.$parent.$hasHeader=!1,b.parent().removeData(v);for(var c=0;c<B.length;c++)B[c].destroy();b.remove(),b=B=null,F()})}]),g.controller("$ionicNavView",["$scope","$element","$attrs","$compile","$controller","$ionicNavBarDelegate","$ionicNavViewDelegate","$ionicHistory","$ionicViewSwitcher","$ionicConfig","$ionicScrollDelegate",function(a,b,c,d,e,f,g,i,j,k,l){function m(a,c){for(var d,e,f=b.children(),g=0,h=f.length;h>g;g++)if(d=f.eq(g),D(d)==z){e=d.scope(),e&&e.$emit(a.name.replace("Tabs","View"),c);break}}function n(a){ionic.DomUtil.cachedAttr(b,"nav-swipe",a)}function o(a,b){var c=q();c&&c.hasTabsTop(b)}function p(a,b){var c=q();c&&c.hasBarSubheader(b)}function q(){if(s)for(var a=0;a<f._instances.length;a++)if(f._instances[a].$$delegateHandle==s)return f._instances[a];return b.inheritedData("$ionNavBarController")}var r,s,t,u,v,w="$eleId",x="$destroyEle",y="$noCache",z="active",A="cached",B=this,C=!1,D=j.navViewAttr;B.scope=a,B.element=b,B.init=function(){var h,i,d=c.name||"",e=b.parent().inheritedData("$uiView"),f=e&&e.state?e.state.name:"";return d.indexOf("@")<0&&(d=d+"@"+f),h={name:d,state:null},b.data("$uiView",h),i=g._registerInstance(B,c.delegateHandle),a.$on("$destroy",function(){i(),B.isSwipeFreeze&&l.freezeAllScrolls(!1)}),a.$on("$ionicHistory.deselect",B.cacheCleanup),a.$on("$ionicTabs.top",o),a.$on("$ionicSubheader",p),a.$on("$ionicTabs.beforeLeave",m),a.$on("$ionicTabs.afterLeave",m),a.$on("$ionicTabs.leave",m),ionic.Platform.ready(function(){ionic.Platform.isWebView()&&k.views.swipeBackEnabled()&&B.initSwipeBack()}),h},B.register=function(b){var e,f,c=h({},i.currentView()),d=i.register(a,b);B.update(d),e=i.getViewById(d.viewId)||{},f=u!==d.viewId,B.render(d,b,e,c,f,!0)},B.update=function(a){C=!0,r=a.direction;var c=b.parent().inheritedData("$ionNavViewController");c&&(c.isPrimary(!1),("enter"===r||"exit"===r)&&(c.direction(r),"enter"===r&&(r="none")))},B.render=function(a,b,c,d,e,f){var g=j.create(B,b,c,d,e,f);g.init(a,function(){g.transition(B.direction(),a.enableBack,!v),u=v=null})},B.beforeEnter=function(a){if(C){s=a.navBarDelegate;var b=q();b&&b.update(a),n("")}},B.activeEleId=function(a){return arguments.length&&(t=a),t},B.transitionEnd=function(){var a,c,d,e=b.children();for(a=0,c=e.length;c>a;a++)d=e.eq(a),d.data(w)===t?D(d,z):("leaving"===D(d)||D(d)===z||D(d)===A)&&(d.data(x)||d.data(y)?j.destroyViewEle(d):(D(d,A),ionic.Utils.disconnectScope(d.scope())));n(""),B.isSwipeFreeze&&l.freezeAllScrolls(!1)},B.cacheCleanup=function(){for(var a=b.children(),c=0,d=a.length;d>c;c++)a.eq(c).data(x)&&j.destroyViewEle(a.eq(c))},B.clearCache=function(a){var c,d,e,f,g,h,i=b.children();for(e=0,f=i.length;f>e;e++)if(c=i.eq(e),a)for(h=c.data(w),g=0;g<a.length;g++)h===a[g]&&j.destroyViewEle(c);else D(c)==A?j.destroyViewEle(c):D(c)==z&&(d=c.scope(),d&&d.$broadcast("$ionicView.clearCache"))},B.getViewElements=function(){return b.children()},B.appendViewElement=function(c,f){var h,i,g=d(c);return b.append(c),h=a.$new(),f&&f.$$controller&&(f.$scope=h,i=e(f.$$controller,f),f.$$controllerAs&&(h[f.$$controllerAs]=i),b.children().data("$ngControllerController",i)),g(h),h},B.title=function(a){var b=q();b&&b.title(a)},B.enableBackButton=function(a){var b=q();b&&b.enableBackButton(a)},B.showBackButton=function(a){var b=q();return b?arguments.length?b.showActiveBackButton(a):b.showActiveBackButton():!0},B.showBar=function(a){var b=q();return b?arguments.length?b.showBar(a):b.showBar():!0},B.isPrimary=function(a){return arguments.length&&(C=a),C},B.direction=function(a){return arguments.length&&(r=a),r},B.initSwipeBack=function(){function c(a){var c,g,k;!C||(w=f(a),w>y)||(o=i.backView(),c=i.currentView(),o&&o.historyId===c.historyId&&c.canSwipeBack!==!1&&(t||(t=window.innerWidth),B.isSwipeFreeze=l.freezeAllScrolls(!0),g={direction:"back"},x=[],z={showBar:B.showBar(),showBackButton:B.showBackButton()},k=j.create(B,g,o,c,!0,!1),k.loadViewElements(g),k.render(g),h=k.transition("back",i.enabledBack(o),!0),m=q(),r=ionic.onGesture("drag",d,b[0]),s=ionic.onGesture("release",e,b[0])))}function d(a){var b,c;C&&h&&(b=f(a),x.push({t:Date.now(),x:b}),b>=t-15?e(a):(c=Math.min(Math.max(g(b),0),1),h.run(c),m&&m.activeTransition&&m.activeTransition.run(c)))}function e(a){var b,c,i,j,k,p,q,w;if(C&&h&&x&&x.length>1){for(b=Date.now(),c=f(a),i=x[x.length-1],j=x.length-2;j>=0&&!(b-i.t>200);j--)i=x[j];k=c>=x[x.length-2].x,p=g(c),q=Math.abs(i.x-c)/(b-i.t),u=o.viewId,v=.03>p||p>.97,k&&(p>.5||q>.1)?(w=q>.5||.05>q||c>t-45?"fast":"slow",n(v?"":w),o.go(),m&&m.activeTransition&&m.activeTransition.complete(!v,w)):(n(v?"":"fast"),u=null,h.cancel(!v),m&&m.activeTransition&&m.activeTransition.cancel(!v,"fast",z),v=null)}ionic.offGesture(r,"drag",d),ionic.offGesture(s,"release",e),t=h=x=null,B.isSwipeFreeze=l.freezeAllScrolls(!1)}function f(a){return ionic.tap.pointerCoord(a.gesture.srcEvent).x}function g(a){return(a-w)/t}var h,m,o,p,r,s,t,w,x,y=k.views.swipeBackHitWidth(),z={};p=ionic.onGesture("dragstart",c,b[0]),a.$on("$destroy",function(){ionic.offGesture(p,"dragstart",c),ionic.offGesture(r,"drag",d),ionic.offGesture(s,"release",e),B.element=h=m=null})}}]),g.controller("$ionicRefresher",["$scope","$attrs","$element","$ionicBind","$timeout",function(a,b,c,d,e){function f(a){a.touches=a.touches||[{screenX:a.screenX,screenY:a.screenY}],G=Math.floor(a.touches[0].screenY)}function g(a){a.touches=a.touches||[{screenX:a.screenX,screenY:a.screenY}],G=a.touches[0].screenY}function h(){G=null,(I||z)&&(z?(z=!1,B=0,C>D?(s(),o(D,F)):(o(0,F,r),A=!1)):(B=0,A=!1,n(!1)))}function i(a){if(a.touches=a.touches||[{screenX:a.screenX,screenY:a.screenY}],(G||"mousemove"!=a.type)&&I&&!(a.touches.length>1)){if(null===G&&(G=a.touches[0].screenY),H=a.touches[0].screenY-G,ionic.Platform.isAndroid()&&4.4===ionic.Platform.version()&&!ionic.Platform.isCrosswalk()&&0===w.scrollTop&&H>0&&(z=!0,a.preventDefault()),0>=H-B||0!==w.scrollTop)return A&&(A=!1,n(!1)),z&&m(w,H- -1*B),void(0!==C&&l(0));H>0&&0===w.scrollTop&&!A&&(B=H),a.preventDefault(),A||(A=!0,n(!0)),z=!0,l((H-B)/3),!E&&C>D?(E=!0,ionic.requestAnimationFrame(q)):E&&D>C&&(E=!1,ionic.requestAnimationFrame(r))}}function k(a){I=0===a.target.scrollTop||z}function l(a){x.style[ionic.CSS.TRANSFORM]="translateY("+a+"px)",C=a}function m(a,b){a.scrollTop=b;var c=document.createEvent("UIEvents");c.initUIEvent("scroll",!0,!0,window,1),a.dispatchEvent(c)}function n(a){ionic.requestAnimationFrame(a?function(){x.classList.add("overscroll"),t()}:function(){x.classList.remove("overscroll"),u(),r()})}function o(a,b,c){function d(a){return--a*a*a+1}function e(){var h=Date.now(),i=Math.min(1,(h-f)/b),j=d(i);l(Math.floor(j*(a-g)+g)),1>i?ionic.requestAnimationFrame(e):(5>a&&a>-5&&(A=!1,n(!1)),c&&c())}var f=Date.now(),g=C;return g===a?void c():void ionic.requestAnimationFrame(e)}function p(){ionic.off(J,g,x),ionic.off(K,i,x),ionic.off(L,h,x),ionic.off("mousedown",f,x),ionic.off("mousemove",i,x),ionic.off("mouseup",h,x),ionic.off("scroll",k,w),w=null,x=null}function q(){c[0].classList.add("active"),a.$onPulling()}function r(){e(function(){c.removeClass("active refreshing refreshing-tail"),E&&(E=!1)},150)}function s(){c[0].classList.add("refreshing");var b=a.$onRefresh();b&&b.then&&b["finally"](function(){a.$broadcast("scroll.refreshComplete")})}function t(){c[0].classList.remove("invisible")}function u(){c[0].classList.add("invisible")}function v(){c[0].classList.add("refreshing-tail")}var w,x,J,K,L,y=this,z=!1,A=!1,B=0,C=0,D=60,E=!1,F=500,G=null,H=null,I=!0;j(b.pullingIcon)||b.$set("pullingIcon","ion-android-arrow-down"),a.showSpinner=!j(b.refreshingIcon)&&"none"!=b.spinner,a.showIcon=j(b.refreshingIcon),d(a,b,{pullingIcon:"@",pullingText:"@",refreshingIcon:"@",refreshingText:"@",spinner:"@",disablePullingRotation:"@",$onRefresh:"&onRefresh",$onPulling:"&onPulling"}),a.$on("scroll.refreshComplete",function(){e(function(){ionic.requestAnimationFrame(v),o(0,F,r),e(function(){A&&(A=!1,n(!1))},F)},F)}),window.navigator.pointerEnabled?(J="pointerdown",K="pointermove",L="pointerup"):window.navigator.msPointerEnabled?(J="MSPointerDown",K="MSPointerMove",L="MSPointerUp"):(J="touchstart",K="touchmove",L="touchend"),y.init=function(){if(w=c.parent().parent()[0],x=c.parent()[0],!(w&&w.classList.contains("ionic-scroll")&&x&&x.classList.contains("scroll")))throw new Error("Refresher must be immediate child of ion-content or ion-scroll");ionic.on(J,g,x),ionic.on(K,i,x),ionic.on(L,h,x),ionic.on("mousedown",f,x),ionic.on("mousemove",i,x),ionic.on("mouseup",h,x),ionic.on("scroll",k,w),a.$on("$destroy",p)},y.getRefresherDomMethods=function(){return{activate:q,deactivate:r,start:s,show:t,hide:u,tail:v}},y.__handleTouchmove=i,y.__getScrollChild=function(){return x},y.__getScrollParent=function(){return w}}]),g.controller("$ionicScroll",["$scope","scrollViewOptions","$timeout","$window","$location","$document","$ionicScrollDelegate","$ionicHistory",function(a,b,c,d,e,f,g,h){var k,l,n,o,p,q,i=this;i.__timeout=c,i._scrollViewOptions=b,i.isNative=function(){return!!b.nativeScrolling},l=i.element=b.el,n=i.$element=m(l),k=i.scrollView=i.isNative()?new ionic.views.ScrollNative(b):new ionic.views.Scroll(b),(n.parent().length?n.parent():n).data("$$ionicScrollController",i),o=g._registerInstance(i,b.delegateHandle,function(){return h.isActiveScope(a)}),j(b.bouncing)||ionic.Platform.ready(function(){k&&k.options&&(k.options.bouncing=!0,ionic.Platform.isAndroid()&&(k.options.bouncing=!1,k.options.deceleration=.95))}),p=angular.bind(k,k.resize),angular.element(d).on("resize",p),q=function(b){var c=(b.originalEvent||b).detail||{};a.$onScroll&&a.$onScroll({event:b,scrollTop:c.scrollTop||0,scrollLeft:c.scrollLeft||0})},n.on("scroll",q),a.$on("$destroy",function(){o(),k&&k.__cleanup&&k.__cleanup(),angular.element(d).off("resize",p),n.off("scroll",q),k=i.scrollView=b=i._scrollViewOptions=b.el=i._scrollViewOptions.el=n=i.$element=l=null}),c(function(){k&&k.run&&k.run()}),i.getScrollView=function(){return k},i.getScrollPosition=function(){return k.getValues()},i.resize=function(){return c(p,0,!1).then(function(){n&&n.triggerHandler("scroll-resize")})},i.scrollTop=function(a){i.resize().then(function(){k&&k.scrollTo(0,0,!!a)})},i.scrollBottom=function(a){i.resize().then(function(){if(k){var b=k.getScrollMax();k.scrollTo(b.left,b.top,!!a)}})},i.scrollTo=function(a,b,c){i.resize().then(function(){k&&k.scrollTo(a,b,!!c)})},i.zoomTo=function(a,b,c,d){i.resize().then(function(){k&&k.zoomTo(a,!!b,c,d)})},i.zoomBy=function(a,b,c,d){i.resize().then(function(){k&&k.zoomBy(a,!!b,c,d)})},i.scrollBy=function(a,b,c){i.resize().then(function(){k&&k.scrollBy(a,b,!!c)})},i.anchorScroll=function(a){i.resize().then(function(){var b,c,d,g,h;if(k){if(b=e.hash(),c=b&&f[0].getElementById(b),!b||!c)return void k.scrollTo(0,0,!!a);d=c,g=0,h=0;do null!==d&&(g+=d.offsetLeft),null!==d&&(h+=d.offsetTop),d=d.offsetParent;while(d.attributes!=i.element.attributes&&d.offsetParent);k.scrollTo(g,h,!!a)}})},i.freezeScroll=k.freeze,i.freezeScrollShut=k.freezeShut,i.freezeAllScrolls=function(a){for(var b=0;b<g._instances.length;b++)g._instances[b].freezeScroll(a)},i._setRefresher=function(a,b,c){i.refresher=b;var d=i.refresher.clientHeight||60;k.activatePullToRefresh(d,c)}}]),g.controller("$ionicSideMenus",["$scope","$attrs","$ionicSideMenuDelegate","$ionicPlatform","$ionicBody","$ionicHistory","$ionicScrollDelegate","IONIC_BACK_PRIORITY","$rootScope",function(a,b,c,d,e,f,g,h,i){var j,l,m,o,p,q,r,u,v,w,s=this,t=!0;s.$scope=a,s.initialize=function(a){s.left=a.left,s.right=a.right,s.setContent(a.content),s.dragThresholdX=a.dragThresholdX||10,f.registerHistory(s.$scope)},s.setContent=function(a){a&&(s.content=a,s.content.onDrag=function(a){s._handleDrag(a)},s.content.endDrag=function(a){s._endDrag(a)})},s.isOpenLeft=function(){return s.getOpenAmount()>0},s.isOpenRight=function(){return s.getOpenAmount()<0},s.toggleLeft=function(a){if(!r&&s.left.isEnabled){var b=s.getOpenAmount();0===arguments.length&&(a=0>=b),s.content.enableAnimation(),a?(s.openPercentage(100),i.$emit("$ionicSideMenuOpen","left")):(s.openPercentage(0),i.$emit("$ionicSideMenuClose","left"))}},s.toggleRight=function(a){if(!r&&s.right.isEnabled){var b=s.getOpenAmount();0===arguments.length&&(a=b>=0),s.content.enableAnimation(),a?(s.openPercentage(-100),i.$emit("$ionicSideMenuOpen","right")):(s.openPercentage(0),i.$emit("$ionicSideMenuClose","right"))}},s.toggle=function(a){"right"==a?s.toggleRight():s.toggleLeft()},s.close=function(){s.openPercentage(0),i.$emit("$ionicSideMenuClose","left"),i.$emit("$ionicSideMenuClose","right")},s.getOpenAmount=function(){return s.content&&s.content.getTranslateX()||0},s.getOpenRatio=function(){var a=s.getOpenAmount();return a>=0?a/s.left.width:a/s.right.width},s.isOpen=function(){return 0!==s.getOpenAmount()},s.getOpenPercentage=function(){return 100*s.getOpenRatio()},s.openPercentage=function(a){var b=a/100;s.left&&a>=0?s.openAmount(s.left.width*b):s.right&&0>a&&s.openAmount(s.right.width*b),e.enableClass(0!==a,"menu-open"),s.content.setCanScroll(0==a)},s.openAmount=function(a){var b=s.left&&s.left.width||0,c=s.right&&s.right.width||0;return(!s.left||!s.left.isEnabled)&&a>0||(!s.right||!s.right.isEnabled)&&0>a?void s.content.setTranslateX(0):l&&a>b?void s.content.setTranslateX(b):j&&-c>a?void s.content.setTranslateX(-c):(s.content.setTranslateX(a),void(a>=0?(l=!0,j=!1,a>0&&(s.right&&s.right.pushDown&&s.right.pushDown(),s.left&&s.left.bringUp&&s.left.bringUp())):(j=!0,l=!1,s.right&&s.right.bringUp&&s.right.bringUp(),s.left&&s.left.pushDown&&s.left.pushDown())))},s.snapToRest=function(a){var b,c,d,e;return s.content.enableAnimation(),m=!1,b=s.getOpenRatio(),0===b?void s.openPercentage(0):(c=.3,d=a.gesture.velocityX,e=a.gesture.direction,void s.openPercentage(b>0&&.5>b&&"right"==e&&c>d?0:b>.5&&"left"==e&&c>d?100:0>b&&b>-.5&&"left"==e&&c>d?0:.5>b&&"right"==e&&c>d?-100:"right"==e&&b>=0&&(b>=.5||d>c)?100:"left"==e&&0>=b&&(-.5>=b||d>c)?-100:0))},s.enableMenuWithBackViews=function(a){return arguments.length&&(t=!!a),t},s.isAsideExposed=function(){return!!r},s.exposeAside=function(a){(s.left&&s.left.isEnabled||s.right&&s.right.isEnabled)&&(s.close(),r=a,s.left&&s.left.isEnabled&&s.right&&s.right.isEnabled?s.content.setMarginLeftAndRight(r?s.left.width:0,r?s.right.width:0):s.left&&s.left.isEnabled?s.content.setMarginLeft(r?s.left.width:0):s.right&&s.right.isEnabled&&s.content.setMarginRight(r?s.right.width:0),s.$scope.$emit("$ionicExposeAside",r))},s.activeAsideResizing=function(a){e.enableClass(a,"aside-resizing")},s._endDrag=function(a){r||(m&&s.snapToRest(a),o=null,p=null,q=null)},s._handleDrag=function(b){!r&&a.dragContent&&(o?p=b.gesture.touches[0].pageX:(o=b.gesture.touches[0].pageX,p=o),!m&&Math.abs(p-o)>s.dragThresholdX&&(o=p,m=!0,s.content.disableAnimation(),q=s.getOpenAmount()),m&&s.openAmount(q+(p-o)))},s.canDragContent=function(b){return arguments.length&&(a.dragContent=!!b),a.dragContent},s.edgeThreshold=25,s.edgeThresholdEnabled=!1,s.edgeDragThreshold=function(a){return arguments.length&&(k(a)&&a>0?(s.edgeThreshold=a,s.edgeThresholdEnabled=!0):s.edgeThresholdEnabled=!!a),s.edgeThresholdEnabled},s.isDraggableTarget=function(b){var i,c=s.edgeThresholdEnabled&&!s.isOpen(),d=b.gesture.startEvent&&b.gesture.startEvent.center&&b.gesture.startEvent.center.pageX,e=!c||d<=s.edgeThreshold||d>=s.content.element.offsetWidth-s.edgeThreshold,g=f.backView(),h=t?!0:!g;return h?(a.dragContent||s.isOpen())&&e&&!b.gesture.srcEvent.defaultPrevented&&h&&!b.target.tagName.match(/input|textarea|select|object|embed/i)&&!b.target.isContentEditable&&!(b.target.dataset?b.target.dataset.preventScroll:"true"==b.target.getAttribute("data-prevent-scroll")):(i=f.currentView()||{},e&&g.historyId!==i.historyId)},a.sideMenuContentTranslateX=0,u=n,v=angular.bind(s,s.close),a.$watch(function(){return 0!==s.getOpenAmount()},function(a){u(),a&&(u=d.registerBackButtonAction(v,h.sideMenu))}),w=c._registerInstance(s,b.delegateHandle,function(){return f.isActiveScope(a)}),a.$on("$destroy",function(){w(),u(),s.$scope=null,s.content&&(s.content.setCanScroll(!0),s.content.element=null,s.content=null)}),s.initialize({left:{width:275},right:{width:275}})}]),function(a){function b(a,d,e,f){var g,h,i,j=document.createElement(m[a]||a);for(g in d)if(angular.isArray(d[g]))for(h=0;h<d[g].length;h++)if(d[g][h].fn)for(i=0;i<d[g][h].t;i++)b(g,d[g][h].fn(i,f),j,f);else b(g,d[g][h],j,f);else c(j,g,d[g]);e.appendChild(j)}function c(a,b,c){a.setAttribute(m[b]||b,c)}function d(a,b){var c=a.split(";"),d=c.slice(b),e=c.slice(0,c.length-d.length);return c=d.concat(e).reverse(),c.join(";")+";"+c[0]}function e(a,b){return a/=b/2,1>a?.5*a*a*a:(a-=2,.5*(a*a*a+2))}var f="translate(32,32)",h="stroke-opacity",i="round",j="indefinite",k="750ms",l="none",m={a:"animate",an:"attributeName",at:"animateTransform",c:"circle",da:"stroke-dasharray",os:"stroke-dashoffset",f:"fill",lc:"stroke-linecap",rc:"repeatCount",sw:"stroke-width",t:"transform",v:"values"},n={v:"0,32,32;360,32,32",an:"transform",type:"rotate",rc:j,dur:k},o={sw:4,lc:i,line:[{fn:function(a,b){return{y1:"ios"==b?17:12,y2:"ios"==b?29:20,t:f+" rotate("+(30*a+(6>a?180:-180))+")",a:[{fn:function(){return{an:h,dur:k,v:d("0;.1;.15;.25;.35;.45;.55;.65;.7;.85;1",a),rc:j}},t:1}]}},t:12}]},p={android:{c:[{sw:6,da:128,os:82,r:26,cx:32,cy:32,f:l}]},ios:o,"ios-small":o,bubbles:{sw:0,c:[{fn:function(a){return{cx:24*Math.cos(2*Math.PI*a/8),cy:24*Math.sin(2*Math.PI*a/8),t:f,a:[{fn:function(){return{an:"r",dur:k,v:d("1;2;3;4;5;6;7;8",a),rc:j}},t:1}]}},t:8}]},circles:{c:[{fn:function(a){return{r:5,cx:24*Math.cos(2*Math.PI*a/8),cy:24*Math.sin(2*Math.PI*a/8),t:f,sw:0,a:[{fn:function(){return{an:"fill-opacity",dur:k,v:d(".3;.3;.3;.4;.7;.85;.9;1",a),rc:j}},t:1}]}},t:8}]},crescent:{c:[{sw:4,da:128,os:82,r:26,cx:32,cy:32,f:l,at:[n]}]},dots:{c:[{fn:function(a){return{cx:16+16*a,cy:32,sw:0,a:[{fn:function(){return{an:"fill-opacity",dur:k,v:d(".5;.6;.8;1;.8;.6;.5",a),rc:j}},t:1},{fn:function(){return{an:"r",dur:k,v:d("4;5;6;5;4;3;3",a),rc:j}},t:1}]}},t:3}]},lines:{sw:7,lc:i,line:[{fn:function(a){return{x1:10+14*a,x2:10+14*a,a:[{fn:function(){return{an:"y1",dur:k,v:d("16;18;28;18;16",a),rc:j}},t:1},{fn:function(){return{an:"y2",dur:k,v:d("48;44;36;46;48",a),rc:j}},t:1},{fn:function(){return{an:h,dur:k,v:d("1;.8;.5;.4;1",a),rc:j}},t:1}]}},t:4}]},ripple:{f:l,"fill-rule":"evenodd",sw:3,circle:[{fn:function(a){return{cx:32,cy:32,a:[{fn:function(){return{an:"r",begin:-1*a+"s",dur:"2s",v:"0;24",keyTimes:"0;1",keySplines:"0.1,0.2,0.3,1",calcMode:"spline",rc:j}},t:1},{fn:function(){return{an:h,begin:-1*a+"s",dur:"2s",v:".2;1;.2;0",rc:j}},t:1}]}},t:2}]},spiral:{defs:[{linearGradient:[{id:"sGD",gradientUnits:"userSpaceOnUse",x1:55,y1:46,x2:2,y2:46,stop:[{offset:.1,"class":"stop1"},{offset:1,"class":"stop2"}]}]}],g:[{sw:4,lc:i,f:l,path:[{stroke:"url(#sGD)",d:"M4,32 c0,15,12,28,28,28c8,0,16-4,21-9"},{d:"M60,32 C60,16,47.464,4,32,4S4,16,4,32"}],at:[n]}]}},q={android:function(b){function d(){var b,l,m,n,o,p;f.stop||(b=e(Date.now()-g,650),l=1,m=0,n=188-58*b,o=182-182*b,h%2&&(l=-1,m=-64,n=128- -58*b,o=182*b),p=[0,-101,-90,-11,-180,79,-270,-191][h],c(k,"da",Math.max(Math.min(n,188),128)),c(k,"os",Math.max(Math.min(o,182),0)),c(k,"t","scale("+l+",1) translate("+m+",0) rotate("+p+",32,32)"),i+=4.1,i>359&&(i=0),c(j,"t","rotate("+i+",32,32)"),b>=1&&(h++,h>7&&(h=0),g=Date.now()),a.requestAnimationFrame(d))}var g,h,i,j,k,f=this;return this.stop=!1,h=0,i=0,j=b.querySelector("g"),k=b.querySelector("circle"),function(){return g=Date.now(),d(),f}}};g.controller("$ionicSpinner",["$element","$attrs","$ionicConfig",function(a,c,d){var e,f;this.init=function(){e=c.icon||d.spinner.icon();var f=document.createElement("div");return b("svg",{viewBox:"0 0 64 64",g:[p[e]]},f,e),a.html(f.innerHTML),this.start(),e},this.start=function(){q[e]&&(f=q[e](a[0])())},this.stop=function(){q[e]&&(f.stop=!0)}}])}(ionic),g.controller("$ionicTab",["$scope","$ionicHistory","$attrs","$location","$state",function(a,b,c,d,e){this.$scope=a,this.hrefMatchesState=function(){return c.href&&0===d.path().indexOf(c.href.replace(/^#/,"").replace(/\/$/,""))},this.srefMatchesState=function(){return c.uiSref&&e.includes(c.uiSref.split("(")[0])},this.navNameMatchesState=function(){return this.navViewName&&b.isCurrentStateNavView(this.navViewName)},this.tabMatchesState=function(){return this.hrefMatchesState()||this.srefMatchesState()||this.navNameMatchesState()}}]),g.controller("$ionicTabs",["$scope","$element","$ionicHistory",function(a,b,c){var d,e=this,f=null,g=null,h=!0;e.tabs=[],e.selectedIndex=function(){return e.tabs.indexOf(f)},e.selectedTab=function(){return f},e.previousSelectedTab=function(){return g},e.add=function(a){c.registerHistory(a),e.tabs.push(a)},e.remove=function(a){var c,b=e.tabs.indexOf(a);-1!==b&&(a.$tabSelected&&(e.deselect(a),1===e.tabs.length||(c=b===e.tabs.length-1?b-1:b+1,e.select(e.tabs[c]))),e.tabs.splice(b,1))},e.deselect=function(a){a.$tabSelected&&(g=f,f=d=null,a.$tabSelected=!1,(a.onDeselect||n)(),a.$broadcast&&a.$broadcast("$ionicHistory.deselect"))},e.select=function(b,g){var h;if(k(b)){if(h=b,h>=e.tabs.length)return;b=e.tabs[h]}else h=e.tabs.indexOf(b);1===arguments.length&&(g=!(!b.navViewName&&!b.uiSref)),f&&f.$historyId==b.$historyId?g&&c.goToHistoryRoot(b.$historyId):d!==h&&(i(e.tabs,function(a){e.deselect(a)}),f=b,d=h,e.$scope&&e.$scope.$parent&&(e.$scope.$parent.$activeHistoryId=b.$historyId),b.$tabSelected=!0,(b.onSelect||n)(),g&&a.$emit("$ionicHistory.change",{type:"tab",tabIndex:h,historyId:b.$historyId,navViewName:b.navViewName,hasNavView:!!b.navViewName,title:b.title,url:b.href,uiSref:b.uiSref}))},e.hasActiveScope=function(){for(var a=0;a<e.tabs.length;a++)if(c.isActiveScope(e.tabs[a]))return!0;return!1},e.showBar=function(a){return arguments.length&&(a?b.removeClass("tabs-item-hide"):b.addClass("tabs-item-hide"),h=!!a),h}}]),g.controller("$ionicView",["$scope","$element","$attrs","$compile","$rootScope",function(a,b,c,d,e){function f(){var b=j(c.viewTitle)&&"viewTitle"||j(c.title)&&"title";b&&(g(c[b]),s.push(c.$observe(b,g))),j(c.hideBackButton)&&s.push(a.$watch(c.hideBackButton,function(a){m.showBackButton(!a)})),j(c.hideNavBar)&&s.push(a.$watch(c.hideNavBar,function(a){m.showBar(!a)}))}function g(a){j(a)&&a!==p&&(p=a,m.title(p))}function i(){for(var a=0;a<s.length;a++)s[a]();s=[]}function k(b){return b?d(b)(a.$new()):void 0}function l(b){return!!a.$eval(c[b])}var m,n,o,p,q=this,r={},s=[],t=a.$on("ionNavBar.init",function(a,b){a.stopPropagation(),n=b});q.init=function(){t();var c=b.inheritedData("$ionModalController");m=b.inheritedData("$ionNavViewController"),m&&!c&&(a.$on("$ionicView.beforeEnter",q.beforeEnter),a.$on("$ionicView.afterEnter",f),a.$on("$ionicView.beforeLeave",i))},q.beforeEnter=function(b,d){var f,g;if(d&&!d.viewNotified){d.viewNotified=!0,e.$$phase||a.$digest(),p=j(c.viewTitle)?c.viewTitle:c.title,f={};for(g in r)f[g]=k(r[g]);m.beforeEnter(h(d,{title:p,showBack:!l("hideBackButton"),navBarItems:f,navBarDelegate:n||null,showNavBar:!l("hideNavBar"),hasHeaderBar:!!o})),i()}},q.navElement=function(a,b){r[a]=b}}]),g.directive("ionActionSheet",["$document",function(a){return{restrict:"E",scope:!0,replace:!0,link:function(b,c){var d=function(a){27==a.which&&(b.cancel(),b.$apply())},e=function(a){a.target==c[0]&&(b.cancel(),b.$apply())};b.$on("$destroy",function(){c.remove(),a.unbind("keyup",d)}),a.bind("keyup",d),c.bind("click",e)},template:'<div class="action-sheet-backdrop"><div class="action-sheet-wrapper"><div class="action-sheet" ng-class="{\'action-sheet-has-icons\': $actionSheetHasIcon}"><div class="action-sheet-group action-sheet-options"><div class="action-sheet-title" ng-if="titleText" ng-bind-html="titleText"></div><button class="button action-sheet-option" ng-click="buttonClicked($index)" ng-class="b.className" ng-repeat="b in buttons" ng-bind-html="b.text"></button><button class="button destructive action-sheet-destructive" ng-if="destructiveText" ng-click="destructiveButtonClicked()" ng-bind-html="destructiveText"></button></div><div class="action-sheet-group action-sheet-cancel" ng-if="cancelText"><button class="button" ng-click="cancel()" ng-bind-html="cancelText"></button></div></div></div></div>'}}]),g.directive("ionCheckbox",["$ionicConfig",function(a){return{restrict:"E",replace:!0,require:"?ngModel",transclude:!0,template:'<label class="item item-checkbox"><div class="checkbox checkbox-input-hidden disable-pointer-events"><input type="checkbox"><i class="checkbox-icon"></i></div><div class="item-content disable-pointer-events" ng-transclude></div></label>',compile:function(b,c){var e,d=b.find("input");i({name:c.name,"ng-value":c.ngValue,"ng-model":c.ngModel,"ng-checked":c.ngChecked,"ng-disabled":c.ngDisabled,"ng-true-value":c.ngTrueValue,"ng-false-value":c.ngFalseValue,"ng-change":c.ngChange,"ng-required":c.ngRequired,required:c.required},function(a,b){j(a)&&d.attr(b,a)}),e=b[0].querySelector(".checkbox"),e.classList.add("checkbox-"+a.form.checkbox())}}}]),g.directive("collectionRepeat",a).factory("$ionicCollectionManager",b),t="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",u=/height:.*?px;\s*width:.*?px/,v=3,a.$inject=["$ionicCollectionManager","$parse","$window","$$rAF","$rootScope","$timeout"],b.$inject=["$rootScope","$window","$$rAF"],g.directive("ionContent",["$timeout","$controller","$ionicBind","$ionicConfig",function(a,b,c,d){return{restrict:"E",require:"^?ionNavView",scope:!0,priority:800,compile:function(a,e){function f(a,d,f){function k(){a.$onScrollComplete({scrollTop:h.scrollView.__scrollTop,scrollLeft:h.scrollView.__scrollLeft})}var m,l=a.$parent;a.$watch(function(){return(l.$hasHeader?" has-header":"")+(l.$hasSubheader?" has-subheader":"")+(l.$hasFooter?" has-footer":"")+(l.$hasSubfooter?" has-subfooter":"")+(l.$hasTabs?" has-tabs":"")+(l.$hasTabsTop?" has-tabs-top":"")},function(a,b){d.removeClass(b),d.addClass(a)}),a.$hasHeader=a.$hasSubheader=a.$hasFooter=a.$hasSubfooter=a.$hasTabs=a.$hasTabsTop=!1,c(a,f,{$onScroll:"&onScroll",$onScrollComplete:"&onScrollComplete",hasBouncing:"@",padding:"@",direction:"@",scrollbarX:"@",scrollbarY:"@",startX:"@",startY:"@",scrollEventInterval:"@"}),a.direction=a.direction||"y",j(f.padding)&&a.$watch(f.padding,function(a){(g||d).toggleClass("padding",!!a)}),"false"===f.scroll||(m={},i?(d.addClass("overflow-scroll"),m={el:d[0],delegateHandle:e.delegateHandle,startX:a.$eval(a.startX)||0,startY:a.$eval(a.startY)||0,nativeScrolling:!0}):m={el:d[0],delegateHandle:e.delegateHandle,locking:"true"===(e.locking||"true"),bouncing:a.$eval(a.hasBouncing),startX:a.$eval(a.startX)||0,startY:a.$eval(a.startY)||0,scrollbarX:a.$eval(a.scrollbarX)!==!1,scrollbarY:a.$eval(a.scrollbarY)!==!1,scrollingX:a.direction.indexOf("x")>=0,scrollingY:a.direction.indexOf("y")>=0,scrollEventInterval:parseInt(a.scrollEventInterval,10)||10,scrollingComplete:k},h=b("$ionicScroll",{$scope:a,scrollViewOptions:m}),a.scrollCtrl=h,a.$on("$destroy",function(){m&&(m.scrollingComplete=n,delete m.el),g=null,d=null,e.$$element=null}))}var g,h,i;return a.addClass("scroll-content ionic-scroll"),"false"!=e.scroll?(g=m('<div class="scroll"></div>'),g.append(a.contents()),a.append(g)):a.addClass("scroll-content-false"),i="false"!==e.overflowScroll&&("true"===e.overflowScroll||!d.scrolling.jsScrolling()),i&&(i=!a[0].querySelector("[collection-repeat]")),{pre:f}}}}]),g.directive("exposeAsideWhen",["$window",function(a){return{restrict:"A",require:"^ionSideMenus",link:function(b,c,d,e){function f(){var b="large"==d.exposeAsideWhen?"(min-width:768px)":d.exposeAsideWhen;e.exposeAside(a.matchMedia(b).matches),e.activeAsideResizing(!1)}function g(){e.activeAsideResizing(!0),j()}var j,h="large"==d.exposeAsideWhen?"(min-width:768px)":d.exposeAsideWhen,i=a.matchMedia(h);i.addListener(function(){g()}),j=ionic.debounce(function(){b.$apply(f)},300,!1),b.$evalAsync(f)}}}]),w="onHold onTap onDoubleTap onTouch onRelease onDragStart onDrag onDragEnd onDragUp onDragRight onDragDown onDragLeft onSwipe onSwipeUp onSwipeRight onSwipeDown onSwipeLeft".split(" "),w.forEach(function(a){g.directive(a,c(a))}),g.directive("ionHeaderBar",d(!0)).directive("ionFooterBar",d(!1)),g.directive("ionInfiniteScroll",["$timeout",function(a){return{restrict:"E",require:["?^$ionicScroll","ionInfiniteScroll"],template:function(a,b){return b.icon?'<i class="icon {{icon()}} icon-refreshing {{scrollingType}}"></i>':'<ion-spinner icon="{{spinner()}}"></ion-spinner>'
},scope:!0,controller:"$ionInfiniteScroll",link:function(b,c,d,e){var i,k,f=e[1],g=f.scrollCtrl=e[0],h=f.jsScrolling=!g.isNative();if(h)f.scrollView=g.scrollView,b.scrollingType="js-scrolling",g.$element.on("scroll",f.checkBounds);else{if(i=ionic.DomUtil.getParentOrSelfWithClass(c[0].parentNode,"overflow-scroll"),f.scrollEl=i,!i)throw"Infinite scroll must be used inside a scrollable div";f.scrollEl.addEventListener("scroll",f.checkBounds)}k=j(d.immediateCheck)?b.$eval(d.immediateCheck):!0,k&&a(function(){f.checkBounds()})}}}]),x=-1,g.directive("ionInput",[function(){return{restrict:"E",controller:["$scope","$element",function(a,b){this.$scope=a,this.$element=b,this.setInputAriaLabeledBy=function(a){var c=b[0].querySelectorAll("input,textarea");c.length&&c[0].setAttribute("aria-labelledby",a)},this.focus=function(){var a=b[0].querySelectorAll("input,textarea");a.length&&a[0].focus()}}]}}]),g.directive("ionLabel",[function(){return{restrict:"E",require:"?^ionInput",compile:function(){return function(a,b,c,d){var f,e=b[0];b.addClass("input-label"),b.attr("aria-label",b.text()),f=e.id||"_label-"+ ++x,e.id||b.attr("id",f),d&&(d.setInputAriaLabeledBy(f),b.on("click",function(){d.focus()}))}}}}]),g.directive("inputLabel",[function(){return{restrict:"C",require:"?^ionInput",compile:function(){return function(a,b,c,d){var f,e=b[0];b.attr("aria-label",b.text()),f=e.id||"_label-"+ ++x,e.id||b.attr("id",f),d&&d.setInputAriaLabeledBy(f)}}}}]),g.directive("ionItem",["$$rAF",function(a){return{restrict:"E",controller:["$scope","$element",function(a,b){this.$scope=a,this.$element=b}],scope:!0,compile:function(b,c){var f,d=j(c.href)||j(c.ngHref)||j(c.uiSref),e=d||/ion-(delete|option|reorder)-button/i.test(b.html());return e?(f=m(d?"<a></a>":"<div></div>"),f.addClass("item-content"),(j(c.href)||j(c.ngHref))&&(f.attr("ng-href","{{$href()}}"),j(c.target)&&f.attr("target","{{$target()}}")),f.append(b.contents()),b.addClass("item item-complex").append(f)):b.addClass("item"),function(b,c,d){b.$href=function(){return d.href||d.ngHref},b.$target=function(){return d.target};var e=c[0].querySelector(".item-content");e&&b.$on("$collectionRepeatLeave",function(){e&&e.$$ionicOptionsOpen&&(e.style[ionic.CSS.TRANSFORM]="",e.style[ionic.CSS.TRANSITION]="none",a(function(){e.style[ionic.CSS.TRANSITION]=""}),e.$$ionicOptionsOpen=!1)})}}}}]),y='<div class="item-left-edit item-delete enable-pointer-events"></div>',g.directive("ionDeleteButton",function(){function a(a){a.stopPropagation()}return{restrict:"E",require:["^^ionItem","^?ionList"],priority:Number.MAX_VALUE,compile:function(b,c){return c.$set("class",(c["class"]||"")+" button icon button-icon",!0),function(b,c,d,e){function f(){h=h||c.controller("ionList"),h&&h.showDelete()&&i.addClass("visible active")}var g=e[0],h=e[1],i=m(y);i.append(c),g.$element.append(i).addClass("item-left-editable"),c.on("click",a),f(),b.$on("$ionic.reconnectScope",f)}}}}),g.directive("itemFloatingLabel",function(){return{restrict:"C",link:function(a,b){var f,g,c=b[0],d=c.querySelector("input, textarea"),e=c.querySelector(".input-label");d&&e&&(f=function(){d.value?e.classList.add("has-input"):e.classList.remove("has-input")},d.addEventListener("input",f),g=m(d).controller("ngModel"),g&&(g.$render=function(){d.value=g.$viewValue||"",f()}),a.$on("$destroy",function(){d.removeEventListener("input",f)}))}}}),z='<div class="item-options invisible"></div>',g.directive("ionOptionButton",[function(){function a(a){a.stopPropagation()}return{restrict:"E",require:"^ionItem",priority:Number.MAX_VALUE,compile:function(b,c){return c.$set("class",(c["class"]||"")+" button",!0),function(b,c,d,e){e.optionsContainer||(e.optionsContainer=m(z),e.$element.append(e.optionsContainer)),e.optionsContainer.append(c),e.$element.addClass("item-right-editable"),c.on("click",a)}}}}]),A='<div data-prevent-scroll="true" class="item-right-edit item-reorder enable-pointer-events"></div>',g.directive("ionReorderButton",["$parse",function(a){return{restrict:"E",require:["^ionItem","^?ionList"],priority:Number.MAX_VALUE,compile:function(b,c){return c.$set("class",(c["class"]||"")+" button icon button-icon",!0),b[0].setAttribute("data-prevent-scroll",!0),function(b,c,d,e){var i,f=e[0],g=e[1],h=a(d.onReorder);b.$onReorder=function(a,c){h(b,{$fromIndex:a,$toIndex:c})},d.ngClick||d.onClick||d.onclick||(c[0].onclick=function(a){return a.stopPropagation(),!1}),i=m(A),i.append(c),f.$element.append(i).addClass("item-right-editable"),g&&g.showReorder()&&i.addClass("visible active")}}}}]),g.directive("keyboardAttach",function(){return function(a,b){function c(a){if(!ionic.Platform.isAndroid()||ionic.Platform.isFullScreen){var c=a.keyboardHeight||a.detail&&a.detail.keyboardHeight;b.css("bottom",c+"px"),f=b.controller("$ionicScroll"),f&&(f.scrollView.__container.style.bottom=c+e(b[0])+"px")}}function d(){(!ionic.Platform.isAndroid()||ionic.Platform.isFullScreen)&&(b.css("bottom",""),f&&(f.scrollView.__container.style.bottom=""))}ionic.on("native.keyboardshow",c,window),ionic.on("native.keyboardhide",d,window),ionic.on("native.showkeyboard",c,window),ionic.on("native.hidekeyboard",d,window);var f;a.$on("$destroy",function(){ionic.off("native.keyboardshow",c,window),ionic.off("native.keyboardhide",d,window),ionic.off("native.showkeyboard",c,window),ionic.off("native.hidekeyboard",d,window)})}}),g.directive("ionList",["$timeout",function(a){return{restrict:"E",require:["ionList","^?$ionicScroll"],controller:"$ionicList",compile:function(b,c){var d=m('<div class="list">').append(b.contents()).addClass(c.type);return b.append(d),function(b,d,e,f){function g(){function e(a,b){b()&&a.addClass("visible")||a.removeClass("active"),ionic.requestAnimationFrame(function(){b()&&a.addClass("active")||a.removeClass("visible")})}var f=h.listView=new ionic.views.ListView({el:d[0],listEl:d.children()[0],scrollEl:i&&i.element,scrollView:i&&i.scrollView,onReorder:function(b,c,d){var e=m(b).scope();e&&e.$onReorder&&a(function(){e.$onReorder(c,d)})},canSwipe:function(){return h.canSwipeItems()}});b.$on("$destroy",function(){f&&(f.deregister&&f.deregister(),f=null)}),j(c.canSwipe)&&b.$watch("!!("+c.canSwipe+")",function(a){h.canSwipeItems(a)}),j(c.showDelete)&&b.$watch("!!("+c.showDelete+")",function(a){h.showDelete(a)}),j(c.showReorder)&&b.$watch("!!("+c.showReorder+")",function(a){h.showReorder(a)}),b.$watch(function(){return h.showDelete()},function(a,b){if(a||b){a&&h.closeOptionButtons(),h.canSwipeItems(!a),d.children().toggleClass("list-left-editing",a),d.toggleClass("disable-pointer-events",a);var c=m(d[0].getElementsByClassName("item-delete"));e(c,h.showDelete)}}),b.$watch(function(){return h.showReorder()},function(a,b){if(a||b){a&&h.closeOptionButtons(),h.canSwipeItems(!a),d.children().toggleClass("list-right-editing",a),d.toggleClass("disable-pointer-events",a);var c=m(d[0].getElementsByClassName("item-reorder"));e(c,h.showReorder)}})}var h=f[0],i=f[1];a(g)}}}}]),g.directive("menuClose",["$ionicHistory","$timeout",function(a,b){return{restrict:"AC",link:function(c,d){d.bind("click",function(){var c=d.inheritedData("$ionSideMenusController");c&&(a.nextViewOptions({historyRoot:!0,disableAnimate:!0,expire:300}),b(function(){a.nextViewOptions({historyRoot:!1,disableAnimate:!1})},300),c.close())})}}}]),g.directive("menuToggle",function(){return{restrict:"AC",link:function(a,b,c){a.$on("$ionicView.beforeEnter",function(a,c){if(c.enableBack){var d=b.inheritedData("$ionSideMenusController");d.enableMenuWithBackViews()||b.addClass("hide")}else b.removeClass("hide")}),b.bind("click",function(){var a=b.inheritedData("$ionSideMenusController");a&&a.toggle(c.menuToggle)})}}}),g.directive("ionModal",[function(){return{restrict:"E",transclude:!0,replace:!0,controller:[function(){}],template:'<div class="modal-backdrop"><div class="modal-backdrop-bg"></div><div class="modal-wrapper" ng-transclude></div></div>'}}]),g.directive("ionModalView",function(){return{restrict:"E",compile:function(a){a.addClass("modal")}}}),g.directive("ionNavBackButton",["$ionicConfig","$document",function(a,b){return{restrict:"E",require:"^ionNavBar",compile:function(c,d){function e(a){return/ion-|icon/.test(a.className)}var g,h,i,j,k,l,m,n,o,f=b[0].createElement("button");for(g in d.$attr)f.setAttribute(d.$attr[g],d[g]);for(d.ngClick||f.setAttribute("ng-click","$ionicGoBack()"),f.className="button back-button hide buttons "+(c.attr("class")||""),f.innerHTML=c.html()||"",l=e(c[0]),m=0;m<c[0].childNodes.length;m++)h=c[0].childNodes[m],1===h.nodeType?e(h)?l=!0:h.classList.contains("default-title")?j=!0:h.classList.contains("previous-title")&&(k=!0):i||3!==h.nodeType||(i=!!h.nodeValue.trim());return n=a.backButton.icon(),!l&&n&&"none"!==n&&(f.innerHTML='<i class="icon '+n+'"></i> '+f.innerHTML,f.className+=" button-clear"),i||(o=b[0].createElement("span"),o.className="back-text",!j&&a.backButton.text()&&(o.innerHTML+='<span class="default-title">'+a.backButton.text()+"</span>"),!k&&a.backButton.previousTitleText()&&(o.innerHTML+='<span class="previous-title"></span>'),f.appendChild(o)),c.attr("class","hide"),c.empty(),{pre:function(a,b,c,d){d.navElement("backButton",f.outerHTML),f=null}}}}}]),g.directive("ionNavBar",function(){return{restrict:"E",controller:"$ionicNavBar",scope:!0,link:function(a,b,c,d){d.init()}}}),g.directive("ionNavButtons",["$document",function(a){return{require:"^ionNavBar",restrict:"E",compile:function(b,c){var e,f,d="left";return/^primary|secondary|right$/i.test(c.side||"")&&(d=c.side.toLowerCase()),e=a[0].createElement("span"),e.className=d+"-buttons",e.innerHTML=b.html(),f=d+"Buttons",b.attr("class","hide"),b.empty(),{pre:function(a,b,c,d){var g=b.parent().data("$ionViewController");g?g.navElement(f,e.outerHTML):d.navElement(f,e.outerHTML),e=null}}}}}]),g.directive("navDirection",["$ionicViewSwitcher",function(a){return{restrict:"A",priority:1e3,link:function(b,c,d){c.bind("click",function(){a.nextDirection(d.navDirection)})}}}]),g.directive("ionNavTitle",["$document",function(a){return{require:"^ionNavBar",restrict:"E",compile:function(b,c){var f,d="title",e=a[0].createElement("span");for(f in c.$attr)e.setAttribute(c.$attr[f],c[f]);return e.classList.add("nav-bar-title"),e.innerHTML=b.html(),b.attr("class","hide"),b.empty(),{pre:function(a,b,c,f){var g=b.parent().data("$ionViewController");g?g.navElement(d,e.outerHTML):f.navElement(d,e.outerHTML),e=null}}}}}]),g.directive("navTransition",["$ionicViewSwitcher",function(a){return{restrict:"A",priority:1e3,link:function(b,c,d){c.bind("click",function(){a.nextTransition(d.navTransition)})}}}]),g.directive("ionNavView",["$state","$ionicConfig",function(a,b){return{restrict:"E",terminal:!0,priority:2e3,transclude:!0,controller:"$ionicNavView",compile:function(c,d,e){return c.addClass("view-container"),ionic.DomUtil.cachedAttr(c,"nav-view-transition",b.views.transition()),function(b,c,d,f){function g(b){var c=a.$current&&a.$current.locals[i.name];c&&(b||c!==h)&&(h=c,i.state=c.$$state,f.register(c))}var h,i;e(b,function(a){c.append(a)}),i=f.init(),b.$on("$stateChangeSuccess",function(){g(!1)}),b.$on("$viewContentLoading",function(){g(!1)}),g(!0)}}}}]),g.config(["$provide",function(a){a.decorator("ngClickDirective",["$delegate",function(a){return a.shift(),a}])}]).factory("$ionicNgClick",["$parse",function(a){return function(b,c,d){var e=angular.isFunction(d)?d:a(d);c.on("click",function(a){b.$apply(function(){e(b,{$event:a})})}),c.onclick=n}}]).directive("ngClick",["$ionicNgClick",function(a){return function(b,c,d){a(b,c,d.ngClick)}}]).directive("ionStopEvent",function(){return{restrict:"A",link:function(a,b,c){b.bind(c.ionStopEvent,f)}}}),g.directive("ionPane",function(){return{restrict:"E",link:function(a,b){b.addClass("pane")}}}),g.directive("ionPopover",[function(){return{restrict:"E",transclude:!0,replace:!0,controller:[function(){}],template:'<div class="popover-backdrop"><div class="popover-wrapper" ng-transclude></div></div>'}}]),g.directive("ionPopoverView",function(){return{restrict:"E",compile:function(a){a.append(m('<div class="popover-arrow">')),a.addClass("popover")}}}),g.directive("ionRadio",function(){return{restrict:"E",replace:!0,require:"?ngModel",transclude:!0,template:'<label class="item item-radio"><input type="radio" name="radio-group"><div class="radio-content"><div class="item-content disable-pointer-events" ng-transclude></div><i class="radio-icon disable-pointer-events icon ion-checkmark"></i></div></label>',compile:function(a,b){var c,d;return b.icon&&(c=a.find("i"),c.removeClass("ion-checkmark").addClass(b.icon)),d=a.find("input"),i({name:b.name,value:b.value,disabled:b.disabled,"ng-value":b.ngValue,"ng-model":b.ngModel,"ng-disabled":b.ngDisabled,"ng-change":b.ngChange,"ng-required":b.ngRequired,required:b.required},function(a,b){j(a)&&d.attr(b,a)}),function(a,b,c){a.getValue=function(){return a.ngValue||c.value}}}}}),g.directive("ionRefresher",[function(){return{restrict:"E",replace:!0,require:["?^$ionicScroll","ionRefresher"],controller:"$ionicRefresher",template:'<div class="scroll-refresher invisible" collection-repeat-ignore><div class="ionic-refresher-content" ng-class="{\'ionic-refresher-with-text\': pullingText || refreshingText}"><div class="icon-pulling" ng-class="{\'pulling-rotation-disabled\':disablePullingRotation}"><i class="icon {{pullingIcon}}"></i></div><div class="text-pulling" ng-bind-html="pullingText"></div><div class="icon-refreshing"><ion-spinner ng-if="showSpinner" icon="{{spinner}}"></ion-spinner><i ng-if="showIcon" class="icon {{refreshingIcon}}"></i></div><div class="text-refreshing" ng-bind-html="refreshingText"></div></div></div>',link:function(a,b,c,d){var e=d[0],f=d[1];!e||e.isNative()?f.init():(b[0].classList.add("js-scrolling"),e._setRefresher(a,b[0],f.getRefresherDomMethods()),a.$on("scroll.refreshComplete",function(){a.$evalAsync(function(){e.scrollView.finishPullToRefresh()})}))}}}]),g.directive("ionScroll",["$timeout","$controller","$ionicBind","$ionicConfig",function(a,b,c,d){return{restrict:"E",scope:!0,controller:function(){},compile:function(a,e){function f(a,d,e){var f,i;c(a,e,{direction:"@",paging:"@",$onScroll:"&onScroll",scroll:"@",scrollbarX:"@",scrollbarY:"@",zooming:"@",minZoom:"@",maxZoom:"@"}),a.direction=a.direction||"y",j(e.padding)&&a.$watch(e.padding,function(a){g.toggleClass("padding",!!a)}),a.$eval(a.paging)===!0&&g.addClass("scroll-paging"),a.direction||(a.direction="y"),f=a.$eval(a.paging)===!0,h&&d.addClass("overflow-scroll"),d.addClass("scroll-"+a.direction),i={el:d[0],delegateHandle:e.delegateHandle,locking:"true"===(e.locking||"true"),bouncing:a.$eval(e.hasBouncing),paging:f,scrollbarX:a.$eval(a.scrollbarX)!==!1,scrollbarY:a.$eval(a.scrollbarY)!==!1,scrollingX:a.direction.indexOf("x")>=0,scrollingY:a.direction.indexOf("y")>=0,zooming:a.$eval(a.zooming)===!0,maxZoom:a.$eval(a.maxZoom)||3,minZoom:a.$eval(a.minZoom)||.5,preventDefault:!0,nativeScrolling:h},f&&(i.speedMultiplier=.8,i.bouncing=!1),b("$ionicScroll",{$scope:a,scrollViewOptions:i})}var g,h;return a.addClass("scroll-view ionic-scroll"),g=m('<div class="scroll"></div>'),g.append(a.contents()),a.append(g),h="false"!==e.overflowScroll&&("true"===e.overflowScroll||!d.scrolling.jsScrolling()),{pre:f}}}}]),g.directive("ionSideMenu",function(){return{restrict:"E",require:"^ionSideMenus",scope:!0,compile:function(a,b){return angular.isUndefined(b.isEnabled)&&b.$set("isEnabled","true"),angular.isUndefined(b.width)&&b.$set("width","275"),a.addClass("menu menu-"+b.side),function(a,c,d,e){a.side=d.side||"left";var f=e[a.side]=new ionic.views.SideMenu({width:b.width,el:c[0],isEnabled:!0});a.$watch(d.width,function(a){var b=+a;b&&b==a&&f.setWidth(+a)}),a.$watch(d.isEnabled,function(a){f.setIsEnabled(!!a)})}}}}),g.directive("ionSideMenuContent",["$timeout","$ionicGesture","$window",function(a,b,c){return{restrict:"EA",require:"^ionSideMenus",scope:!0,compile:function(d,e){function f(f,g,h,i){function k(a){0!==i.getOpenAmount()?(i.close(),a.gesture.srcEvent.preventDefault(),p=null,q=null):p||(p=ionic.tap.pointerCoord(a.gesture.srcEvent))}function l(a){i.isDraggableTarget(a)&&"x"==o(a)&&(i._handleDrag(a),a.gesture.srcEvent.preventDefault())}function m(a){"x"==o(a)&&a.gesture.srcEvent.preventDefault()}function n(a){i._endDrag(a),p=null,q=null}function o(a){if(q)return q;if(a&&a.gesture){if(p){var b=ionic.tap.pointerCoord(a.gesture.srcEvent),c=Math.abs(b.x-p.x),d=Math.abs(b.y-p.y),e=d>c?"y":"x";return Math.max(c,d)>30&&(q=e),e}p=ionic.tap.pointerCoord(a.gesture.srcEvent)}return"y"}var r,s,t,u,v,w,x,y,p=null,q=null;j(e.dragContent)?f.$watch(e.dragContent,function(a){i.canDragContent(a)}):i.canDragContent(!0),j(e.edgeDragThreshold)&&f.$watch(e.edgeDragThreshold,function(a){i.edgeDragThreshold(a)}),r={element:d[0],onDrag:function(){},endDrag:function(){},setCanScroll:function(a){var c,d,b=g[0].querySelector(".scroll");b&&(c=angular.element(b.parentElement),c&&(d=c.scope(),d.scrollCtrl&&d.scrollCtrl.freezeScrollShut(!a)))},getTranslateX:function(){return f.sideMenuContentTranslateX||0},setTranslateX:ionic.animationFrameThrottle(function(b){var c=r.offsetX+b;g[0].style[ionic.CSS.TRANSFORM]="translate3d("+c+"px,0,0)",a(function(){f.sideMenuContentTranslateX=b})}),setMarginLeft:ionic.animationFrameThrottle(function(a){a?(a=parseInt(a,10),g[0].style[ionic.CSS.TRANSFORM]="translate3d("+a+"px,0,0)",g[0].style.width=c.innerWidth-a+"px",r.offsetX=a):(g[0].style[ionic.CSS.TRANSFORM]="translate3d(0,0,0)",g[0].style.width="",r.offsetX=0)}),setMarginRight:ionic.animationFrameThrottle(function(a){a?(a=parseInt(a,10),g[0].style.width=c.innerWidth-a+"px",r.offsetX=a):(g[0].style.width="",r.offsetX=0),g[0].style[ionic.CSS.TRANSFORM]="translate3d(0,0,0)"}),setMarginLeftAndRight:ionic.animationFrameThrottle(function(a,b){a=a&&parseInt(a,10)||0,b=b&&parseInt(b,10)||0;var d=a+b;d>0?(g[0].style[ionic.CSS.TRANSFORM]="translate3d("+a+"px,0,0)",g[0].style.width=c.innerWidth-d+"px",r.offsetX=a):(g[0].style[ionic.CSS.TRANSFORM]="translate3d(0,0,0)",g[0].style.width="",r.offsetX=0)}),enableAnimation:function(){f.animationEnabled=!0,g[0].classList.add("menu-animated")},disableAnimation:function(){f.animationEnabled=!1,g[0].classList.remove("menu-animated")},offsetX:0},i.setContent(r),s={stop_browser_behavior:!1},s.prevent_default_directions=["left","right"],t=b.on("tap",k,g,s),u=b.on("dragright",l,g,s),v=b.on("dragleft",l,g,s),w=b.on("dragup",m,g,s),x=b.on("dragdown",m,g,s),y=b.on("release",n,g,s),f.$on("$destroy",function(){r&&(r.element=null,r=null),b.off(v,"dragleft",l),b.off(u,"dragright",l),b.off(w,"dragup",m),b.off(x,"dragdown",m),b.off(y,"release",n),b.off(t,"tap",k)})}return d.addClass("menu-content pane"),{pre:f}}}}]),g.directive("ionSideMenus",["$ionicBody",function(a){return{restrict:"ECA",controller:"$ionicSideMenus",compile:function(b,c){function d(b,c,d,e){e.enableMenuWithBackViews(b.$eval(d.enableMenuWithBackViews)),b.$on("$ionicExposeAside",function(c,d){b.$exposeAside||(b.$exposeAside={}),b.$exposeAside.active=d,a.enableClass(d,"aside-open")}),b.$on("$ionicView.beforeEnter",function(a,c){c.historyId&&(b.$activeHistoryId=c.historyId)}),b.$on("$destroy",function(){a.removeClass("menu-open","aside-open")})}return c.$set("class",(c["class"]||"")+" view"),{pre:d}}}}]),g.directive("ionSlideBox",["$animate","$timeout","$compile","$ionicSlideBoxDelegate","$ionicHistory","$ionicScrollDelegate",function(a,b,c,d,e,f){return{restrict:"E",replace:!0,transclude:!0,scope:{autoPlay:"=",doesContinue:"@",slideInterval:"@",showPager:"@",pagerClick:"&",disableScroll:"@",onSlideChanged:"&",activeSlide:"=?",bounce:"@"},controller:["$scope","$element","$attrs",function(a,c,g){function h(a){a&&!i.isScrollFreeze?f.freezeAllScrolls(a):!a&&i.isScrollFreeze&&f.freezeAllScrolls(!1),i.isScrollFreeze=a}var p,i=this,k=a.$eval(a.doesContinue)===!0,l=a.$eval(a.bounce)!==!1,m=j(g.autoPlay)?!!a.autoPlay:!1,n=m?a.$eval(a.slideInterval)||4e3:0,o=new ionic.views.Slider({el:c[0],auto:n,continuous:k,startSlide:a.activeSlide,bouncing:l,slidesChanged:function(){a.currentSlide=o.currentIndex(),b(function(){})},callback:function(c){a.currentSlide=c,a.onSlideChanged({index:a.currentSlide,$index:a.currentSlide}),a.$parent.$broadcast("slideBox.slideChanged",c),a.activeSlide=c,b(function(){})},onDrag:function(){h(!0)},onDragEnd:function(){h(!1)}});o.enableSlide(a.$eval(g.disableScroll)!==!0),a.$watch("activeSlide",function(a){j(a)&&o.slide(a)}),a.$on("slideBox.nextSlide",function(){o.next()}),a.$on("slideBox.prevSlide",function(){o.prev()}),a.$on("slideBox.setSlide",function(a,b){o.slide(b)}),this.__slider=o,p=d._registerInstance(o,g.delegateHandle,function(){return e.isActiveScope(a)}),a.$on("$destroy",function(){p(),o.kill()}),this.slidesCount=function(){return o.slidesCount()},this.onPagerClick=function(b){a.pagerClick({index:b})},b(function(){o.load()})}],template:'<div class="slider"><div class="slider-slides" ng-transclude></div></div>',link:function(b,d,e){function f(){if(!g){var a=b.$new();g=m("<ion-pager></ion-pager>"),d.append(g),g=c(g)(a)}return g}a.enabled(!1,d),j(e.showPager)||(b.showPager=!0,f().toggleClass("hide",!1)),e.$observe("showPager",function(a){void 0!==a&&(a=b.$eval(a),f().toggleClass("hide",!a))});var g}}}]).directive("ionSlide",function(){return{restrict:"E",require:"?^ionSlideBox",compile:function(a){a.addClass("slider-slide")}}}).directive("ionPager",function(){return{restrict:"E",replace:!0,require:"^ionSlideBox",template:'<div class="slider-pager"><span class="slider-pager-page" ng-repeat="slide in numSlides() track by $index" ng-class="{active: $index == currentSlide}" ng-click="pagerClick($index)"><i class="icon ion-record"></i></span></div>',link:function(a,b,c,d){var e=function(a){for(var c=b[0].children,d=c.length,e=0;d>e;e++)e==a?c[e].classList.add("active"):c[e].classList.remove("active")};a.pagerClick=function(a){d.onPagerClick(a)},a.numSlides=function(){return new Array(d.slidesCount())},a.$watch("currentSlide",function(a){e(a)})}}}),g.directive("ionSlides",["$animate","$timeout","$compile",function(a,b,c){return{restrict:"E",transclude:!0,scope:{options:"=",slider:"="},template:'<div class="swiper-container"><div class="swiper-wrapper" ng-transclude></div><div ng-hide="!showPager" class="swiper-pagination"></div></div>',controller:["$scope","$element",function(a,d){var f,g,e=this;this.update=function(){b(function(){e.__slider&&(e.__slider.update(),e._options.loop&&e.__slider.createLoop(),e.__slider.slides.length>10&&(a.showPager=!1))})},this.rapidUpdate=ionic.debounce(function(){e.update()},50),this.getSlider=function(){return e.__slider},f=a.options||{},g=angular.extend({pagination:".swiper-pagination",paginationClickable:!0,lazyLoading:!0,preloadImages:!1},f),this._options=g,b(function(){var b=new ionic.views.Swiper(d.children()[0],g,a,c);e.__slider=b,a.slider=e.__slider,a.$on("$destroy",function(){b.destroy()})})}],link:function(a){a.showPager=!0}}}]).directive("ionSlidePage",[function(){return{restrict:"E",require:"?^ionSlides",transclude:!0,replace:!0,template:'<div class="swiper-slide" ng-transclude></div>',link:function(a,b,c,d){d.rapidUpdate()}}}]),g.directive("ionSpinner",function(){return{restrict:"E",controller:"$ionicSpinner",link:function(a,b,c,d){var e=d.init();b.addClass("spinner spinner-"+e),b.on("$destroy",function(){d.stop()})}}}),g.directive("ionTab",["$compile","$ionicConfig","$ionicBind","$ionicViewSwitcher","$timeout",function(a,b,c,d,e){function f(a,b){return j(b)?" "+a+'="'+b+'"':""}return{restrict:"E",require:["^ionTabs","ionTab"],controller:"$ionicTab",scope:!0,compile:function(g,h){var i,j,k,l,n,o;for(i="<ion-tab-nav"+f("ng-click",h.ngClick)+f("title",h.title)+f("icon",h.icon)+f("icon-on",h.iconOn)+f("icon-off",h.iconOff)+f("badge",h.badge)+f("badge-style",h.badgeStyle)+f("hidden",h.hidden)+f("disabled",h.disabled)+f("class",h["class"])+"></ion-tab-nav>",j=document.createElement("div"),k=0;k<g[0].children.length;k++)j.appendChild(g[0].children[k].cloneNode(!0));return l=j.childElementCount,g.empty(),l&&("ION-NAV-VIEW"===j.children[0].tagName&&(n=j.children[0].getAttribute("name"),j.children[0].classList.add("view-container"),o=!0),1===l&&(j=j.children[0]),o||j.classList.add("pane"),j.classList.add("tab-content")),function(f,g,h,k){function o(){u.tabMatchesState()&&t.select(f,!1)}function p(c){c&&l?(v||(r=f.$new(),s=m(j),d.viewEleIsActive(s,!0),t.$element.append(s),a(s)(r),v=!0),d.viewEleIsActive(s,!0)):v&&s&&(b.views.maxCache()>0?e(function(){d.viewEleIsActive(s,!1)},100):q())}function q(){r&&r.$destroy(),v&&s&&s.remove(),j.innerHTML="",v=r=s=null}var r,s,w,t=k[0],u=k[1],v=!1;f.$tabSelected=!1,c(f,h,{onSelect:"&",onDeselect:"&",title:"@",uiSref:"@",href:"@"}),t.add(f),f.$on("$destroy",function(){f.$tabsDestroy||t.remove(f),w.isolateScope().$destroy(),w.remove(),w=j=s=null}),g[0].removeAttribute("title"),n&&(u.navViewName=f.navViewName=n),f.$on("$stateChangeSuccess",o),o(),w=m(i),w.data("$ionTabsController",t),w.data("$ionTabController",u),t.$tabsElement.append(a(w)(f)),f.$watch("$tabSelected",p),f.$on("$ionicView.afterEnter",function(){d.viewEleIsActive(s,f.$tabSelected)}),f.$on("$ionicView.clearCache",function(){f.$tabSelected||q()})}}}}]),g.directive("ionTabNav",[function(){return{restrict:"E",replace:!0,require:["^ionTabs","^ionTab"],template:"<a ng-class=\"{'tab-item-active': isTabActive(), 'has-badge':badge, 'tab-hidden':isHidden()}\" "+' ng-disabled="disabled()" class="tab-item"><span class="badge {{badgeStyle}}" ng-if="badge">{{badge}}</span><i class="icon {{getIconOn()}}" ng-if="getIconOn() && isTabActive()"></i><i class="icon {{getIconOff()}}" ng-if="getIconOff() && !isTabActive()"></i><span class="tab-title" ng-bind-html="title"></span></a>',scope:{title:"@",icon:"@",iconOn:"@",iconOff:"@",badge:"=",hidden:"@",disabled:"&",badgeStyle:"@","class":"@"},link:function(a,b,c,d){var e=d[0],f=d[1];b[0].removeAttribute("title"),a.selectTab=function(a){a.preventDefault(),e.select(f.$scope,!0)},c.ngClick||b.on("click",function(b){a.$apply(function(){a.selectTab(b)})}),a.isHidden=function(){return"true"===c.hidden||c.hidden===!0?!0:!1},a.getIconOn=function(){return a.iconOn||a.icon},a.getIconOff=function(){return a.iconOff||a.icon},a.isTabActive=function(){return e.selectedTab()===f.$scope}}}}]),g.directive("ionTabs",["$ionicTabsDelegate","$ionicConfig",function(a,b){return{restrict:"E",scope:!0,controller:"$ionicTabs",compile:function(c){function d(b,c,d,e){function g(a,b){a.stopPropagation();var c=e.previousSelectedTab();c&&c.$broadcast(a.name.replace("NavView","Tabs"),b)}var h=a._registerInstance(e,d.delegateHandle,e.hasActiveScope);e.$scope=b,e.$element=c,e.$tabsElement=m(c[0].querySelector(".tabs")),b.$watch(function(){return c[0].className},function(a){var c=-1!==a.indexOf("tabs-top"),d=-1!==a.indexOf("tabs-item-hide");b.$hasTabs=!c&&!d,b.$hasTabsTop=c&&!d,b.$emit("$ionicTabs.top",b.$hasTabsTop)}),b.$on("$ionicNavView.beforeLeave",g),b.$on("$ionicNavView.afterLeave",g),b.$on("$ionicNavView.leave",g),b.$on("$destroy",function(){b.$tabsDestroy=!0,h(),e.$tabsElement=e.$element=e.$scope=f=null,delete b.$hasTabs,delete b.$hasTabsTop})}function e(a,b,c,d){d.selectedTab()||d.select(0)}var f=m('<div class="tab-nav tabs">');return f.append(c.contents()),c.append(f).addClass("tabs-"+b.tabs.position()+" tabs-"+b.tabs.style()),{pre:d,post:e}}}}]),g.directive("ionTitle",[function(){return{restrict:"E",compile:function(a){a.addClass("title")}}}]),g.directive("ionToggle",["$timeout","$ionicConfig",function(a,b){return{restrict:"E",replace:!0,require:"?ngModel",transclude:!0,template:'<div class="item item-toggle"><div ng-transclude></div><label class="toggle"><input type="checkbox"><div class="track"><div class="handle"></div></div></label></div>',compile:function(a,c){var d=a.find("input");return i({name:c.name,"ng-value":c.ngValue,"ng-model":c.ngModel,"ng-checked":c.ngChecked,"ng-disabled":c.ngDisabled,"ng-true-value":c.ngTrueValue,"ng-false-value":c.ngFalseValue,"ng-change":c.ngChange,"ng-required":c.ngRequired,required:c.required},function(a,b){j(a)&&d.attr(b,a)}),c.toggleClass&&a[0].getElementsByTagName("label")[0].classList.add(c.toggleClass),a.addClass("toggle-"+b.form.toggle()),function(a,b){var c=b[0].getElementsByTagName("label")[0],d=c.children[0],e=c.children[1],f=e.children[0],g=m(d).controller("ngModel");a.toggle=new ionic.views.Toggle({el:c,track:e,checkbox:d,handle:f,onChange:function(){g&&(g.$setViewValue(d.checked),a.$apply())}}),a.$on("$destroy",function(){a.toggle.destroy()})}}}}]),g.directive("ionView",function(){return{restrict:"EA",priority:1e3,controller:"$ionicView",compile:function(a){return a.addClass("pane"),a[0].removeAttribute("title"),function(a,b,c,d){d.init()}}}})}(),define("ionicAngular",["angular","ionic","uiRouter","angularAnimate","angularSanitize","ngResource"],function(){}),define("app",["angular","uiRouter","services","controllers","directives","ionicAngular"],function(angular){var app=angular.module("app",["ionic","ngResource","app.controllers","app.directives","app.services","ui.router"],function($httpProvider){$httpProvider.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8";var param=function(obj){var name,value,fullSubName,subName,subValue,innerObj,i,query="";for(name in obj)if(value=obj[name],value instanceof Array)for(i=0;i<value.length;++i)subValue=value[i],fullSubName=name+"["+i+"]",innerObj={},innerObj[fullSubName]=subValue,query+=param(innerObj)+"&";else if(value instanceof Object)for(subName in value)subValue=value[subName],fullSubName=name+"["+subName+"]",innerObj={},innerObj[fullSubName]=subValue,query+=param(innerObj)+"&";else void 0!==value&&null!==value&&(query+=encodeURIComponent(name)+"="+encodeURIComponent(value)+"&");return query.length?query.substr(0,query.length-1):query};$httpProvider.defaults.transformRequest=[function(data){return angular.isObject(data)&&"[object File]"!==String(data)?param(data):data}]});return app}),define("routes",["app"],function(app){app.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state("index",{url:"/index","abstract":!0,templateUrl:"templates/tabs.html"}).state("product",{url:"/product","abstract":!0,templateUrl:"templates/tabs.html"}).state("activite",{url:"/activite","abstract":!0,templateUrl:"templates/tabs.html"}).state("cart",{url:"/cart","abstract":!0,templateUrl:"templates/tabs.html"}).state("mine",{url:"/mine","abstract":!0,templateUrl:"templates/tabs.html"}).state("money",{url:"/money","abstract":!0,templateUrl:"templates/tabs.html"}).state("index.index",{url:"/index",views:{index:{templateUrl:"templates/index/shouye.html",controller:"indexController"}}}).state("mine.games",{url:"/games",cache:!1,views:{mine:{templateUrl:"templates/mine/games.html",controller:"gamesController"}}}).state("index.recharge",{url:"/recharge",cache:!1,views:{index:{templateUrl:"templates/mine/recharge.html",controller:"rechargeController"}}}).state("index.guide",{url:"/guide",cache:!1,views:{index:{templateUrl:"templates/index/guide.html",controller:"guideController"}}}).state("index.integral",{url:"/integral",cache:!1,views:{index:{templateUrl:"templates/index/integral.html",controller:"integralController"}}}).state("index.showSignHistory",{url:"/showSignHistory",cache:!1,views:{index:{templateUrl:"templates/index/showSignHistory.html",controller:"showSignHistoryController"}}}).state("index.buyRecord",{url:"/buyRecord",cache:!1,views:{index:{templateUrl:"templates/mine/buyRecord.html",controller:"buyRecordController"}}}).state("index.buyRecordDetail",{url:"/buyRecordDetail/:pid/:pterm",cache:!1,views:{index:{templateUrl:"templates/mine/buyRecordDetail.html",controller:"buyRecordDetailController"}}}).state("index.product_zt",{url:"/product_zt",views:{index:{templateUrl:"templates/index/productlist.html",controller:"productztController"}}}).state("index.search",{url:"/search",views:{index:{templateUrl:"templates/index/search.html",controller:"searchController"}}}).state("index.payFinish",{url:"/payFinish",cache:!1,views:{index:{templateUrl:"templates/cart/zfwcNew.html",controller:"payFinishController"}}}).state("index.newproductdetail",{url:"/newproductdetail",cache:!1,views:{index:{templateUrl:"templates/product/newproductdetail.html",controller:"newproductDetailController"}}}).state("index.productQishu",{url:"/productQishu/:pid/:pterm",cache:!1,views:{index:{templateUrl:"templates/index/productQishu.html",controller:"productQishuController"}}}).state("index.orderdetailshare",{url:"/orderdetailshare/:wd/:pid",cache:!1,views:{index:{templateUrl:"templates/index/orderdetail_share.html",controller:"orderdetailShareController"}}}).state("index.productorderdetailshare",{url:"/productorderdetailshare/:pid/:wd",cache:!1,views:{index:{templateUrl:"templates/index/orderdetail_share.html",controller:"orderdetailShareController"}}}).state("index.orderdetail_share_detail",{url:"/orderdetail_share_detail",views:{index:{templateUrl:"templates/index/orderdetail_share_detail.html",controller:"orderShareDetailsController"}}}).state("index.userIndex",{url:"/userIndex/:u",cache:!1,views:{index:{templateUrl:"templates/index/userIndex.html",controller:"userIndexController"}}}).state("index.userCard",{url:"/userCard",views:{index:{templateUrl:"templates/activite/userCard.html",controller:"userCardController"}}}).state("index.shopnumber",{url:"/shopnumber",views:{index:{templateUrl:"templates/activite/shopnumber.html",controller:"shopnumberController"}}}).state("index.productJisuan",{url:"/productJisuan/:pid/:pterm",views:{index:{templateUrl:"templates/activite/productJisuan.html",controller:"productJisuanController"}}}).state("index.userAddress",{url:"/userAddress/:type",cache:!1,views:{index:{templateUrl:"templates/mine/userAddress.html",controller:"userAddressController"}}}).state("index.userAddressSubmit",{url:"/userAddressSubmit",cache:!1,views:{index:{templateUrl:"templates/mine/userAddressSubmit.html",controller:"userAddressSubmitController"}}}).state("index.userAddressSel",{url:"/userAddressSel/:pid/:pterm",cache:!1,views:{index:{templateUrl:"templates/mine/userAddressSel.html",controller:"userAddressSelController"}}}).state("index.shaidan",{url:"/shaidan",cache:!1,views:{index:{templateUrl:"templates/mine/shaidan.html",controller:"shaidanController"}}}).state("index.log",{url:"/log",cache:!1,views:{index:{templateUrl:"templates/mine/log.html",controller:"logController"}}}).state("index.binding",{url:"/binding",cache:!1,views:{index:{templateUrl:"templates/mine/binding.html",controller:"bindingController"}}}).state("index.SecurityCode",{url:"/SecurityCode",cache:!1,views:{index:{templateUrl:"templates/mine/securityCode.html",controller:"securityCodeController"}}}).state("index.setPassword",{url:"/setPassword",cache:!1,views:{index:{templateUrl:"templates/mine/setPassword.html",controller:"setPasswordController"}}}).state("index.changePassword",{url:"/changePassword",cache:!1,views:{index:{templateUrl:"templates/mine/changePassword.html",controller:"changePasswordController"}}}).state("index.register",{url:"/register",cache:!1,views:{index:{templateUrl:"templates/mine/register.html",controller:"registerController"}}}).state("index.registerStepTwo",{url:"/registerStepTwo",cache:!1,views:{index:{templateUrl:"templates/mine/registerStepTwo.html",controller:"registerStepTwoController"}}}).state("index.registerStepThree",{url:"/registerStepThree",cache:!1,views:{index:{templateUrl:"templates/mine/registerStepThree.html",controller:"registerStepThreeController"}}}).state("index.logPassback",{url:"/logPassback",cache:!1,views:{index:{templateUrl:"templates/mine/logPassback.html",controller:"logPassbackController"}}}).state("index.imageText",{url:"/imageText/:pid",cache:!1,views:{index:{templateUrl:"templates/product/imageText.html",controller:"imageTextController"}}}).state("index.proBuyDetail",{url:"/proBuyDetail/:pid/:pterm",cache:!1,views:{index:{templateUrl:"templates/product/proBuyDetail.html",controller:"proBuyDetailController"}}}).state("index.newbie",{url:"/newbie",cache:!1,views:{index:{templateUrl:"templates/index/newbie.html",controller:"newbieController"}}}).state("index.newbieDetail",{url:"/newbieDetail",cache:!1,views:{index:{templateUrl:"templates/product/newbiedetail.html",controller:"newbieDetailController"}}}).state("index.newOrderForm",{url:"/newOrderForm/:pid/:num",cache:!1,views:{index:{templateUrl:"templates/cart/newbieOrderForm.html",controller:"newOrderFormController"}}}).state("index.newbieQishu",{url:"/newbieQishu/:pid/:pterm",cache:!1,views:{index:{templateUrl:"templates/index/productQishu.html",controller:"newbieQishuController"}}}).state("index.about",{url:"/about",views:{index:{templateUrl:"templates/mine/about.html",controller:"aboutController"}}}).state("index.inviteIntr",{url:"/inviteIntr",views:{index:{templateUrl:"templates/index/inviteIntr.html",controller:"inviteIntrController"}}}).state("index.winGoods",{url:"/winGoods/:hd",cache:!1,views:{index:{templateUrl:"templates/mine/winGoods.html",controller:"winGoodsController"}}}).state("index.logisticsAct",{url:"/logisticsAct/:id",cache:!1,views:{index:{templateUrl:"templates/mine/logisticsAct.html",controller:"logisticsActController"}}}).state("index.shaidanAct",{url:"/shaidanAct/:id",cache:!1,views:{index:{templateUrl:"templates/mine/shaidanAct.html",controller:"shaidanActController"}}}).state("index.userAddressActSel",{url:"/userAddressActSel/:id",cache:!1,views:{index:{templateUrl:"templates/mine/userAddressActSel.html",controller:"userAddressActSelController"}}}).state("index.winGoodsDetail",{url:"/winGoodsDetail/:id",cache:!1,views:{index:{templateUrl:"templates/mine/winGoodsDetail.html",controller:"winGoodsDetailController"}}}).state("index.logistics",{url:"/logistics/:pid/:pterm",cache:!1,views:{index:{templateUrl:"templates/mine/logistics.html",controller:"logisticsController"}}}).state("index.userVirtualAddrSubmit",{url:"/userVirtualAddrSubmit/:pid/:pterm",cache:!1,views:{index:{templateUrl:"templates/mine/userVirtualAddressSubmit.html",controller:"userVirtualAddressSubmitController"}}}).state("index.noticeDetail",{url:"/noticeDetail/:nid",cache:!1,views:{index:{templateUrl:"templates/mine/noticeDetail.html",controller:"noticeDetailController"}}}).state("index.gainerList",{url:"/gainerList/:pid",cache:!1,views:{index:{templateUrl:"templates/product/gainerList.html",controller:"gainerListController"}}}).state("index.snatch",{url:"/snatch",cache:!1,views:{index:{templateUrl:"templates/index/snatch.html",controller:"snatchController"}}}).state("product.productlist",{url:"/productlist",views:{product:{templateUrl:"templates/product/newproductlist.html",controller:"productlistController"}}}).state("product.search",{url:"/search",views:{product:{templateUrl:"templates/index/search.html",controller:"searchController"}}}).state("product.newproductdetail",{url:"/newproductdetail",cache:!1,views:{product:{templateUrl:"templates/product/newproductdetail.html",controller:"newproductDetailController"}}}).state("product.imageText",{url:"/imageText/:pid",cache:!1,views:{product:{templateUrl:"templates/product/imageText.html",controller:"imageTextController"}}}).state("product.proBuyDetail",{url:"/proBuyDetail/:pid/:pterm",cache:!1,views:{product:{templateUrl:"templates/product/proBuyDetail.html",controller:"proBuyDetailController"}}}).state("product.productQishu",{url:"/productQishu/:pid/:pterm",cache:!1,views:{product:{templateUrl:"templates/index/productQishu.html",controller:"productQishuController"}}}).state("product.productorderdetailshare",{url:"/productorderdetailshare/:pid/:wd",cache:!1,views:{product:{templateUrl:"templates/index/orderdetail_share.html",controller:"orderdetailShareController"}}}).state("product.orderdetail_share_detail",{url:"/orderdetail_share_detail",views:{product:{templateUrl:"templates/index/orderdetail_share_detail.html",controller:"orderShareDetailsController"}}}).state("product.userIndex",{url:"/userIndex/:u",cache:!1,views:{product:{templateUrl:"templates/index/userIndex.html",controller:"userIndexController"}}}).state("product.userCard",{url:"/userCard",views:{product:{templateUrl:"templates/activite/userCard.html",controller:"userCardController"}}}).state("product.shopnumber",{url:"/shopnumber",views:{product:{templateUrl:"templates/activite/shopnumber.html",controller:"shopnumberController"}}}).state("product.productJisuan",{url:"/productJisuan/:pid/:pterm",views:{product:{templateUrl:"templates/activite/productJisuan.html",controller:"productJisuanController"}}}).state("product.newbieDetail",{url:"/newbieDetail",cache:!1,views:{product:{templateUrl:"templates/product/newbiedetail.html",controller:"newbieDetailController"}}}).state("product.newOrderForm",{url:"/newOrderForm/:pid/:num",cache:!1,views:{product:{templateUrl:"templates/cart/newbieOrderForm.html",controller:"newOrderFormController"}}}).state("product.newbieQishu",{url:"/newbieQishu/:pid/:pterm",cache:!1,views:{product:{templateUrl:"templates/index/productQishu.html",controller:"newbieQishuController"}}}).state("product.payFinish",{url:"/payFinish",cache:!1,views:{product:{templateUrl:"templates/cart/zfwcNew.html",controller:"payFinishController"}}}).state("product.log",{url:"/log",cache:!1,views:{product:{templateUrl:"templates/mine/log.html",controller:"logController"}}}).state("product.binding",{url:"/binding",cache:!1,views:{product:{templateUrl:"templates/mine/binding.html",controller:"bindingController"}}}).state("product.SecurityCode",{url:"/SecurityCode",cache:!1,views:{product:{templateUrl:"templates/mine/securityCode.html",controller:"securityCodeController"}}}).state("product.setPassword",{url:"/setPassword",cache:!1,views:{product:{templateUrl:"templates/mine/setPassword.html",controller:"setPasswordController"}}}).state("product.changePassword",{url:"/changePassword",cache:!1,views:{product:{templateUrl:"templates/mine/changePassword.html",controller:"changePasswordController"}}}).state("product.register",{url:"/register",cache:!1,views:{product:{templateUrl:"templates/mine/register.html",controller:"registerController"}}}).state("product.registerStepTwo",{url:"/registerStepTwo",cache:!1,views:{product:{templateUrl:"templates/mine/registerStepTwo.html",controller:"registerStepTwoController"}}}).state("product.registerStepThree",{url:"/registerStepThree",cache:!1,views:{product:{templateUrl:"templates/mine/registerStepThree.html",controller:"registerStepThreeController"}}}).state("product.logPassback",{url:"/logPassback",cache:!1,views:{product:{templateUrl:"templates/mine/logPassback.html",controller:"logPassbackController"}}}).state("product.buyRecord",{url:"/buyRecord",cache:!1,views:{product:{templateUrl:"templates/mine/buyRecord.html",controller:"buyRecordController"}}}).state("product.about",{url:"/about",views:{product:{templateUrl:"templates/mine/about.html",controller:"aboutController"}}}).state("product.buyRecordDetail",{url:"/buyRecordDetail/:pid/:pterm",cache:!1,views:{product:{templateUrl:"templates/mine/buyRecordDetail.html",controller:"buyRecordDetailController"}}}).state("product.shaidan",{url:"/shaidan",cache:!1,views:{product:{templateUrl:"templates/mine/shaidan.html",controller:"shaidanController"}}}).state("product.logistics",{url:"/logistics/:pid/:pterm",cache:!1,views:{product:{templateUrl:"templates/mine/logistics.html",controller:"logisticsController"}}}).state("product.userAddressSel",{url:"/userAddressSel/:pid/:pterm",cache:!1,views:{product:{templateUrl:"templates/mine/userAddressSel.html",controller:"userAddressSelController"}}}).state("product.userVirtualAddrSubmit",{url:"/userVirtualAddrSubmit/:pid/:pterm",cache:!1,views:{product:{templateUrl:"templates/mine/userVirtualAddressSubmit.html",controller:"userVirtualAddressSubmitController"}}}).state("product.userAddress",{url:"/userAddress/:type",cache:!1,views:{product:{templateUrl:"templates/mine/userAddress.html",controller:"userAddressController"}}}).state("product.userAddressSubmit",{url:"/userAddressSubmit",cache:!1,views:{product:{templateUrl:"templates/mine/userAddressSubmit.html",controller:"userAddressSubmitController"}}}).state("product.winGoods",{url:"/winGoods/:hd",cache:!1,views:{product:{templateUrl:"templates/mine/winGoods.html",controller:"winGoodsController"}}}).state("product.logisticsAct",{url:"/logisticsAct/:id",cache:!1,views:{product:{templateUrl:"templates/mine/logisticsAct.html",controller:"logisticsActController"}}}).state("product.shaidanAct",{url:"/shaidanAct/:id",cache:!1,views:{product:{templateUrl:"templates/mine/shaidanAct.html",controller:"shaidanActController"}}}).state("product.userAddressActSel",{url:"/userAddressActSel/:id",cache:!1,views:{product:{templateUrl:"templates/mine/userAddressActSel.html",controller:"userAddressActSelController"}}}).state("product.winGoodsDetail",{url:"/winGoodsDetail/:id",cache:!1,views:{product:{templateUrl:"templates/mine/winGoodsDetail.html",controller:"winGoodsDetailController"}}}).state("product.noticeDetail",{url:"/noticeDetail/:nid",cache:!1,views:{product:{templateUrl:"templates/mine/noticeDetail.html",controller:"noticeDetailController"}}}).state("product.gainerList",{url:"/gainerList/:pid",cache:!1,views:{product:{templateUrl:"templates/product/gainerList.html",controller:"gainerListController"}}}).state("product.recharge",{url:"/recharge",cache:!1,views:{product:{templateUrl:"templates/mine/recharge.html",controller:"rechargeController"}}}).state("activite.newPublishList",{url:"/newPublishList",views:{activite:{templateUrl:"templates/activite/newPublishList.html",controller:"newPublishListController"}}}).state("activite.newproductdetail",{url:"/newproductdetail",cache:!1,views:{activite:{templateUrl:"templates/product/newproductdetail.html",controller:"newproductDetailController"}}}).state("activite.productQishu",{url:"/productQishu/:pid/:pterm",cache:!1,views:{activite:{templateUrl:"templates/index/productQishu.html",controller:"productQishuController"}}}).state("activite.productorderdetailshare",{url:"/productorderdetailshare/:pid/:wd",cache:!1,views:{activite:{templateUrl:"templates/index/orderdetail_share.html",controller:"orderdetailShareController"}}}).state("activite.orderdetail_share_detail",{url:"/orderdetail_share_detail",views:{activite:{templateUrl:"templates/index/orderdetail_share_detail.html",controller:"orderShareDetailsController"}}}).state("activite.userIndex",{url:"/userIndex/:u",cache:!1,views:{activite:{templateUrl:"templates/index/userIndex.html",controller:"userIndexController"}}}).state("activite.userCard",{url:"/userCard",views:{activite:{templateUrl:"templates/activite/userCard.html",controller:"userCardController"}}}).state("activite.shopnumber",{url:"/shopnumber",views:{activite:{templateUrl:"templates/activite/shopnumber.html",controller:"shopnumberController"}}}).state("activite.productJisuan",{url:"/productJisuan/:pid/:pterm",views:{activite:{templateUrl:"templates/activite/productJisuan.html",controller:"productJisuanController"}}}).state("activite.newbieDetail",{url:"/newbieDetail",cache:!1,views:{activite:{templateUrl:"templates/product/newbiedetail.html",controller:"newbieDetailController"}}}).state("activite.newOrderForm",{url:"/newOrderForm/:pid/:num",cache:!1,views:{activite:{templateUrl:"templates/cart/newbieOrderForm.html",controller:"newOrderFormController"}}}).state("activite.newbieQishu",{url:"/newbieQishu/:pid/:pterm",cache:!1,views:{activite:{templateUrl:"templates/index/productQishu.html",controller:"newbieQishuController"}}}).state("activite.payFinish",{url:"/payFinish",cache:!1,views:{activite:{templateUrl:"templates/cart/zfwcNew.html",controller:"payFinishController"}}}).state("activite.buyRecord",{url:"/buyRecord",cache:!1,views:{activite:{templateUrl:"templates/mine/buyRecord.html",controller:"buyRecordController"}}}).state("activite.log",{url:"/log",cache:!1,views:{activite:{templateUrl:"templates/mine/log.html",controller:"logController"}}}).state("activite.binding",{url:"/binding",cache:!1,views:{activite:{templateUrl:"templates/mine/binding.html",controller:"bindingController"}}}).state("activite.SecurityCode",{url:"/SecurityCode",cache:!1,views:{activite:{templateUrl:"templates/mine/securityCode.html",controller:"securityCodeController"}}}).state("activite.setPassword",{url:"/setPassword",cache:!1,views:{activite:{templateUrl:"templates/mine/setPassword.html",controller:"setPasswordController"}}}).state("activite.changePassword",{url:"/changePassword",cache:!1,views:{activite:{templateUrl:"templates/mine/changePassword.html",controller:"changePasswordController"}}}).state("activite.register",{url:"/register",cache:!1,views:{activite:{templateUrl:"templates/mine/register.html",controller:"registerController"}}}).state("activite.registerStepTwo",{url:"/registerStepTwo",cache:!1,views:{activite:{templateUrl:"templates/mine/registerStepTwo.html",controller:"registerStepTwoController"}}}).state("activite.registerStepThree",{url:"/registerStepThree",cache:!1,views:{activite:{templateUrl:"templates/mine/registerStepThree.html",controller:"registerStepThreeController"}}}).state("activite.logPassback",{url:"/logPassback",cache:!1,views:{activite:{templateUrl:"templates/mine/logPassback.html",controller:"logPassbackController"}}}).state("activite.about",{url:"/about",views:{activite:{templateUrl:"templates/mine/about.html",controller:"aboutController"}}}).state("activite.imageText",{url:"/imageText/:pid",cache:!1,views:{activite:{templateUrl:"templates/product/imageText.html",controller:"imageTextController"}}}).state("activite.proBuyDetail",{url:"/proBuyDetail/:pid/:pterm",cache:!1,views:{activite:{templateUrl:"templates/product/proBuyDetail.html",controller:"proBuyDetailController"}}}).state("activite.buyRecordDetail",{url:"/buyRecordDetail/:pid/:pterm",cache:!1,views:{activite:{templateUrl:"templates/mine/buyRecordDetail.html",controller:"buyRecordDetailController"}}}).state("activite.shaidan",{url:"/shaidan",cache:!1,views:{activite:{templateUrl:"templates/mine/shaidan.html",controller:"shaidanController"}}}).state("activite.logistics",{url:"/logistics/:pid/:pterm",cache:!1,views:{activite:{templateUrl:"templates/mine/logistics.html",controller:"logisticsController"}}}).state("activite.userAddressSel",{url:"/userAddressSel/:pid/:pterm",cache:!1,views:{activite:{templateUrl:"templates/mine/userAddressSel.html",controller:"userAddressSelController"}}}).state("activite.userVirtualAddrSubmit",{url:"/userVirtualAddrSubmit/:pid/:pterm",cache:!1,views:{activite:{templateUrl:"templates/mine/userVirtualAddressSubmit.html",controller:"userVirtualAddressSubmitController"}}}).state("activite.userAddress",{url:"/userAddress/:type",cache:!1,views:{activite:{templateUrl:"templates/mine/userAddress.html",controller:"userAddressController"}}}).state("activite.userAddressSubmit",{url:"/userAddressSubmit",cache:!1,views:{activite:{templateUrl:"templates/mine/userAddressSubmit.html",controller:"userAddressSubmitController"}}}).state("activite.winGoods",{url:"/winGoods/:hd",cache:!1,views:{activite:{templateUrl:"templates/mine/winGoods.html",controller:"winGoodsController"}}}).state("activite.logisticsAct",{url:"/logisticsAct/:id",cache:!1,views:{activite:{templateUrl:"templates/mine/logisticsAct.html",controller:"logisticsActController"}}}).state("activite.shaidanAct",{url:"/shaidanAct/:id",cache:!1,views:{activite:{templateUrl:"templates/mine/shaidanAct.html",controller:"shaidanActController"}}}).state("activite.userAddressActSel",{url:"/userAddressActSel/:id",cache:!1,views:{activite:{templateUrl:"templates/mine/userAddressActSel.html",controller:"userAddressActSelController"}}}).state("activite.winGoodsDetail",{url:"/winGoodsDetail/:id",cache:!1,views:{activite:{templateUrl:"templates/mine/winGoodsDetail.html",controller:"winGoodsDetailController"}}}).state("activite.noticeDetail",{url:"/noticeDetail/:nid",cache:!1,views:{activite:{templateUrl:"templates/mine/noticeDetail.html",controller:"noticeDetailController"}}}).state("activite.gainerList",{url:"/gainerList/:pid",cache:!1,views:{activite:{templateUrl:"templates/product/gainerList.html",controller:"gainerListController"}}}).state("activite.recharge",{url:"/recharge",cache:!1,views:{activite:{templateUrl:"templates/mine/recharge.html",controller:"rechargeController"}}}).state("cart.cart",{url:"/cart",views:{cart:{templateUrl:"templates/cart/cart.html",controller:"cartController"}}}).state("cart.orderForm",{url:"/orderForm",cache:!1,views:{cart:{templateUrl:"templates/cart/orderForm.html",controller:"orderFormController"}}}).state("cart.payFinish",{url:"/payFinish",cache:!1,views:{cart:{templateUrl:"templates/cart/zfwcNew.html",controller:"payFinishController"}}}).state("cart.buyRecord",{url:"/buyRecord",cache:!1,views:{cart:{templateUrl:"templates/mine/buyRecord.html",controller:"buyRecordController"}}}).state("cart.buyRecordDetail",{url:"/buyRecordDetail/:pid/:pterm",cache:!1,views:{cart:{templateUrl:"templates/mine/buyRecordDetail.html",controller:"buyRecordDetailController"}}}).state("cart.newproductdetail",{url:"/newproductdetail",cache:!1,views:{cart:{templateUrl:"templates/product/newproductdetail.html",controller:"newproductDetailController"}}}).state("cart.productQishu",{url:"/productQishu/:pid/:pterm",cache:!1,views:{cart:{templateUrl:"templates/index/productQishu.html",controller:"productQishuController"}}}).state("cart.productorderdetailshare",{url:"/productorderdetailshare/:pid/:wd",cache:!1,views:{cart:{templateUrl:"templates/index/orderdetail_share.html",controller:"orderdetailShareController"}}}).state("cart.orderdetail_share_detail",{url:"/orderdetail_share_detail",views:{cart:{templateUrl:"templates/index/orderdetail_share_detail.html",controller:"orderShareDetailsController"}}}).state("cart.userIndex",{url:"/userIndex/:u",cache:!1,views:{cart:{templateUrl:"templates/index/userIndex.html",controller:"userIndexController"}}}).state("cart.userCard",{url:"/userCard",views:{cart:{templateUrl:"templates/activite/userCard.html",controller:"userCardController"}}}).state("cart.shopnumber",{url:"/shopnumber",views:{cart:{templateUrl:"templates/activite/shopnumber.html",controller:"shopnumberController"}}}).state("cart.productJisuan",{url:"/productJisuan/:pid/:pterm",views:{cart:{templateUrl:"templates/activite/productJisuan.html",controller:"productJisuanController"}}}).state("cart.userAddress",{url:"/userAddress/:type",cache:!1,views:{cart:{templateUrl:"templates/mine/userAddress.html",controller:"userAddressController"}}}).state("cart.userAddressSubmit",{url:"/userAddressSubmit",cache:!1,views:{cart:{templateUrl:"templates/mine/userAddressSubmit.html",controller:"userAddressSubmitController"}}}).state("cart.userVirtualAddrSubmit",{url:"/userVirtualAddrSubmit/:pid/:pterm",cache:!1,views:{cart:{templateUrl:"templates/mine/userVirtualAddressSubmit.html",controller:"userVirtualAddressSubmitController"}}}).state("cart.userAddressSel",{url:"/userAddressSel/:pid/:pterm",cache:!1,views:{cart:{templateUrl:"templates/mine/userAddressSel.html",controller:"userAddressSelController"}}}).state("cart.shaidan",{url:"/shaidan",cache:!1,views:{cart:{templateUrl:"templates/mine/shaidan.html",controller:"shaidanController"}}}).state("cart.log",{url:"/log",cache:!1,views:{cart:{templateUrl:"templates/mine/log.html",controller:"logController"}}}).state("cart.binding",{url:"/binding",cache:!1,views:{cart:{templateUrl:"templates/mine/binding.html",controller:"bindingController"}}}).state("cart.SecurityCode",{url:"/SecurityCode",cache:!1,views:{cart:{templateUrl:"templates/mine/securityCode.html",controller:"securityCodeController"}}}).state("cart.setPassword",{url:"/setPassword",cache:!1,views:{cart:{templateUrl:"templates/mine/setPassword.html",controller:"setPasswordController"}}}).state("cart.changePassword",{url:"/changePassword",cache:!1,views:{cart:{templateUrl:"templates/mine/changePassword.html",controller:"changePasswordController"}}}).state("cart.register",{url:"/register",cache:!1,views:{cart:{templateUrl:"templates/mine/register.html",controller:"registerController"}}}).state("cart.registerStepTwo",{url:"/registerStepTwo",cache:!1,views:{cart:{templateUrl:"templates/mine/registerStepTwo.html",controller:"registerStepTwoController"}}}).state("cart.registerStepThree",{url:"/registerStepThree",cache:!1,views:{cart:{templateUrl:"templates/mine/registerStepThree.html",controller:"registerStepThreeController"}}}).state("cart.logPassback",{url:"/logPassback",cache:!1,views:{cart:{templateUrl:"templates/mine/logPassback.html",controller:"logPassbackController"}}}).state("cart.newbieDetail",{url:"/newbieDetail",cache:!1,views:{cart:{templateUrl:"templates/product/newbiedetail.html",controller:"newbieDetailController"}}}).state("cart.newOrderForm",{url:"/newOrderForm/:pid/:num",cache:!1,views:{cart:{templateUrl:"templates/cart/newbieOrderForm.html",controller:"newOrderFormController"}}}).state("cart.newbieQishu",{url:"/newbieQishu/:pid/:pterm",cache:!1,views:{cart:{templateUrl:"templates/index/productQishu.html",controller:"newbieQishuController"}}}).state("cart.about",{url:"/about",views:{cart:{templateUrl:"templates/mine/about.html",controller:"aboutController"}}}).state("cart.imageText",{url:"/imageText/:pid",cache:!1,views:{cart:{templateUrl:"templates/product/imageText.html",controller:"imageTextController"}}}).state("cart.proBuyDetail",{url:"/proBuyDetail/:pid/:pterm",cache:!1,views:{cart:{templateUrl:"templates/product/proBuyDetail.html",controller:"proBuyDetailController"}}}).state("cart.logistics",{url:"/logistics/:pid/:pterm",cache:!1,views:{cart:{templateUrl:"templates/mine/logistics.html",controller:"logisticsController"}}}).state("cart.winGoods",{url:"/winGoods/:hd",cache:!1,views:{cart:{templateUrl:"templates/mine/winGoods.html",controller:"winGoodsController"}}}).state("cart.logisticsAct",{url:"/logisticsAct/:id",cache:!1,views:{cart:{templateUrl:"templates/mine/logisticsAct.html",controller:"logisticsActController"}}}).state("cart.shaidanAct",{url:"/shaidanAct/:id",cache:!1,views:{cart:{templateUrl:"templates/mine/shaidanAct.html",controller:"shaidanActController"}}}).state("cart.userAddressActSel",{url:"/userAddressActSel/:id",cache:!1,views:{cart:{templateUrl:"templates/mine/userAddressActSel.html",controller:"userAddressActSelController"}}}).state("cart.winGoodsDetail",{url:"/winGoodsDetail/:id",cache:!1,views:{cart:{templateUrl:"templates/mine/winGoodsDetail.html",controller:"winGoodsDetailController"}}}).state("cart.noticeDetail",{url:"/noticeDetail/:nid",cache:!1,views:{cart:{templateUrl:"templates/mine/noticeDetail.html",controller:"noticeDetailController"}}}).state("cart.gainerList",{url:"/gainerList/:pid",cache:!1,views:{cart:{templateUrl:"templates/product/gainerList.html",controller:"gainerListController"}}}).state("cart.recharge",{url:"/recharge",cache:!1,views:{cart:{templateUrl:"templates/mine/recharge.html",controller:"rechargeController"}}}).state("mine.myIndex",{url:"/myIndex",views:{mine:{templateUrl:"templates/mine/myIndex.html",controller:"myIndexController"}}}).state("mine.recharge",{url:"/recharge",cache:!1,views:{mine:{templateUrl:"templates/mine/recharge.html",controller:"rechargeController"}}}).state("mine.payFinish",{url:"/payFinish",cache:!1,views:{mine:{templateUrl:"templates/cart/zfwcNew.html",controller:"payFinishController"}}}).state("mine.buyRecord",{url:"/buyRecord",cache:!1,views:{mine:{templateUrl:"templates/mine/buyRecord.html",controller:"buyRecordController"}}}).state("mine.winGoods",{url:"/winGoods/:hd",cache:!1,views:{mine:{templateUrl:"templates/mine/winGoods.html",controller:"winGoodsController"}}}).state("mine.logisticsAct",{url:"/logisticsAct/:id",cache:!1,views:{mine:{templateUrl:"templates/mine/logisticsAct.html",controller:"logisticsActController"}}}).state("mine.shaidanAct",{url:"/shaidanAct/:id",cache:!1,views:{mine:{templateUrl:"templates/mine/shaidanAct.html",controller:"shaidanActController"}}}).state("mine.userAddressActSel",{url:"/userAddressActSel/:id",cache:!1,views:{mine:{templateUrl:"templates/mine/userAddressActSel.html",controller:"userAddressActSelController"}}}).state("mine.userVirtualAddrActSubmit",{url:"/userVirtualAddrActSubmit/:id",cache:!1,views:{mine:{templateUrl:"templates/mine/userVirtualAddrActSubmit.html",controller:"userVirtualAddrActSubmitController"}}}).state("mine.buyRecordDetail",{url:"/buyRecordDetail/:pid/:pterm",cache:!1,views:{mine:{templateUrl:"templates/mine/buyRecordDetail.html",controller:"buyRecordDetailController"}}}).state("mine.winGoodsDetail",{url:"/winGoodsDetail/:id",cache:!1,views:{mine:{templateUrl:"templates/mine/winGoodsDetail.html",controller:"winGoodsDetailController"}}}).state("mine.newproductdetail",{url:"/newproductdetail",cache:!1,views:{mine:{templateUrl:"templates/product/newproductdetail.html",controller:"newproductDetailController"}}}).state("mine.productQishu",{url:"/productQishu/:pid/:pterm",cache:!1,views:{mine:{templateUrl:"templates/index/productQishu.html",controller:"productQishuController"}}}).state("mine.productorderdetailshare",{url:"/productorderdetailshare/:pid/:wd",cache:!1,views:{mine:{templateUrl:"templates/index/orderdetail_share.html",controller:"orderdetailShareController"}}}).state("mine.shareList",{url:"/shareList",cache:!1,views:{mine:{templateUrl:"templates/mine/shareList.html",controller:"shareListController"}}}).state("mine.shareDetail",{url:"/shareDetail/:id",cache:!1,views:{mine:{templateUrl:"templates/mine/shareDetail.html",controller:"shareDetailController"}}}).state("mine.userIndex",{url:"/userIndex/:u",cache:!1,views:{mine:{templateUrl:"templates/index/userIndex.html",controller:"userIndexController"}}}).state("mine.userCard",{url:"/userCard",views:{mine:{templateUrl:"templates/activite/userCard.html",controller:"userCardController"}}}).state("mine.shopnumber",{url:"/shopnumber",views:{mine:{templateUrl:"templates/activite/shopnumber.html",controller:"shopnumberController"}}}).state("mine.productJisuan",{url:"/productJisuan/:pid/:pterm",views:{mine:{templateUrl:"templates/activite/productJisuan.html",controller:"productJisuanController"}}}).state("mine.accountDetail",{url:"/accountDetail",cache:!1,views:{mine:{templateUrl:"templates/mine/accountDetail.html",controller:"accountDetailController"}}}).state("mine.userAddress",{url:"/userAddress/:type",cache:!1,views:{mine:{templateUrl:"templates/mine/userAddress.html",controller:"userAddressController"}}}).state("mine.userAddressSubmit",{url:"/userAddressSubmit",cache:!1,views:{mine:{templateUrl:"templates/mine/userAddressSubmit.html",controller:"userAddressSubmitController"}}}).state("mine.userAddressSel",{url:"/userAddressSel/:pid/:pterm",cache:!1,views:{mine:{templateUrl:"templates/mine/userAddressSel.html",controller:"userAddressSelController"}}}).state("mine.cash",{url:"/cash",cache:!1,views:{mine:{templateUrl:"templates/mine/cash.html",controller:"cashController"}}}).state("mine.traderPassSet",{url:"/traderPassSet",cache:!1,views:{mine:{templateUrl:"templates/mine/traderPassSet.html",controller:"traderPassSetController"}}}).state("mine.shaidan",{url:"/shaidan",cache:!1,views:{mine:{templateUrl:"templates/mine/shaidan.html",controller:"shaidanController"}}}).state("mine.news",{url:"/news",views:{mine:{templateUrl:"templates/mine/news.html",controller:"newsController"}}}).state("mine.ly",{url:"/ly",cache:!1,views:{mine:{templateUrl:"templates/mine/ly.html",controller:"lyController"}}}).state("mine.about",{url:"/about",views:{mine:{templateUrl:"templates/mine/about.html",controller:"aboutController"}}}).state("mine.mySetingSafe",{url:"/mySetingSafe",views:{mine:{templateUrl:"templates/mine/mySetingSafe.html",controller:"mySetingSafeController"}}}).state("mine.mySetingSecret",{url:"/mySetingSecret",views:{mine:{templateUrl:"templates/mine/mySetingSecret.html",controller:"mySetingSecretController"}}}).state("mine.logPassMod",{url:"/logPassMod",views:{mine:{templateUrl:"templates/mine/logPassMod.html",controller:"logPassModController"}}}).state("mine.logistics",{url:"/logistics/:pid/:pterm",cache:!1,views:{mine:{templateUrl:"templates/mine/logistics.html",controller:"logisticsController"}}}).state("mine.myInfo",{url:"/myInfo",cache:!1,views:{mine:{templateUrl:"templates/mine/myInfo.html",controller:"myInfoController"}}}).state("mine.myNickname",{url:"/myNickname",cache:!1,views:{mine:{templateUrl:"templates/mine/myNickname.html",controller:"myNicknameController"}}}).state("mine.mySex",{url:"/mySex",cache:!1,views:{mine:{templateUrl:"templates/mine/mySex.html",controller:"mySexController"}}}).state("mine.myBirthday",{url:"/myBirthday",cache:!1,views:{mine:{templateUrl:"templates/mine/myBirthday.html",controller:"myBirthdayController"}}}).state("mine.myQq",{url:"/myQq",views:{mine:{templateUrl:"templates/mine/myQq.html",controller:"myQqController"}}}).state("mine.myHometown",{url:"/myHometown",views:{mine:{templateUrl:"templates/mine/myHomeTown.html",controller:"myHometownController"}}}).state("mine.mySignature",{url:"/mySignature",views:{mine:{templateUrl:"templates/mine/mySignature.html",controller:"mySignatureController"}}}).state("mine.newbieDetail",{url:"/newbieDetail",cache:!1,views:{mine:{templateUrl:"templates/product/newbiedetail.html",controller:"newbieDetailController"}}}).state("mine.newOrderForm",{url:"/newOrderForm/:pid/:num",cache:!1,views:{mine:{templateUrl:"templates/cart/newbieOrderForm.html",controller:"newOrderFormController"}}}).state("mine.newbieQishu",{url:"/newbieQishu/:pid/:pterm",cache:!1,views:{mine:{templateUrl:"templates/index/productQishu.html",controller:"newbieQishuController"}}}).state("mine.log",{url:"/log",cache:!1,views:{mine:{templateUrl:"templates/mine/log.html",controller:"logController"}}}).state("mine.binding",{url:"/binding",cache:!1,views:{mine:{templateUrl:"templates/mine/binding.html",controller:"bindingController"}}}).state("mine.SecurityCode",{url:"/SecurityCode",cache:!1,views:{mine:{templateUrl:"templates/mine/securityCode.html",controller:"securityCodeController"}}}).state("mine.setPassword",{url:"/setPassword",cache:!1,views:{mine:{templateUrl:"templates/mine/setPassword.html",controller:"setPasswordController"}}}).state("mine.changePassword",{url:"/changePassword",cache:!1,views:{mine:{templateUrl:"templates/mine/changePassword.html",controller:"changePasswordController"}}}).state("mine.register",{url:"/register",cache:!1,views:{mine:{templateUrl:"templates/mine/register.html",controller:"registerController"}}}).state("mine.registerStepTwo",{url:"/registerStepTwo",cache:!1,views:{mine:{templateUrl:"templates/mine/registerStepTwo.html",controller:"registerStepTwoController"}}}).state("mine.registerStepThree",{url:"/registerStepThree",cache:!1,views:{mine:{templateUrl:"templates/mine/registerStepThree.html",controller:"registerStepThreeController"}}}).state("mine.logPassback",{url:"/logPassback",cache:!1,views:{mine:{templateUrl:"templates/mine/logPassback.html",controller:"logPassbackController"}}}).state("mine.mySeting",{url:"/mySeting",cache:!1,views:{mine:{templateUrl:"templates/mine/mySeting.html",controller:"mySetingController"}}}).state("mine.commission",{url:"/commission",cache:!1,views:{mine:{templateUrl:"templates/mine/commission.html",controller:"commissionController"}}}).state("mine.rollOut",{url:"/rollOut",cache:!1,views:{mine:{templateUrl:"templates/mine/rollOut.html",controller:"rollOutController"}}}).state("mine.customerService",{url:"/customerService",cache:!1,views:{mine:{templateUrl:"templates/mine/customerService.html",controller:"customerServiceController"}}}).state("mine.userVirtualAddrSubmit",{url:"/userVirtualAddrSubmit/:pid/:pterm",cache:!1,views:{mine:{templateUrl:"templates/mine/userVirtualAddressSubmit.html",controller:"userVirtualAddressSubmitController"}}}).state("mine.gift",{url:"/gift",cache:!1,views:{mine:{templateUrl:"templates/mine/gift.html",controller:"giftController"}}}).state("mine.integralDetails",{url:"/integralDetails",cache:!1,views:{mine:{templateUrl:"templates/mine/integral.html",controller:"integralDetailsController"}}}).state("mine.imageText",{url:"/imageText/:pid",cache:!1,views:{mine:{templateUrl:"templates/product/imageText.html",controller:"imageTextController"}}}).state("mine.proBuyDetail",{url:"/proBuyDetail/:pid/:pterm",cache:!1,views:{mine:{templateUrl:"templates/product/proBuyDetail.html",controller:"proBuyDetailController"}}}).state("mine.integral",{url:"/integral",cache:!1,views:{mine:{templateUrl:"templates/index/integral.html",controller:"integralController"}}}).state("mine.showSignHistory",{url:"/showSignHistory",cache:!1,views:{mine:{templateUrl:"templates/index/showSignHistory.html",controller:"showSignHistoryController"}}}).state("mine.noticeList",{url:"/noticeList",cache:!1,views:{mine:{templateUrl:"templates/mine/noticeList.html",controller:"noticeListController"}}}).state("mine.noticeDetail",{url:"/noticeDetail/:nid",cache:!1,views:{mine:{templateUrl:"templates/mine/noticeDetail.html",controller:"noticeDetailController"}}}).state("mine.gainerList",{url:"/gainerList/:pid",cache:!1,views:{mine:{templateUrl:"templates/product/gainerList.html",controller:"gainerListController"}}}).state("mine.guide",{url:"/guide",cache:!1,views:{mine:{templateUrl:"templates/index/guide.html",controller:"guideController"}}}).state("mine.supple",{url:"/supple",cache:!1,views:{mine:{templateUrl:"templates/mine/supple.html",controller:"suppleController"}}}).state("index.moneyget",{url:"/moneyget",cache:!1,views:{index:{templateUrl:"templates/index/moneyget.html",controller:"moneygetController"}}}),$urlRouterProvider.otherwise("/index/index")
}])}),define("bootstrap",["ionic","angular","app","routes"],function(ionic,angular,app){var $html,onDeviceReady=function(){angular.bootstrap(document,app.name)};document.addEventListener("deviceready",onDeviceReady,!1),"undefined"==typeof cordova&&($html=angular.element(document.getElementsByTagName("html")[0]),angular.element().ready(function(){try{angular.bootstrap(document,[app.name])}catch(e){console.error(e.stack||e.message||e)}}))}),require.config({paths:{cordova:"cordova",angular:"ionic/js/angular/angular.min",angularAnimate:"ionic/js/angular/angular-animate.min",angularSanitize:"ionic/js/angular/angular-sanitize.min",uiRouter:"ionic/js/angular-ui/angular-ui-router.min",ngResource:"ionic/js/angular/angular-resource.min",ionic:"ionic/js/ionic.min",ionicAngular:"ionic/js/ionic-angular.min",app:"app",config:"config",services:"../js/services/services",factoryServices:"../js/services/factoryServices",mainServices:"../js/services/mainServices",timePickerService:"../js/services/timePickerService",directives:"../js/directives/directives",baseController:"../js/controllers/baseController",indexController:"../js/controllers/indexController",guideController:"../js/controllers/guideController",integralController:"../js/controllers/integralController",showSignHistoryController:"../js/controllers/showSignHistoryController",buyRecordController:"../js/controllers/buyRecordController",buyRecordTwoController:"../js/controllers/buyRecordTwoController",buyRecordDetailController:"../js/controllers/buyRecordDetailController",rechargeController:"../js/controllers/rechargeController",productztController:"../js/controllers/productztController",productlistController:"../js/controllers/productlistController",searchController:"../js/controllers/searchController",newproductDetailController:"../js/controllers/newproductDetailController",productQishuController:"../js/controllers/productQishuController",orderdetailShareController:"../js/controllers/orderdetailShareController",orderShareDetailsController:"../js/controllers/orderShareDetailsController",userIndexController:"../js/controllers/userIndexController",userCardController:"../js/controllers/userCardController",shopnumberController:"../js/controllers/shopnumberController",productJisuanController:"../js/controllers/productJisuanController",newPublishListController:"../js/controllers/newPublishListController",cartController:"../js/controllers/cartController",orderFormController:"../js/controllers/orderFormController",payFinishController:"../js/controllers/payFinishController",myIndexController:"../js/controllers/myIndexController",mySetingController:"../js/controllers/mySetingController",accountDetailController:"../js/controllers/accountDetailController",userAddressController:"../js/controllers/userAddressController",userAddressSubmitController:"../js/controllers/userAddressSubmitController",userAddressSelController:"../js/controllers/userAddressSelController",shaidanController:"../js/controllers/shaidanController",cashController:"../js/controllers/cashController",traderPassSetController:"../js/controllers/traderPassSetController",newsController:"../js/controllers/newsController",lyController:"../js/controllers/lyController",aboutController:"../js/controllers/aboutController",mySetingSafeController:"../js/controllers/mySetingSafeController",logPassModController:"../js/controllers/logPassModController",logisticsController:"../js/controllers/logisticsController",myInfoController:"../js/controllers/myInfoController",myNicknameController:"../js/controllers/myNicknameController",mySexController:"../js/controllers/mySexController",myBirthdayController:"../js/controllers/myBirthdayController",myQqController:"../js/controllers/myQqController",myHometownController:"../js/controllers/myHometownController",mySignatureController:"../js/controllers/mySignatureController",logController:"../js/controllers/logController",bindingController:"../js/controllers/bindingController",securityCodeController:"../js/controllers/securityCodeController",setPasswordController:"../js/controllers/setPasswordController",changePasswordController:"../js/controllers/changePasswordController",registerController:"../js/controllers/registerController",registerStepTwoController:"../js/controllers/registerStepTwoController",registerStepThreeController:"../js/controllers/registerStepThreeController",logPassbackController:"../js/controllers/logPassbackController",commissionController:"../js/controllers/commissionController",rollOutController:"../js/controllers/rollOutController",inviteIntrController:"../js/controllers/inviteIntrController",customerServiceController:"../js/controllers/customerServiceController",userVirtualAddressSubmitController:"../js/controllers/userVirtualAddressSubmitController",giftController:"../js/controllers/giftController",mySetingSecretController:"../js/controllers/mySetingSecretController",integralDetailsController:"../js/controllers/integralDetailsController",imageTextController:"../js/controllers/imageTextController",proBuyDetailController:"../js/controllers/proBuyDetailController",winGoodsController:"../js/controllers/winGoodsController",luckDrawController:"../js/controllers/luckDrawController",winGoodsDetailController:"../js/controllers/winGoodsDetailController",logisticsActController:"../js/controllers/logisticsActController",shaidanActController:"../js/controllers/shaidanActController",userAddressActSelController:"../js/controllers/userAddressActSelController",userVirtualAddrActSubmitController:"../js/controllers/userVirtualAddrActSubmitController",shareListController:"../js/controllers/shareListController",shareDetailController:"../js/controllers/shareDetailController",newbieController:"../js/controllers/newbieController",newbieDetailController:"../js/controllers/newbieDetailController",newOrderFormController:"../js/controllers/newOrderFormController",newbieQishuController:"../js/controllers/newbieQishuController",noticeListController:"../js/controllers/noticeListController",noticeDetailController:"../js/controllers/noticeDetailController",gainerListController:"../js/controllers/gainerListController",snatchController:"../js/controllers/snatchController",suppleController:"../js/controllers/suppleController",moneygetController:"../js/controllers/moneygetController",gamesController:"../js/controllers/gamesController",controllers:"../js/controllers/controllers"},shim:{angular:{exports:"angular"},angularAnimate:{deps:["angular"]},angularSanitize:{deps:["angular"]},uiRouter:{deps:["angular"]},ngResource:{deps:["angular"]},ionic:{deps:["angular"],exports:"ionic"},ionicAngular:{deps:["angular","ionic","uiRouter","angularAnimate","angularSanitize","ngResource"]}},priority:["angular","ionic"],deps:["bootstrap"]}),define("main",function(){});